(self["webpackJsonp_trade-futures"]=self["webpackJsonp_trade-futures"]||[]).push([[4174,6391],{xt2t:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n("D57K"),o=n("/SIk"),a=n.n(o),i=n("wrgj");const l=function(e){return a().createElement(i.Z,(0,r.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 9V6h13.5V2.5l5 5-5 5V9H3zm18 9v-3H7v-3.5l-5 5 5 5V18h14z",fill:"currentColor"}))}},VGiB:(e,t,n)=>{"use strict";n.d(t,{W:()=>c});var r=n("D57K"),o=n("/SIk"),a=n.n(o),i=n("wrgj"),l=n("w7Tp"),s=n("ka4r"),u=function(e){return a().createElement(i.Z,(0,r.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:e.color},e),a().createElement("path",{d:"M20.5 7.42L9.41 18.5 8 17.09l-5-5 1.41-1.42 5 5L19.08 6l1.42 1.42z",fill:e.color}))},c=a().forwardRef((function(e,t){var n=e.isChecked,o=void 0!==n&&n,i=e.value,c=e.disabled,d=e.showChecked,f=void 0!==d&&d,p=e.children,m=(0,r.__rest)(e,["isChecked","value","disabled","showChecked","children"]);return a().createElement(l.Z,(0,r.__assign)({ref:t,as:"li",role:"option",tx:"search",id:i,key:i,title:i,variant:"option",className:o?"bnb-active-option":"",__css:{color:!c&&o?"primary":"t.primary",opacity:c?.4:1}},m),p,f&&a().createElement(a().Fragment,null,a().createElement(s.Z,{flex:1,minWidth:"8px"}),a().createElement(u,{color:o?"primary":"transparent"})))}));c.displayName="SearchOption"},DZYF:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n("D57K"),o=n("/SIk"),a=n.n(o),i=n("w7Tp"),l=n("Ozh7"),s=n("lvqx"),u=n("VGiB"),c=function(e){var t;if(e){var n=e.props;return n&&(null!==(t=n.value)&&void 0!==t?t:"string"===typeof n.children?n.children:"")}},d=function(e){var t=e.label,n=e.onValueChange,d=e.limit,f=void 0===d?5:d,p=e.children,m=e.value,h=e.placeholder,v=e.defaultValue,g=e.renderValue,x=void 0===g?function(e){return function(e){if(e){var t=e.props;return t&&t.children?t.children:t.value}}(a().Children.toArray(p).find((function(t){return c(t)===e})))||e}:g,b=e.filterFunction,y=void 0===b?function(e,t){return t.toLowerCase().startsWith(e.toLowerCase())}:b,w=e.onChange,C=e.onBlur,k=e.disableInput,E=void 0!==k&&k,Z=e.showChecked,_=void 0!==Z&&Z,A=(0,r.__rest)(e,["label","onValueChange","limit","children","value","placeholder","defaultValue","renderValue","filterFunction","onChange","onBlur","disableInput","showChecked"]),B=(0,o.useState)(""),P=B[0],V=B[1],S=(0,o.useState)(v),F=S[0],I=S[1],T=(0,o.useState)(0),z=T[0],L=T[1],O=(0,o.useState)(!1),R=O[0],N=O[1],j=(0,o.useState)({}),H=j[0],M=j[1],D=(0,o.useRef)(null),W=(0,o.useRef)(null),U=(0,o.useRef)({});void 0!==m&&m!==F&&I(m),(0,o.useEffect)((function(){V(m||"")}),[m]);var G=(0,o.useMemo)((function(){return P?a().Children.toArray(p).filter((function(e){return y(P,c(e))})):a().Children.toArray(p)}),[p,P]),K=(0,o.useMemo)((function(){return Array.isArray(G)?Math.min(G.length,f):0}),[G]);(0,o.useEffect)((function(){var e=U.current[c(G[z])];if(e&&e.offsetParent){var t=e.offsetParent.scrollTop,n=40*f,r=e.offsetTop;r<t&&e.offsetParent.scroll(0,t-40),r>=t+n&&e.offsetParent.scroll(0,t+40)}}),[z]),(0,o.useEffect)((function(){var e=function(){N(!1)};return R?window.addEventListener("click",e):window.removeEventListener("click",e),function(){window.removeEventListener("click",e)}}),[R]);var J=function(e){n&&n(e),V(e)},Y=function(){if(null!==W.current){var e=W.current.getBoundingClientRect();e.bottom+40*K>window.innerHeight?M({bottom:e.height+"px"}):M({}),N(!0)}},q=x&&x(F);return a().createElement(i.Z,(0,r.__assign)({ref:W,__css:{position:"relative",outline:"none"}},A),a().createElement(s.Z,{ref:D,sx:{cursor:"pointer"},boxProps:{sx:{width:"100%",".bn-input-suffix":{height:"100%",mr:"0px"}},onClick:function(e){!R&&e.stopPropagation(),Y(),V("")}},suffix:a().createElement(l.Z,{tx:"search",role:"icon",sx:{transform:R?"rotate(180deg)":"rotate(0)"},size:24}),onFocus:E?function(){var e;return null===(e=D.current)||void 0===e?void 0:e.blur()}:function(){},label:t,value:!R&&x?"":P,labelFixed:!0,onChange:function(e){J(e.target.value),!1===R&&Y()},onKeyDown:function(e){return function(e){if(38===e.keyCode){var t=Math.max(z-1,0);L(t)}else if(40===e.keyCode)t=Math.min(z+1,a().Children.count(G)-1),L(t);else if(13===e.keyCode)if(R){if(G[z]){var n=G[z].props,r=n.label||n.value;if(n.disabled)return;J(r),w&&w(r),I(r),D.current&&D.current.blur()}N(!1)}else Y();else 27===e.keyCode&&N(!1)}(e)},onBlur:function(){return setTimeout((function(){C&&C(F)}),300)}}),!F&&!P&&!q&&a().createElement(i.Z,{color:"t.third",sx:{position:"absolute",left:0,bottom:0,right:0,padding:"4px",pointerEvents:"none",height:t?"50%":"100%",wordBreak:"keep-all"}},h),q&&a().createElement(i.Z,{py:1,sx:{opacity:R?.2:1,position:"absolute",left:0,bottom:0,right:0,display:R&&P?"none":"unset",pointerEvents:"none",height:t?"50%":"100%",wordBreak:"keep-all"}},q),a().createElement(i.Z,{as:"ul",role:"listbox",tabIndex:0,tx:"search",variant:"dropdown",__css:(0,r.__assign)({outline:"none",height:R?"auto":0,display:R?"block":"none",maxHeight:40*(.5+f)+"px",width:"auto!important",minWidth:"100%!important"},H)},a().Children.map(G,(function(e,t){return a().createElement(u.W,(0,r.__assign)((0,r.__assign)({},e.props),{isChecked:c(e)===F,showChecked:_,ref:function(t){return U.current[c(e)]=t},onClick:function(n){n.stopPropagation(),function(e){if(e){var t=e.props;return t&&t.disabled}}(e)||(J(c(e)),L(t),w&&w(c(e)),I(c(e)),N(!1))}}))}))),a().createElement(i.Z,{"data-bn-type":"input",as:"input",sx:{display:"none"},value:F||"",readOnly:!0}))};d.displayName="Search";const f=d},gLOn:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Label:()=>A,DeliveryAssetsSelector:()=>B,AssetsHeader:()=>P,AssetsContent:()=>F,default:()=>T});var r=n("5vwO"),o=n("GpFh"),a=n("/SIk"),i=n.n(a),l=n("szIg"),s=n("XVzo"),u=n("w7Tp"),c=n("wGPX"),d=n("/yzf"),f=n("ka4r"),p=n("0RPJ"),m=n("RkbI"),h=n("xt2t"),v=n("cPln"),g=n("klBV"),x=n("8Eqx"),b=n("8uyB"),y=n("LcTY"),w=n("VM/Z"),C=n("FOuV"),k=n("SJeZ"),E=n("rdEq"),Z=n("z4Ks"),_=i().createElement;const A=(0,a.forwardRef)(((e,t)=>{let{children:n}=e,r=(0,o.Z)(e,["children"]);return _(s.Z,Object.assign({variant:"default",colorStyle:"secondary",sz:"tiny",sx:{flex:1,mr:"8px",fontWeight:"normal",":last-of-type":{mr:"0"}},ref:t},r),n)})),B=({balance:e,onChange:t,curAsset:n,sx:o})=>{const a=Object.values(e);return _(u.Z,{sx:(0,r.Z)({ml:"auto"},o)},_(c.ZP,{trigger:"hover",enablePortal:!0,overlay:_(u.Z,{variant:"dropdown",sx:{overflowY:"auto",maxHeight:"190px"}},a.map((e=>{const{asset:n}=e||{};return _(u.Z,{key:n,sx:{px:"sm",padding:"4px 16px",cursor:"pointer",":last-of-type":{pt:"6px",pb:"12px"},zIndex:999},onClick:()=>{t(n)}},_(d.Z,{color:"t.primary",key:n,value:n,sx:{":hover":{color:"primary"},fontSize:"12px"}},n))})))},_(f.Z,{as:"span",sx:{color:"t.primary",cursor:"pointer",alignItems:"center",":hover":{svg:{transform:"rotate(180deg)"}}}},n,_(m.Z,{ml:"4px",color:"t.third",size:16}))))},P=i().memo((({curAsset:e,balance:t,setCurAsset:n,showSelector:r})=>{const o=(0,k.C3)()===w.UW,{isIPad:a}=(0,g.Fs)();return _(u.Z,{sx:{position:"absolute",right:a?"16px":"48px",top:"16px",zIndex:999}},r&&_(B,{curAsset:e,balance:t,onChange:n}),o&&_(h.Z,{sx:{color:"t.yellow200",border:"1px solid",borderColor:"t.yellow200",cursor:"pointer",borderRadius:"2px",fontSize:"16px",ml:"16px"},onClick:()=>{y.T.emit(y.F.OPEN_TRANSFER_MODAL,e)}}))}),(function(e,t){const{curAsset:n,balance:r,setCurAsset:o}=e,{curAsset:a,balance:i,setCurAsset:l}=t,s=Object.keys(r).join(),u=Object.keys(i).join();return n===a&&o===l&&s===u})),V=i().memo((({getFutI18n:e,futUrlConfig:t,locale:n,disabled:r,curAsset:o})=>_(f.Z,{sx:{justifyContent:"space-between",pt:"6px"}},_(A,{onClick:()=>{let e=(0,b.CN)(t.BUYING_URL,{locale:n,crypto:o});e=(0,b.CN)(t.BUYING_URL_ELECTRON,{crypto:o}),window.open(e)},disabled:r},e("buy-crypto",{defaultValue:"Buy Crypto"})),_(A,{onClick:()=>y.T.emit(y.F.OPEN_CONVERT_MODAL),disabled:r,"data-testid":"orderform-convert-button"},e("convert",{defaultValue:"Convert"})),_(A,{onClick:()=>y.T.emit(y.F.OPEN_TRANSFER_MODAL,o),disabled:r,"data-testid":"orderform-transfer-button"},e("transfer",{defaultValue:"Transfer"}))))),S=i().memo((({marginPrecision:e,marginAsset:t})=>{const n=(0,k.w2)(t);return _(d.Z,{color:"t.fifth"},(0,p.GW)(n||0,e,!0)," ",t)})),F=i().memo((({isEmptyBalance:e,loading:t,getFutI18n:n,walletBalance:r,marginPrecision:o,curAsset:a})=>_(i().Fragment,null,!e&&!t&&_(u.Z,{mt:"16px"},_(f.Z,{justifyContent:"space-between",sx:{marginTop:"8px",lineHeight:"16px"}},_(E.m,{tip:n("tradeHistory-positions-walletBalanceTip",{defaultValue:""})},n("tradeHistory-positions-walletBalanceLabel",{defaultValue:"Wallet Balance"})),_(d.Z,{color:"t.fifth"},(0,p.GW)(r||0,o,!0)," ",a)),_(f.Z,{justifyContent:"space-between",sx:{marginTop:"8px",lineHeight:"16px"}},_(E.m,{tip:n("tradeHistory-positions-unrealizedPnlTip",{defaultValue:""})},n("tradeHistory-positions-unrealizedPNLLabel",{defaultValue:"Unrealized PNL"})),_(S,{marginPrecision:o,marginAsset:a}))),e&&!t&&_(v.Z,{showIcon:!0,mt:"12px",flexDirection:"row",variant:"warning"},n("TransferAssetToTrading",{defaultValue:"Please transfer assets into futures account to start trading."}))))),I=({noButtons:e})=>{var t;const{getI18n:n,i18n:{language:r}}=(0,k.yk)(),o=(0,g._n)(),{isExistFutureAccount:i}=(0,g.Pc)(),s=(0,l.useDispatch)(),c=(0,k.KQ)(),d=(0,k.Kc)("loading"),[,[f]]=(0,g.z4)(),{0:p,1:m}=(0,a.useState)(f),{isMobile:h}=(0,g.Fs)(),v=Object.values(c).every((({walletBalance:e})=>!e)),b=Object.values(c).some((({walletBalance:e})=>e<0));return(0,a.useEffect)((()=>{m(f),s.transferAssets.updateState({transferAsset:f})}),[f,s]),h?null:_(u.Z,{fontSize:"12px",px:"16px"},_(P,{getFutI18n:n,curAsset:p,balance:c,setCurAsset:m,showSelector:o}),_(x.U,null),e||!w.Jg&&_(V,{getFutI18n:n,futUrlConfig:C.x,locale:r,base:f,curAsset:p,disabled:!o||!i}),!w.Jg&&b&&_(Z.Z,null),_(F,{isEmptyBalance:v,loading:d,getFutI18n:n,walletBalance:null===(t=c[p])||void 0===t?void 0:t.walletBalance,marginPrecision:4,curAsset:p}))},T=i().memo(I)}}]);