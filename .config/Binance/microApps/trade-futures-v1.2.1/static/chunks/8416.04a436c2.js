(self["webpackJsonp_trade-futures"]=self["webpackJsonp_trade-futures"]||[]).push([[8416],{ZkJp:(e,t,r)=>{"use strict";r.d(t,{y:()=>s});var o=r("D57K"),i=r("/SIk"),a=r.n(i),l=r("w7Tp"),s=(0,i.forwardRef)((function(e,t){var r=e.children,i=(0,o.__rest)(e,["children"]);return a().createElement(l.Z,(0,o.__assign)({},i,{ref:t,__css:{position:["fixed","static"],zIndex:[1,"auto"],left:["0px","unset"],bottom:["0px","unset"],pt:"md",pb:["md","0px"],px:["md","0px"],width:["100%","unset"],boxShadow:["0px 2px 4px rgba(0, 0, 0, 0.08), 0px 0px 4px rgba(0, 0, 0, 0.08)","none"],bg:"popupBg"}}),r)}))},rZ8U:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var o=r("/SIk");const i=(0,o.createContext)({symbol:"",changeSymbol:e=>{console.info(e)},useColumn:e=>({}),actionModifyOrder:e=>Promise.resolve(),actionCancel:(e,t)=>Promise.resolve(),actionModifyConfirmModal:(e,t,r)=>!1,actionStrategyModal:e=>!1,useStrategyOrder:(...e)=>({}),checked:!0,handleHideOtherPairs:e=>!0,emptyText:"You have no open orders.",headers:[]})},Xvf3:(e,t,r)=>{"use strict";r.d(t,{f8:()=>c,HU:()=>u,ZP:()=>m});var o=r("/SIk"),i=r.n(o),a=r("/0Tg"),l=r("ka4r"),s=r("rZ8U"),n=r("+Nt9"),d=i().createElement;const c={bg:"modalBg",p:0,py:"4px",mt:"8px"},u={alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"12px",lineHeight:"16px",p:"minor",whiteSpace:"nowrap",height:"24px",minWidth:"96px",color:"t.primary",":hover":{bg:"line"}},p=()=>{const{getI18n:e}=(0,n.Z)(),{actionCancel:t}=(0,o.useContext)(s.Z);return d(a.Z,{sx:c},[{text:e("actionAll",{defaultValue:"All"}),message:e("actionAllMsg",{defaultValue:"Are you sure you want to cancel all?"})},{text:e("actionLimit",{defaultValue:"Limit"}),message:e("actionLimitMsg",{defaultValue:"Are you sure to cancel all Limit orders?"})},{text:e("actionStopLimit",{defaultValue:"Stop-Limit"}),message:e("actionStopLimitMsg",{defaultValue:"Are you sure to cancel all Stop-Limit orders?"})}].map(((e,r)=>d(l.Z,{key:r,sx:u,onClick:()=>{t(r,e.message)}},e.text))))},m=i().memo(p)},SKkT:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var o=r("5vwO"),i=r("/SIk"),a=r.n(i),l=r("3wSK"),s=r("FOuV"),n=r("SJeZ"),d=r("B+lg"),c=a().createElement;const u=({order:e,onClose:t})=>{const{symbol:r,side:a,positionSide:u,modifyParams:p={},onConfirm:m}=e,{positionMode:y=!1}=(0,n.F7)(),{getI18n:g}=(0,n.yk)(),[h,f]=(0,l.g)(s.Zv,s.Xd),{limitPrice:x,qty:b,amendedField:O}=p,k="BUY"===a?"buy":"sell",Z=(({side:e,positionSide:t,getFutI18n:r,positionMode:o})=>{const i=r("buyLong",{defaultValue:"Buy/Long"}),a=r("sellShort",{defaultValue:"Sell/Short"}),l=r("OpenLong",{defaultValue:"Open Long"}),s=r("OpenShort",{defaultValue:"Open Short"}),n=r("CloseShort",{defaultValue:"Close Short"}),d=r("CloseLong",{defaultValue:"Close Long"});let c;return c=o?"BUY"===e?"SHORT"===t?n:l:"SHORT"===t?s:d:"BUY"===e?i:a,c})({side:a,positionSide:u,getFutI18n:g,positionMode:y}),P=(0,i.useCallback)((()=>{const e=(0,o.Z)((0,o.Z)({},h),{},{needConfirm:!1});f(e)}),[f,h]);return c(d.Z,{symbol:r,title:Z,color:k,amendedField:O,isMarket:!1,limitPrice:x,qty:b,isClose:!1,onClose:t,onConfirm:m,closeTip:P,orderSide:a})},p=a().memo(u)},"+Nt9":(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var o=r("U0yl");const i=e=>(0,o.ZK)("trd-openOrder",e)},DHzs:(e,t,r)=>{"use strict";r.d(t,{Q:()=>a});var o=r("/SIk"),i=r("szIg");const a=()=>{const e=(0,i.useSelector)((e=>e.loading.effects.orders.queryOpenOrder)),t=(0,i.useSelector)((e=>e.orders.openOrder.apiError)),r=(0,i.useDispatch)(),a=(0,o.useCallback)((()=>{e||r.orders.queryOpenOrder()}),[e,r.orders]);return(0,o.useMemo)((()=>({loading:e,apiError:t,onRefresh:a})),[e,t,a])}},"7cvD":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ve});var o=r("5vwO"),i=r("/SIk"),a=r.n(i),l=r("szIg"),s=r("ogBT"),n=r("w7Tp"),d=r("ka4r"),c=r("XVzo"),u=r("MwrP"),p=r.n(u),m=r("JWru"),y=r("XDgS"),g=r("klBV"),h=r("lv1b"),f=r("6Afj"),x=r("SJeZ"),b=r("VM/Z"),O=r("PVSG"),k=r("Scox"),Z=r("0RPJ"),P=r("Y+MU"),S=r("HDtI"),C=r("EPGa"),T=r("FOuV"),v=r("H3aL"),V=r("GG68"),w=r("869M"),I=r("+Nt9"),M=r("Tfqf");const L=(0,b.nM)(),F=e=>L?(({symbol:e,insertTime:t,side:r,origType:o,type:i,price:a,origQty:l,executedQty:s,stopPrice:n,workingType:d,activatePrice:c,avgPrice:u,priceRate:p})=>{var m;const{getI18n:y}=(0,I.Z)(),{isCoinUnit:h}=(0,M.Q)(),{getI18n:f}=(0,w.yk)(),x=(0,g.iB)()[e]||{},{equalQtyPrecision:V,pricePrecision:L,quantityPrecision:F,marginAsset:A,contractVal:R=100}=x,{tickers:B={}}=(0,O.s)((0,b.l6)(!0))||{},{lastPrice:N}=B[e]||{},{getFormatSize:E}=(0,g.dd)(),{ts:_}=E(e),$=(0,k.i)({side:r,type:o}),H=Number(n)||Number(a),z=(0,Z.uf)(H,_);let q=$&&H&&z?`${y(null===(m=T.HZ[d])||void 0===m?void 0:m.replace(/\s/g,"-"),{defaultValue:T.HZ[d]})} \r\n${[$,z].join(" ")}`:b.GR;Number(c)&&(q=`${f("activationPrice",{defaultValue:"Activation Price"})} \r\n${["BUY"===r?"<=":">=",+c].join(" ")}`);const D=T.Y1.includes(i)?b.GR:(0,Z.uf)(a,L),K=f("Cont",{defaultValue:"Cont"}),Y=T.cQ.includes(i)?n:i===C.Jm.TRAILING_STOP_MARKET?c||N:a;let Q,U=e;return x&&(Q=(0,P.H)(x,f),U=Q.shortName),{nextDate:(0,S.v)(new Date(t),"yyyy-MM-dd hh:mm:ss"),nextPair:U,symbolName:Q,nextType:y(`type-${i}`,{defaultValue:i})||i,nextPrice:D,nextAmount:h?`${(0,v.unitChangeCoinQty)({quantity:l,contractVal:R,price:Y,precision:V})} ${A}`:`${(0,Z.uf)(l,F)} ${K}`,nextFilled:h?`${(0,v.unitChangeCoinQty)({quantity:s,contractVal:R,price:u,precision:V})} ${A}`:`${(0,Z.uf)(s,F)} ${K}`,nextTriggerConditions:q}})(e):(({symbol:e,insertTime:t,side:r,origType:o,type:i,price:a,origQty:l,executedQty:s,stopPrice:n,workingType:d,activatePrice:c,avgPrice:u,priceRate:p})=>{var m;const{getI18n:y}=(0,I.Z)(),{getI18n:h}=(0,w.yk)(),f=(0,g.iB)()[e]||{},{getFormatedQuantity:x}=(0,V.s7)(f),{pricePrecision:v,quantityPrecision:M}=f,{tickers:L={}}=(0,O.s)((0,b.l6)(!0))||{},{lastPrice:F}=L[e]||{},{getFormatSize:A}=(0,g.dd)(),{ts:R}=A(e),B=(0,k.i)({side:r,type:o}),N=Number(n)||Number(a),E=(0,Z.uf)(N,R);let _=B&&N&&E?`${y(null===(m=T.HZ[d])||void 0===m?void 0:m.replace(/\s/g,"-"),{defaultValue:T.HZ[d]})} \r\n${[B,E].join(" ")}`:b.GR;Number(c)&&(_=`${h("activationPrice",{defaultValue:"Activation Price"})} \r\n${["BUY"===r?"<=":">=",+c].join(" ")}`);const $=T.Y1.includes(i)?b.GR:(0,Z.uf)(a,v),H=T.cQ.includes(o)?n:i===C.Jm.TRAILING_STOP_MARKET?c||F:a;let z,q=e;return f&&(z=(0,P.H)(f,h),q=z.shortName),{nextDate:(0,S.v)(new Date(t),"yyyy-MM-dd hh:mm:ss"),nextPair:q,symbolName:z,nextType:y(`type-${i}`,{defaultValue:i})||i,nextPrice:$,nextAmount:x({quantity:l,price:H,qtyPrecision:M}),nextFilled:x({quantity:s,price:u,qtyPrecision:M}),nextTriggerConditions:_}})(e);var A=r("Uqe+"),R=r("Xvf3"),B=a().createElement;var N=r("uWnf"),E=r("m+7V");const _=()=>{const[{loading:e},t]=(0,N.Z)((async(e={})=>(e=>"batch"in e?(0,E.O9)({type:e.type,symbol:e.symbol}):(0,E.Ce)(e))(e)),[]);return{loading:e,delOpenOrders:t}},$=()=>{const[{loading:e},t]=(0,N.Z)((async(e={})=>(e=>"batch"in e?(0,E.y)({type:e.type,symbol:e.symbol}):(0,E.r7)(e))(e)),[]);return{loading:e,delOpenOrders:t}},H=(0,b.nM)();const z=(0,b.nM)(),q=e=>z?function({symbol:e,side:t,quantity:r,type:o,price:i,stopPrice:a,avgPrice:l,closePosition:s}){const{getI18n:n}=(0,I.Z)(),{getI18n:d}=(0,w.yk)(),{isCoinUnit:c}=(0,M.Q)(),u=(0,g.iB)()[e]||{},{equalQtyPrecision:p,marginAsset:m,contractVal:y=100,quantityPrecision:h,close:f}=u,x=d("Cont",{defaultValue:"Cont"}),b=n("closePosition",{defaultValue:"Close Positioin"}),O=T.cQ.includes(o)?a:o===C.Jm.MARKET?l||f:i,k=c?`${(0,v.unitChangeCoinQty)({quantity:r,contractVal:y,price:O,precision:p})} ${m}`:`${(0,Z.uf)(r,h)} ${x}`;return{amount:s?b:k,sideProps:"BUY"===t?{color:"buy",children:n("sideBuy",{defaultValue:"Buy"})}:{color:"sell",children:n("sideSell",{defaultValue:"Sell"})}}}(e):function({symbol:e,side:t,quantity:r,type:o,price:i,stopPrice:a,avgPrice:l,closePosition:s}){const{getI18n:n}=(0,I.Z)(),d=(0,g.iB)()[e]||{},{getFormatedQuantity:c}=(0,V.s7)(d),{quantityPrecision:u,close:p}=d,m=n("closePosition",{defaultValue:"Close Positioin"}),y=c({quantity:r,price:T.cQ.includes(o)?a:o===C.Jm.MARKET?l||p:i,qtyPrecision:u});return{amount:s?m:y,sideProps:"BUY"===t?{color:"buy",children:n("sideBuy",{defaultValue:"Buy"})}:{color:"sell",children:n("sideSell",{defaultValue:"Sell"})}}}(e);r("DHzs");var D=r("Wx6g"),K=r("8RC1"),Y=r("rZ8U"),Q=r("/yzf"),U=r("xfzF"),J=r("ZkJp"),G=r("Fidm"),W=r("4wBm"),j=r("zZ5f"),X=r("jQmP"),ee=a().createElement;const te=({mainOrder:e,subOrders:t})=>{const{isLight:r}=(0,g.Fg)(),o=2===(null===t||void 0===t?void 0:t.length);return ee(a().Fragment,null,e,ee("svg",{width:"100%",height:"100%",viewBox:"0 0 504 54",fill:"none",style:{margin:"0 auto -5px"},xmlns:"http://www.w3.org/2000/svg"},o?ee(a().Fragment,null,ee("path",{d:"M252 0 L252 27 L122 27 L122 54",style:{stroke:r?"#F5F5F5":"#474D57",strokeWidth:"3px"}}),ee("path",{d:"M252 27 L382 27 L382 54",style:{stroke:r?"#F5F5F5":"#474D57",strokeWidth:"3px"}})):ee("path",{d:"M252 0 L252 54",style:{stroke:r?"#F5F5F5":"#474D57",strokeWidth:"3px"}})),ee(d.Z,{justifyContent:o?"space-between":"center"},t))},re=({mainOrder:e,subOrders:t})=>{const r=2===t.length?380:190,{isLight:o}=(0,g.Fg)();return ee(a().Fragment,null,e,ee(d.Z,{justifyContent:"start"},ee("svg",{width:"30",height:"100%",fill:"none",viewBox:`0 0 30 ${r}`,xmlns:"http://www.w3.org/2000/svg"},2===(null===t||void 0===t?void 0:t.length)?ee(a().Fragment,null,ee("path",{d:`M15 0 L15 ${r/4} L30 ${r/4}`,style:{stroke:o?"#F5F5F5":"#474D57",strokeWidth:"4px"}}),ee("path",{d:`M15 ${r/4} L15 ${3*r/4} L30 ${3*r/4}`,style:{stroke:o?"#F5F5F5":"#474D57",strokeWidth:"4px"}})):ee("path",{d:`M15 0 L15 ${r/2} L30 ${r/2}`,style:{stroke:o?"#F5F5F5":"#474D57",strokeWidth:"4px"}})),ee(n.Z,{sx:{width:"calc(100% - 30px)"}},t)))},oe=e=>ee(D.Z,null,(({isMobile:t})=>ee(t?re:te,e)));var ie=r("O94r"),ae=r.n(ie),le=r("lvqx"),se=r("8uyB"),ne=r("7Q68"),de=a().createElement;const{LAST_PRICE:ce,MARK_PRICE:ue}=T.gu,pe=e=>{var t;return null===e||void 0===e||null===(t=e.toLowerCase())||void 0===t?void 0:t.replace(/_/g,"-")},me=[C.Jm.LIMIT,C.Jm.STOP_LIMIT,C.Jm.TAKE_PROFIT_LIMIT],ye={mx:"auto",display:"flex",flexDirection:"column",alignItems:"center",".description":{color:"t.primary",mb:"10px",display:"inline-block"},".card":{width:["100%","284px"],borderRadius:"2px",border:"1px solid",borderColor:"lines.border",fontSize:"14px",lineHeight:"16px","&.orderA":{".orderType":{mt:"0px",mb:"0px",".type":{color:"t.third"}}},"&.orderB":{mr:"auto",ml:"0px","&.only":{ml:"auto"}},"&.orderC":{mr:"0px",ml:"auto"}},".title":{px:"16px",py:"8px",backgroundColor:"dialog.panelBg",color:"primary"},".content":{px:"16px",paddingTop:"8px",paddingBottom:"16px"},".row":{display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center",marginTop:"xs","&.editable":{marginTop:"4px"}},".orderType":{mt:"sm",mb:"sm",lineHeight:"19px",".type":{color:"t.primary"},".status":{color:"t.third"}}},ge=({order:e={},subOrderLength:t})=>{const{getI18n:r}=(0,I.Z)(),{getI18n:o}=(0,x.yk)(),{type:a,status:l,price:s,reduceOnly:d}=e,{useStrategyOrder:c}=(0,i.useContext)(Y.Z),{amount:u,sideProps:p}=c(e);return de(n.Z,{sx:ye},de("div",{className:"description"},1===t?r("orderA-OTO-description",{defaultValue:"If order A executes, orders B will be placed."}):r("orderA-OTOCO-description",{defaultValue:"If order A executes, orders B and C will be placed."})),de("div",{className:"card orderA"},de("div",{className:"title"},r("orderA",{defaultValue:"Order A"})),de("div",{className:"content"},de("div",{className:"row orderType"},de(Q.Z,{color:"t.third",className:"type"},r(`type-${a}`,{defaultValue:a})),de(Q.Z,{fontSize:0,color:"t.third",className:"status"},r(`status-${pe(l)}`,{defaultValue:l}))),de("div",{className:"row"},de(Q.Z,{color:"t.third"},r("side",{defaultValue:"Side"})),de(Q.Z,p)),de("div",{className:"row"},de(Q.Z,{color:"t.third"},r("amount",{defaultValue:"Amount"})),de(Q.Z,{color:"t.primary"},u)),me.includes(a)&&de("div",{className:"row"},de(Q.Z,{color:"t.third"},r("price",{defaultValue:"Price"})),de(Q.Z,{color:"t.primary"},s)),de("div",{className:"row"},de(Q.Z,{color:"t.third"},r("reduceOnly",{defaultValue:"Reduce Only"})),de(Q.Z,{color:"t.primary"},o(d?"openOrder-true":"openOrder-false",{defaultValue:d?"True":"False"}))))))},he=({step:e,tickSizePrecision:t,order:r,changeOrder:a,index:l,subOrderLength:s})=>{const{getI18n:d}=(0,I.Z)(),{getI18n:c}=(0,x.yk)(),{type:u,status:p,stopPrice:m,workingType:y,price:g,reduceOnly:h}=r||{},{useStrategyOrder:f}=(0,i.useContext)(Y.Z),{amount:b,sideProps:O}=f(r),k=d("Last-Price",{defaultValue:"Last Price"}),Z=d("Mark-Price",{defaultValue:"Mark Price"}),P="PENDING"===p,S={[ce]:k,[ue]:Z},C=(0,i.useCallback)((e=>{(0,se._p)(e,(e=>a((0,o.Z)((0,o.Z)({},r),{},{stopPrice:e}),l)),"",t)}),[a,r,t,l]),T=(0,i.useCallback)((e=>a((0,o.Z)((0,o.Z)({},r),{},{workingType:e}),l)),[a,r,l]);return de(n.Z,{sx:ye},0===l&&de("div",{className:"description"},2===s?d("orderB-OTOCO-description",{defaultValue:"If order B executes cancel order C."}):""),1===l&&de("div",{className:"description"},2===s?d("orderC-OTOCO-description",{defaultValue:"If order C executes cancel order B."}):""),de("div",{className:ae()({orderB:0===l,orderC:1===l,only:1===s,card:!0})},de("div",{className:"title"},d(0===l?"orderB":"orderC",{defaultValue:0===l?"Order B":"Order C"})),de("div",{className:"content"},de("div",{className:"row orderType"},de(Q.Z,{fontSize:2,color:"t.primary"},d(`type-${u}`,{defaultValue:u})),de(Q.Z,{fontSize:0,color:"t.third"},d(`status-${pe(p)}`,{defaultValue:p}))),de("div",{className:"row"},de(Q.Z,{color:"t.third"},d("side",{defaultValue:"Side"})),de(Q.Z,O)),de("div",{className:"row"},de(Q.Z,{color:"t.third"},d("amount",{defaultValue:"Amount"})),de(Q.Z,{color:"t.primary"},b)),me.includes(u)&&de("div",{className:"row"},de(Q.Z,{color:"t.third"},d("price",{defaultValue:"Price"})),de(Q.Z,{color:"t.primary"},g)),de("div",{className:"row "+(P?"editable":"")},de(Q.Z,{color:"t.third"},d("triggerPrice",{defaultValue:"Trigger Price"})),P?de(le.Z,{type:"number",variant:"outline",step:e,value:m,onChange:C,boxProps:{sx:{height:"24px",lineHeight:1,mt:0,pl:[0,"minor"],fontSize:"12px",border:"none",backgroundColor:"dialog.panelBg"}},sx:{textAlign:"right"}}):de(Q.Z,{color:"t.primary"},m)),de("div",{className:"row "+(P?"editable":"")},de(Q.Z,{color:"t.third"},d("trigger",{defaultValue:"Trigger"})),P?de(ne.Z,{sx:{height:"16px",minHeight:"16px",py:"3px",border:"none",color:"t.primary",svg:{height:"16px",right:"-6px",marginTop:"4px"}},workingType:y,changeWorkingType:T}):de(Q.Z,{color:"t.primary"},S[y])),de("div",{className:"row"},de(Q.Z,{color:"t.third"},d("reduceOnly",{defaultValue:"Reduce Only"})),de(Q.Z,{color:"t.primary"}," ",c(h?"openOrder-true":"openOrder-false",{defaultValue:h?"True":"False"}))))))};var fe=a().createElement;const xe=e=>{const{getI18n:t,i18n:{language:r}}=(0,I.Z)(),{isMobile:a,visible:l,order:s={},onClose:u}=e,m=(0,g.iB)()[s.symbol]||{},y=(0,X.p)(m.tickSize),h=m.tickSize,f=!p()(s)&&l,{0:x,1:b}=(0,i.useState)(!1),{0:O,1:k}=(0,i.useState)({}),{0:Z,1:P}=(0,i.useState)({}),{0:S,1:T}=(0,i.useState)([]),v=(0,i.useCallback)(((e,t)=>{const r=S.map(((r,o)=>o===t?e:r));T(r)}),[S]),V=(0,i.useCallback)((async()=>{const{strategyId:e,strategyType:t}=s;b(!0);const r=await(0,G.Su)({strategyId:e,strategyType:t});b(!1);const{success:o,data:i}=r;o&&i&&(k(i),P(i.subOrders[0]),"OTOCO"===i.strategyType?T(i.subOrders.slice(1,3)):T(i.subOrders.slice(1,2)))}),[s]);(0,i.useEffect)((()=>{f?V():(k({}),P({}),T([]))}),[V,f]);const{setMessageInfo:w}=(0,g.YT)(),M=(0,i.useCallback)((async e=>{e.type!==C.Jm.STOP_MARKET&&e.type!==C.Jm.TAKE_PROFIT_MARKET||delete e.price,delete e.status;const{success:o,message:i}=await(0,G.ZX)(e,{language:r});o&&w({message:t("update-strategy-suc"),variant:"success"})}),[t,r,w]),L=(0,i.useCallback)((()=>{const{strategyType:e}=O,t=[];S.forEach(((r,i)=>{(function(e,t){return Number(t.stopPrice)!==Number(e.stopPrice)||t.workingType!==e.workingType})(r,O.subOrders[i+1])&&t.push(M((0,o.Z)((0,o.Z)({},r),{},{strategyType:e})))})),Promise.all(t).finally(u)}),[u,O,S,M]);return fe(U.Z,{open:f,onCloseIconClick:u,sx:{width:["100%","640px"],height:["100%","auto"]},contentSx:{height:["100%","auto"],p:0}},fe(n.Z,{as:"h3",__css:{borderBottom:["none","2px solid"],borderBottomColor:["transparent","primary"],px:"md",pt:["50px","sm"],pb:["6px","sm"],textAlign:["unset","center"],fontSize:["xp","md"],lineHeight:"20px",fontWeight:"medium"}},t("strategyOrder",{defaultValue:"Strategy Order"})),fe(n.Z,{sx:{height:"calc(100% - 76px)",overflowY:"auto",p:"md"}},fe(n.Z,{sx:{minHeight:"400px"}},fe(j.Z,{inner:!0,show:x}),fe(oe,{mainOrder:fe(ge,{order:Z,subOrderLength:S.length}),subOrders:S.map(((e,t)=>fe(he,{key:e.strategySubId,index:t,tickSizePrecision:y,step:Number(h),order:e,changeOrder:v,subOrderLength:S.length})))}),fe(d.Z,{alignItems:"start",mt:"md",color:"t.third"},fe(W.Z,{size:32,mr:"xs",height:"0.5em"}),fe(Q.Z,{fontSize:"14px",lineHeight:"16px"},"OTOCO"===O.strategyType?t("strategyOrderTip"):t("strategyOrderTip2")))),a&&fe(n.Z,{sx:{width:"100%",height:"64px"}}),fe(J.y,{sx:{bg:"popupBg"}},fe(d.Z,null,fe(c.Z,{flex:"auto",variant:"outline",sx:{boxShadow:"outlineBtnShadow",color:"t.primary",mr:"md",height:"40px"},onClick:u},t("cancel",{defaultValue:"Cancel"})),fe(c.Z,{flex:"auto",onClick:L,height:"40px"},t("confirm",{defaultValue:"Confirm"}))))))},be=a().memo(xe);var Oe=r("SKkT"),ke=a().createElement;const Ze=(0,f.ck)("mobile",(()=>Promise.all([r.e(6374),r.e(3712),r.e(162)]).then(r.bind(r,"c/hh")))),Pe=(0,f.ck)("pc",(()=>Promise.all([r.e(6374),r.e(3712),r.e(5773)]).then(r.bind(r,"ggPg")))),Se=(0,b.nM)(),Ce=[null,"LIMIT","STOP"],Te=()=>{const{isLight:e}=(0,g.Fg)(),[t,{onCheckHeader:r,onSortHeader:u}]=(()=>{const{getI18n:e}=(0,I.Z)(),{getI18n:t}=(0,x.yk)(),[r,a]=(0,A.Z)(b.rR,["reduceOnly","postOnly","strategy"]),[l,s]=(0,A.Z)(b.sx,["time","symbol","type","side","price","amount","filled","reduceOnly","postOnly","conditions","strategy","action"]);return[(0,i.useMemo)((()=>{const i=[{key:"time",text:e("time",{defaultValue:"Time"}),checkable:!1,sortable:!0},{key:"symbol",text:e("symbol",{defaultValue:"Symbol"}),checkable:!1,sortable:!0},{key:"type",text:e("type",{defaultValue:"Type"}),checkable:!1,sortable:!0},{key:"side",text:e("side",{defaultValue:"Side"}),checkable:!1,sortable:!0},{key:"price",text:e("price",{defaultValue:"Price"}),checkable:!1,sortable:!0},{key:"amount",text:e("amount",{defaultValue:"Amount"}),checkable:!1,sortable:!0},{key:"filled",text:e("filled",{defaultValue:"Filled"}),checkable:!1,sortable:!0},{key:"reduceOnly",text:e("reduceOnly",{defaultValue:"Reduce Only"}),checkable:!0,sortable:!0},{key:"postOnly",text:t("orderType-postOnly",{defaultValue:"Post Only"}),checkable:!0,sortable:!0},{key:"conditions",text:e("triggerConditions",{defaultValue:"Trigger"}),checkable:!1,sortable:!0},{key:"strategy",text:e("strategy",{defaultValue:"Strategy"}),checkable:!0,sortable:!0},{key:"action",text:e("action",{defaultValue:"Cancel All"}),overlay:B(R.ZP,null),checkable:!1,sortable:!0}].map((e=>(0,o.Z)((0,o.Z)({},e),{},{defaultChecked:!e.checkable||(null===r||void 0===r?void 0:r.includes(e.key))||!1})));return l&&i.sort(((e,t)=>l.indexOf(e.key)-l.indexOf(t.key))),i}),[e,t,r,l]),{onCheckHeader:a,onSortHeader:s}]})(),[f]=(0,g.z4)(),O=(0,l.useDispatch)(),{enqueueNotification:k}=(0,y.Z)(),{getI18n:Z}=(0,x.yk)(),{getI18n:P}=(0,I.Z)(),{0:S,1:C}=(0,i.useState)(""),{0:T,1:v}=(0,i.useState)({}),V=(0,g.rd)(),{preOrders:w}=(0,g.E)(),M=(0,l.useSelector)((e=>e.loading.effects.orders.queryOpenOrder));(0,i.useEffect)((()=>{O.orders.queryOpenOrder()}),[]);const{loading:L,delOpenOrders:N}=H?$():_(),{isOrderHideOtherPairs:E}=(0,g.VX)(),{0:z,1:Q}=(0,i.useState)(E),U=(0,i.useCallback)((e=>{Q(e),O.userProfile.save({key:"isOrderHideOtherPairs",value:e})}),[O.userProfile]),J=(0,h.Nm)(w,z,f),G=(0,x.d0)(Se),W=(0,i.useCallback)((async e=>{const t="number"===typeof e?{batch:!0,type:Ce[e],symbol:z?f:null}:J.filter((t=>e(t)))[0];p()(t)||await N(t)}),[z,f,J,N]),j=(0,i.useCallback)((async(t,r)=>{r?K.ZP.show({isLight:e,color:V,showCloseIcon:!1,sx:{width:["300px","360px"],height:"auto"},children:ke(n.Z,null,ke(n.Z,{px:1,pt:[0,"16px"],sx:{textAlign:"center"}},ke(s.Z,{size:[60,96]}),ke("div",null,r)),ke(d.Z,{mt:"24px"},ke(c.Z,{sx:{width:.5,mr:3},sz:"l",flexGrow:1,colorStyle:"secondary",onClick:()=>K.ZP.close()},P("dialog-cancel",{defaultValue:"Cancel"})),ke(c.Z,{sx:{width:.5},sz:"l",flexGrow:1,onClick:()=>{W(t),K.ZP.close()}},P("dialog-confirm",{defaultValue:"Confirm"}))))}):W(t)}),[W,P,e,V]),X=(0,i.useCallback)((async e=>{const{success:t}=await(0,m.nC)(e,{});t&&k({header:Z("amendmentOrderSubmitted",{defaultValue:"Amendment Order Submitted"})})}),[Z,k]),ee=!J.length&&M,te=(0,i.useCallback)((()=>{C(""),v({})}),[C,v]),re=(0,i.useCallback)((e=>{C("STRATEGY_ORDER"),v(e)}),[C,v]),oe=(0,i.useCallback)(((e,t,r)=>{C("MODIFY_ORDER"),v((0,o.Z)((0,o.Z)({},e),{},{modifyParams:t,onConfirm:r}))}),[C,v]),ie=P("nodata",{defaultValue:"You have no open orders."}),ae=(0,i.useMemo)((()=>({symbol:f,emptyText:ie,actionCancel:j,actionModifyOrder:X,actionStrategyModal:re,actionModifyConfirmModal:oe,changeSymbol:G,handleHideOtherPairs:U,checked:z,useColumn:F,useStrategyOrder:q,headers:t})),[j,X,re,oe,G,z,ie,U,f,t]);return ke(Y.Z.Provider,{value:ae},ke(n.Z,{height:"100%",px:"sm"},ke(D.Z,null,(({isMobile:e,isIPad:o})=>ke(a().Fragment,null,o?ke(Ze,{isMobile:e,items:J,girdLoading:ee,outLoading:M||L}):ke(Pe,{headers:t,onCheckHeader:r,onSortHeader:u,items:J,loading:M||L}),"STRATEGY_ORDER"===S&&ke(be,{isMobile:e,visible:!0,order:T,onClose:te}),"MODIFY_ORDER"===S&&ke(Oe.Z,{order:T,onClose:te}))))))},ve=a().memo(Te)},Scox:(e,t,r)=>{"use strict";r.d(t,{i:()=>o});const o=({side:e,type:t})=>"BUY"===e&&"STOP"===t?">=":"SELL"===e&&"STOP"===t?"<=":"BUY"===e&&"STOP_MARKET"===t?">=":"SELL"===e&&"STOP_MARKET"===t||"BUY"===e&&"TAKE_PROFIT"===t?"<=":"SELL"===e&&"TAKE_PROFIT"===t?">=":"BUY"===e&&"TAKE_PROFIT_MARKET"===t?"<=":"SELL"===e&&"TAKE_PROFIT_MARKET"===t?">=":""}}]);