(self["webpackJsonp_trade-futures"]=self["webpackJsonp_trade-futures"]||[]).push([[4875],{FpKl:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>J});var o=r("/SIk"),s=r.n(o),c=r("c2re"),a=r.n(c),i=r("szIg"),l=r("wGPX"),n=r("/0Tg"),p=r("ka4r"),u=r("/yzf"),y=r("RkbI"),m=r("krVE"),d=r("jQmP"),S=r("klBV"),g=r("SJeZ"),b=r("6Afj"),f=r("2rU8"),h=r("OjEc"),v=r("eXOl"),P=r("V/Fe"),T=r("VM/Z"),x=r("FOuV");const O=()=>{const e=(0,i.useDispatch)(),t=(0,v.AM)(),{chartSymbol:r,currentProductList:s}=(0,P.Kb)();return(0,o.useCallback)((({stateSymbol:o,isDeliveryColumn:c,name:i})=>{const l=((e,t,r=!1)=>{let o="";if(r){const{pair:r,contractType:s}=t[e]||{};o=[r,T.Yp[s]].map((e=>null===e||void 0===e?void 0:e.toLowerCase())).join("_")}else{const{pair:r,contractType:s,symbolDisplay:c}=t[e]||{};o=s===T.Yp.PERPETUAL?c.split("/").join("_"):[r,T.Yp[s]].map((e=>null===e||void 0===e?void 0:e.toLowerCase())).join("_")}return o})(o,t,c),[n,p]=i.split("-"),u=JSON.parse(JSON.stringify(r)),y=a()(s),m=JSON.parse(localStorage.getItem(x.PV)),d=JSON.parse(localStorage.getItem("symbolType")),S=o;u[n][p]=S,m[n][p]=l,y[n][p]=t[S]||t[S.split("_").join("")],d[n][p]=c?x.yX.delivery:x.yX.futures;const g=`${S}_${d[n][p]}`;y[n][p].contractType!==T.Yp.PERPETUAL&&e.chartType.updateState({currentSymbolType:g}),localStorage.setItem("symbolType",JSON.stringify(d)),localStorage.setItem(x.PV,JSON.stringify(m)),e.chartType.updateFuturesSymbols({symbolList:u}),e.chartType.updateCurrentProductList(y)}),[r,s,e.chartType,t])};var I=s().createElement;const L=(0,b.SA)((()=>Promise.all([r.e(6374),r.e(3712),r.e(4726)]).then(r.bind(r,"uSdY"))));function N({curSymbol:e,currentProduct:t={},name:r="",type:c}){const[l]=(0,P.c4)(e),n=(0,i.useDispatch)(),{contractType:b}=t,{chartSymbol:v,currentProductList:T,isQueryProduct:O}=(0,P.Kb)(),[L,N]=r.split("-"),J=a()(T),k=JSON.parse(JSON.stringify(v)),w=JSON.parse(localStorage.getItem(x.PV)),E=JSON.parse(localStorage.getItem("symbolType")),C=(0,S.Kn)()[l]||{},D=t&&t.tickSize,V=(0,P.N1)()[l],{getI18n:F}=(0,g.yk)(),{loading:Z,value:j}=(0,P.sF)(t.deliveryDate,l,b,c),z=!Z&&j<1,_=(0,d.p)(D),W=Number((null===V||void 0===V?void 0:V.estimatedSettlePrice)||0).toFixed(_),{genSymbolDisplay:A}=(0,g.nN)(),U=(0,i.useSelector)((e=>e.products.products)),X=(0,i.useSelector)((e=>e.products.productMap)),{symbol:Y,contractTypeI18n:K,deliveryDateFormat:M}=A(t),{eventType:R,contractStatus:$,symbol:G}=(0,g.gN)(),Q=(0,o.useCallback)((({products:e,chartType:t,num:r,currentProductList:o,dispatch:s,forceOverridingLocalStorage:c=!0})=>{const{curSymbol:a,currentProduct:i}=(0,m.Ib)(e,x.L6,"delivery");o[t][r]=i,k[t][r]=a,w[t][r]=x.L6,E[t][r]="delivery",s.chartType.updateFuturesSymbols({symbolList:k}),c&&(localStorage.setItem("symbolType",JSON.stringify(E)),localStorage.setItem(x.PV,JSON.stringify(w))),s.chartType.updateCurrentProductList(o)}),[k,E,w]);return(0,o.useEffect)((()=>{O&&(null===U||void 0===U?void 0:U.length)>0&&0===Object.keys(t).length&&Q({products:U,chartType:L,num:N,currentProductList:J,dispatch:n})}),[L,t,U]),(0,o.useEffect)((()=>{const e=X[l]||{};"contractInfo"===R&&G===e.symbol&&"CLOSE"===(null===$||void 0===$?void 0:$.toUpperCase())&&Q({products:U,chartType:L,num:N,currentProductList:J,dispatch:n})}),[$,T,X,U,L,v,G,R]),(0,o.useMemo)((()=>I(s().Fragment,null,I(p.Z,{sx:{alignItems:"center",mr:0,mb:[1,0]}},I(p.Z,{flexDirection:"column",sx:{color:"t.primary",fontSize:2,fontWeight:"medium"}},Y,"\xa0",I(f.XI,{sx:{fontSize:"sm"}},`${K}${M}`),I(h.ZP,{config:C,sx:{pt:"4px","& svg":{fontSize:"20px"}}})),I(y.Z,{color:"t.primary",fontSize:20})),z&&I(u.Z,{sx:{color:"t.yellow200",fontSize:"12px",fontWeight:"medium",width:"100px",whiteSpace:"nowrap"}},F("EstimatedDeliveryPrice",{defaultValue:"Est delivery price"}),"(USD):",W))),[W,z,t,e])}const J=({symbol:e,currentProduct:t,name:r,type:s})=>{const c=(0,o.useRef)(),a=O();return I(l.ZP,{ref:c,sx:{"&:hover":{cursor:"pointer"},whiteSpace:"nowrap",minWidth:"auto",mb:["4px"]},trigger:"hover",enablePortal:!0,overlay:I(n.Z,{className:"dropdown-box",sx:{bg:"marketCard",left:["-16px",0],px:0,pt:0,pb:"xs",minWidth:["auto","425px"],maxWidth:["100vw","425px"],height:318,maxHeight:"100vh"}},I(L,{name:r,isGridWidget:!1,changeSymbolCb:a}))},I(N,{name:r,curSymbol:e,currentProduct:t,type:s}))}}}]);