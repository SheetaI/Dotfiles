(self["webpackJsonp_user-center-wallet"]=self["webpackJsonp_user-center-wallet"]||[]).push([[852],{s9SB:(e,t)=>{"use strict";t.Q=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var n={},a=t||{},r=e.split(i),s=a.decode||o,c=0;c<r.length;c++){var p=r[c],d=p.indexOf("=");if(!(d<0)){var u=p.substr(0,d).trim(),m=p.substr(++d,p.length).trim();'"'==m[0]&&(m=m.slice(1,-1)),void 0==n[u]&&(n[u]=l(m,s))}}return n},t.q=function(e,t,o){var i=o||{},l=i.encode||n;if("function"!==typeof l)throw new TypeError("option encode is invalid");if(!a.test(e))throw new TypeError("argument name is invalid");var r=l(t);if(r&&!a.test(r))throw new TypeError("argument val is invalid");var s=e+"="+r;if(null!=i.maxAge){var c=i.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(c)}if(i.domain){if(!a.test(i.domain))throw new TypeError("option domain is invalid");s+="; Domain="+i.domain}if(i.path){if(!a.test(i.path))throw new TypeError("option path is invalid");s+="; Path="+i.path}if(i.expires){if("function"!==typeof i.expires.toUTCString)throw new TypeError("option expires is invalid");s+="; Expires="+i.expires.toUTCString()}i.httpOnly&&(s+="; HttpOnly");i.secure&&(s+="; Secure");if(i.sameSite){switch("string"===typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return s};var o=decodeURIComponent,n=encodeURIComponent,i=/; */,a=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function l(e,t){try{return t(e)}catch(o){return e}}},N8KH:(e,t,o)=>{"use strict";o.d(t,{v:()=>n,zd:()=>i,aL:()=>a,Dr:()=>l,p_:()=>r,nr:()=>s,zX:()=>c,DZ:()=>p});const n="shouldPublicAssets",i="USDT",a=8,l="032006",r="0.00000001",s=8,c="dribbletExchange",p=978==o.j?["EUR","GBP"]:null},gISP:(e,t,o)=>{"use strict";o.d(t,{$:()=>c});var n=o("5vwO"),i=o("GpFh"),a=o("/SIk"),l=o("+SMd"),r=o("1pZi");const s=[r.oO,r.ve,r.an,r.a1,r.i_],c=()=>{const e=(0,l.useTranslation)(s),{t:t}=e,o=(0,i.Z)(e,["t"]),r=(0,a.useCallback)(((e,o)=>{const n=s.find((o=>t(`${o}:${e}`)!==e));return n?t(`${n}:${e}`,o):t(e,o)||""}),[t]);return(0,n.Z)((0,n.Z)({},o),{},{t:r})}},JoA5:(e,t,o)=>{"use strict";o.d(t,{$:()=>r});var n=o("/SIk"),i=o("+SMd"),a=o("1pZi");const l=[a.an,a.e4,a.ve,a.Ym],r=()=>{const{t:e,i18n:t}=(0,i.useTranslation)(l);return{i18n:t,t:(0,n.useCallback)(((t,o)=>{const n=l.find((o=>e(`${o}:${t}`)!==t));return e(n?`${n}:${t}`:t,o)}),[e])}}},zfkM:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>xn});var n=o("/SIk"),i=o.n(n),a=o("Vgyk"),l=o("ygqr"),r=o("kIzY"),s=o("21Rg"),c=o("D57K"),p=o("s9SB");function d(e,t){void 0===t&&(t={});var o=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(function(e,t){return"undefined"===typeof t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(o,t.doNotParse))try{return JSON.parse(o)}catch(n){}return e}var u=function(){return(u=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var i in t=arguments[o])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};const m=function(){function e(e,t){var o=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"===typeof e?p.Q(e,t):"object"===typeof e&&null!==e?e:{}}(e,t),new Promise((function(){o.HAS_DOCUMENT_COOKIE="object"===typeof document&&"string"===typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=p.Q(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,o){return void 0===t&&(t={}),this._updateBrowserValues(o),d(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var o={};for(var n in this.cookies)o[n]=d(this.cookies[n],e);return o},e.prototype.set=function(e,t,o){var n;"object"===typeof t&&(t=JSON.stringify(t)),this.cookies=u(u({},this.cookies),((n={})[e]=t,n)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=p.q(e,t,o)),this._emitChange({name:e,value:t,options:o})},e.prototype.remove=function(e,t){var o=t=u(u({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=u({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=p.q(e,"",o)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}();var x,b=o("WOT1"),f=o.n(b),g=o("m92i"),h=o("Bcqe"),y=o.n(h),v="undefined"===typeof window,w=f()().fetch,_=new m,C="monitor-uuid",T="monitor-uid",S=[],k=!1,I=_.get(T),E=function(){var e=S.length;if(e)try{w("https://frontend-m.binance.cloud/monitor/v1/log",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({"data-list":S})}).then((function(){S=S.slice(e)}))}catch(t){console.error("Monitor failed to send log.")}},A=y()(E,1500),D=function(e){var t=function(){var e;return v?"":null===(e=null===window||void 0===window?void 0:window.location)||void 0===e?void 0:e.hash}();S.push((0,c.__assign)({p:window.location.href,d:+new Date,pageName:x||t.split("/")[2],pathname:t,client:"electron",uid:I,ua:null===navigator||void 0===navigator?void 0:navigator.userAgent},e)),A()},B=o("M9en"),L=o("7nmT"),N=o("6d4V"),F=o("t1S+"),R=o("a7L7"),P=o("Wf4d"),O=o("Xq9b"),M=o("Eb6j"),$=o("ne+9"),z=o("28oc");const V=(e,t)=>{const o=(0,n.useRef)({}),{value:i,loading:a}=(0,z.N)((async()=>{if(!e)throw new Error("asset is undefined");return Promise.resolve(o.current[e]||(async(e,t)=>{const o=t?(0,$.DT)({quoteAsset:e}):(0,$.DT)({baseAsset:e}),{data:n}=await(0,M.get)(`/bapi/asset/v1/public/asset/symbols/get?${o}`);return n})(e,t)).then((t=>(o.current[e]=t,t)))}),[e,t],{value:[]});return{symbols:i||[],loading:a}},H=()=>{const{0:e,1:t}=(0,n.useState)(null);let o=["JEX","MOD"];return(0,n.useEffect)((()=>{try{(0,M.get)("/bapi/composite/v1/public/marketing/small-amount/threshold").then((({data:e})=>{t(e.number)}))}catch(e){}}),[]),{smallValue:(0,n.useMemo)((()=>e),[e]),hiddenFn:(0,n.useCallback)((t=>t&&(t.btcValue>e||0===Number(t.btcValue)&&t.total>0&&!o.includes(t.coin))),[e])}};var U=i().createElement;const{domain:j}=document,W=["BTC","ETH","BNB","BUSD","USDT"],Z=i().createContext({}),K=()=>i().useContext(Z),Y={sortType:"",fn:()=>0},q=(e,t,o)=>{switch(t){case"number":return(t,n)=>+((o?n[e]:t[e])||0)-+((o?t[e]:n[e])||0);case"string":return(t,n)=>{const i=o?n[e]:t[e],a=o?t[e]:n[e];return i.localeCompare(a)};default:return}},J=({children:e})=>{const{fiat:t}=i().useContext(R.HeaderConfigContext),{loading:o,capitalConfig:a,totalBtc:l,onRefresh:r}=(0,O.iF)(),{hasEarnProjectAsset:s}=(()=>{const{value:e,loading:t}=(0,z.N)((async()=>{const{data:e}=await(0,M.get)("/bapi/earn/v1/private/finance-earn/business/asset/available");return e||[]}),[],{value:[]});return{hasEarnProjectAsset:e,loading:t}})(),{0:c,1:p}=(0,n.useState)("localhost"===j?[{asset:"BNB",profitLossRate:"-0.1"}]:[]),{0:d,1:u}=(0,n.useState)(0),{0:m,1:x}=(0,n.useState)(!1),{0:b,1:f}=(0,n.useState)(!1),{0:g,1:h}=(0,n.useState)(!1),{0:y,1:v}=(0,n.useState)({}),w=(0,n.useMemo)((()=>({channels:["wallet","card"],fiat:F.Q.read("fiat-prefer-currency")||"USD",transactionType:"sell"})),[]);i().useEffect((()=>{(async()=>{try{const[e,t,o,n]=await Promise.all([(0,M.post)("/bapi/composite/v1/private/report/asset-open/coin-pnl/asset-overview"),(0,M.post)("/bapi/composite/v1/private/report/asset-open/coin-pnl/switch"),(0,M.get)("/bapi/earn/v1/private/lending/daily/userAutoConfig/getUserAutoConfig"),(0,M.post)("/bapi/fiat/v1/friendly/ocbs/list-channel-product",w)]);(n.data||[]).forEach((e=>{y[e.crypto]=e})),(0,L.unstable_batchedUpdates)((()=>{var n,i,a,l,r,s,c;(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.assetProfitLossList)&&p(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.assetProfitLossList),(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.totalProfitLoss)&&u(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.totalProfitLoss),(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.profitLossTip)&&x(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.profitLossTip),f((null===t||void 0===t?void 0:t.data)||!1),h((null===o||void 0===o||null===(c=o.data)||void 0===c?void 0:c.some((e=>!0===e.autoTransfer)))||!1),v(y)}))}catch(e){}})()}),[]);const _=(0,N.P)(),{0:C,1:T}=(0,n.useState)(""),{0:S,1:k}=(0,n.useState)({}),{0:{sortType:I,fn:E},1:A}=(0,n.useState)(Y),{hiddenFn:D}=H();(0,n.useEffect)((()=>{"true"===localStorage.getItem("hideSmall")?k({hideSmall:D}):Object.keys(S).length&&k({})}),[D]);const B=(0,n.useCallback)((e=>{const t=Object.keys(S);return e.filter((e=>{const o=new RegExp(C,"i");return(o.test(e.coin)||o.test(e.name))&&t.every((t=>S[t](e)))}))}),[S,C]),{0:V,1:K,2:J,3:X,4:G}=(0,n.useMemo)((()=>{const e=t||a.some((e=>e.isLegalMoney&&e.total>0));let{fiatList:o,cryptoList:n,fiatAsset:i,cryptoAsset:l}=a.reduce(((t,o)=>{const n=e&&!!o.isLegalMoney;return t[n?"fiatList":"cryptoList"].push(o),t[n?"fiatAsset":"cryptoAsset"]+=+o.btcValue,t}),{fiatList:[],cryptoList:[],fiatAsset:0,cryptoAsset:0});if(n.sort(((e,t)=>t.btcValue-e.btcValue)).sort(((e,t)=>0===Number(e.btcValue)&&0===Number(t.btcValue)?t.total-e.total:0)).sort(((e,t)=>{if(0===Number(e.btcValue)&&0===Number(t.btcValue)&&0===Number(e.total)&&0===Number(t.total)){const o=[...W].reverse();return o.indexOf(t.coin)-o.indexOf(e.coin)}return 0})),n.length>0){let e=[];if(n[0].btcValue-0===0&&0===n[0].total)for(let t=0;t<n.length;t++){let o=W.indexOf(n[t].coin);o>-1&&(e[o]=n[t],n.splice(t,1),t--)}n=e.concat(n)}const r=B(o),s=B(n);let c=null;return t&&!r.some((e=>e.total))&&r.some(((e,o)=>(e.coin===t&&(c={item:e,index:o}),!!c)))&&(r.splice(c.index,1),r.unshift(c.item)),[r,s,e,i,l]}),[t,a,B]),Q=(0,n.useMemo)((()=>V.sort(E)),[V,E]),ee=(0,n.useMemo)((()=>K.sort(E)),[K,E]),{convertAsset:te}=(()=>{const{value:e,loading:t}=(0,z.N)((async()=>{const{data:e}=await(0,M.get)("/bapi/margin/v1/friendly/new-otc/get-info");return(e.coins||[]).reduce(((e,t)=>(t&&(e[t]=!0),e)),{})}),[],{value:{}});return{convertAsset:e,loading:t}})(),{buyWalletSelector:oe}=(()=>{const{value:e,loading:t}=(0,z.N)((async()=>{const e=(0,$.DT)({channel:"Wallet"}),{data:t}=await(0,M.get)(`/bapi/fiat/v2/friendly/ocbs/fiat-channel-gateway/get-selector-by-channel?${e}`);return((null===t||void 0===t?void 0:t.buySelector)||[]).reduce(((e,t)=>{const{assetCode:o}=t;return o&&(e[o]=!0),e}),{})}),[],{value:{}});return{buyWalletSelector:e,loading:t}})();return U(Z.Provider,{value:{loading:o,getFiatPrice:_,assetData:c,totalProfitLoss:d,profitLossTip:m,isCoinPnlEntranceOpen:b,isEarnTips:g,totalBTC:l,showFiat:J,fiatBalances:Q,cryptoBalances:ee,convertAsset:te,buyWalletSelector:oe,hasEarnProjectAsset:s,freshCapitalConfig:r,fiatSellCryptoMap:y,filter:{filterInfo:S,setFilterInfo:k},search:{searchKey:C,setSearch:T},sort:{sortType:I,setSortType:(0,n.useCallback)((0,P.throttle)(((e,t,o)=>{A({fn:q(e,t,o),sortType:[e,o?"DESC":"ASC"].join("@@")})}),100),[])},fiatAssetBtc:X,cryptoAssetBTC:G}},e)};var X=o("5vwO"),G=o("+SMd"),Q=o("dmGO"),ee=o("THyV"),te=o("4gi8"),oe=o("iQd1"),ne=o("zaiR"),ie=o("4IUe"),ae=i().createElement;const le=i().forwardRef(((e,t)=>{const{t:o,i18n:{language:n}}=(0,r.useMainUC)(),i=(0,te.getEmbeddedUrlIfNeed)(`/${n}/wallet-direct`);return ae(l.Flex,{alignItems:"center"},ae(B.TooltipV2,{container:t,tip:ae(l.Text,{sx:{lineHeight:"18px",px:"minor",maxWidth:"282px"}},o("walletDirect-speTips")),placement:"bottom",arrow:!0},ae(l.Link,{id:"spotAccount_top_wallet_direct",href:i,target:"_blank",sx:{textDecoration:"none",color:"t.primary"}},ae(ie.Z,{display:["block","none"]}),ae(l.Button,{onClick:()=>{(0,s.default)("webClick",{pageName:"binance_wallet_spot",elementId:"binance_click_wallet_spot_wallet_direct"})},variant:"default",sz:"normal",colorStyle:"flatpure",sx:{display:["none","inline-flex"]}},ae(ie.Z,{size:16,mr:"xs",color:"t.primary"}),o("walletDirect-pageTitle")))))}));var re=i().createElement;const{MAIN:se,FUTURE:ce,MARGIN:pe}=ne.ACCOUNTS_TYPE,de=({sx:e,buttonSize:t})=>{const{t:o}=(0,r.useMainUC)(),{launchTransfer:i,walletsBalance:a}=(0,B.useAssetTransferContext)(),{activate:c}=a,p=(0,n.useCallback)((()=>{(0,s.default)("webClick",{pageName:"binance_wallet_spot",elementId:"binance_click_wallet_spot_top_transfer"});const e=c.includes(ce)?ce:pe;i({from:se,to:e})}),[i,c]);return re(Q.Link,{onClick:p,sx:e,id:"spotAccount_top_transfer"},re(l.Button,{variant:"default",sz:t,colorStyle:"flatpure",children:o("nav-transfer")}))};var ue=i().createElement;const me=()=>{const{t:e,i18n:t}=(0,G.useTranslation)(["main-uc","exchange-wallet"]),{isMobile:o}=(0,R.useMedia)(),{depositUrl:i,withdrawUrl:a}=(0,R.useDepositAndWithdrawUrl)(),{freshCapitalConfig:r}=K(),c=(0,n.useRef)(null),p=(0,R.useHistory)(),{language:d}=t,u={flexShrink:0,display:"inline-block",textDecoration:"none !important",button:{px:["12px","16px"]}},m=(0,n.useRef)({}),x=o?"m":"normal",b=ee.tO.getItem("LOCAL_DEPOSIT_TYPE","",!1)||"",f=(0,ne.useHideBtnForSubAccount)(),g=(0,n.useCallback)((()=>{(0,s.default)("webClick",{pageName:"binance_wallet_spot",elementId:"binance_click_wallet_spot_top_deposit"}),b||f?p.push(i):(m.current.open(),(0,s.default)("componentShow",{pageName:"binance_wallet_spot",elementId:"binance_show_component_wallet_spot_deposit_popup"}))}),[i]);return ue(l.Flex,{sx:{bg:"bg2",pt:["md","md","ls"],pb:["xs","xs","ls"],px:["sm","md","plus"],flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",position:"relative"},ref:c},ue(l.Box,{sx:{alignItems:"center",display:"flex"},width:[1,1,"auto"]},ue(l.Text,{sx:{variant:["text.headline5","text.headline5","text.headline3"]}},e("main-account-page-h1")),ue(l.Box,{display:["flex","none"],sx:{ml:"auto"}},ue(Q.Link,{to:`/${d}/my/wallet/history/deposit-crypto`,sx:u,mr:"ls",id:"spotAccount_deposit_and_withdraw_history"},ue(oe.Z,{color:"t.primary"})),ue(le,null))),ue(l.Box,{sx:{display:["flex","block","flex"],width:["100%","100%","auto"],flexDirection:["row","column","row"],alignItems:"center",justifyContent:"space-between",overflow:["scroll","scroll","auto"],py:"sm",button:{fontWeight:500,fontSize:1,px:["12px","sm"]}}},ue(l.Flex,{sx:{justifyContent:"flex-start"}},ue(l.Box,{sx:u,id:"spotAccount_top_deposit"},ue(l.Button,{variant:"default",colorStyle:"flatprimary",sz:x,children:e("nav-deposit"),onClick:g})),!f&&ue(Q.Link,{to:`${a}?origin=MBX`,ml:"sm",sx:u,id:"spotAccount_top_withdrawal"},ue(l.Button,{variant:"default",sz:x,onClick:()=>(0,s.default)("webClick",{pageName:"binance_wallet_spot",elementId:"binance_click_wallet_spot_top_send"}),colorStyle:"flatpure",onClick:()=>(0,s.default)("webClick",{pageName:"binance_wallet_spot",elementId:"binance_click_wallet_spot_top_withdraw"}),children:e("nav-withdraw")})),!f&&ue(Q.Link,{to:`/${d}/my/wallet/account/payment/send`,ml:"sm",sx:u,id:"spotAccount_top_send"},ue(B.TooltipV2,{tip:ue(l.Text,{sx:{lineHeight:"18px",px:"minor",maxWidth:"282px"}},e("wallet-send-tip",{ns:"exchange-wallet"})),placement:"bottom",arrow:!0},ue(l.Button,{variant:"default",sz:x,colorStyle:"flatpure",children:e("nav-wallet-send",{ns:"exchange-wallet"})}))),ue(ne.TransferFacialContainer,null,(({afterTransfer:e})=>ue(B.AssetTransferProvider,{sendLog:ne.sendLog,afterTransfer:(...t)=>e(...t,r)},ue(de,{sx:(0,X.Z)((0,X.Z)({},u),{},{ml:"sm"}),buttonSize:x})))),ue(Q.Link,{to:`/${d}/my/wallet/history/deposit-crypto`,sx:(0,X.Z)((0,X.Z)({},u),{},{display:["none","inline-block"]}),ml:"sm",id:"spotAccount_deposit_and_withdraw_history"},ue(l.Button,{variant:"default",colorStyle:"flatpure",sz:x,onClick:()=>(0,s.default)("webClick",{pageName:"binance_wallet_spot",elementId:"binance_click_wallet_spot_transaction_history"}),children:e("nav-wallet-history")})),ue(l.Box,{ml:"sm",flex:"1 0 auto"},!te.IS_ELECTRON&&!o&&!f&&ue(le,null)),ue(R.DepositChannels,{biz:"walletFiatSpot",ref:m,showOtherWay:!1}))))},xe=i().memo(me);var be=o("ihhs"),fe=o("kEpp"),ge=o("nM3r"),he=o("l2dz"),ye=o("nR+o");var ve=o("22cJ"),we=o("GpFh"),_e=o("s0P3"),Ce=o("Xque"),Te=i().createElement;const Se=e=>{let{size:t,sx:o}=e,n=(0,we.Z)(e,["size","sx"]);return Te(l.Text,Object.assign({variant:"lg"===t?"subtitle1":"body2",sx:(0,X.Z)({color:"t.primary"},o)},n))},ke=e=>{let{size:t,sx:o}=e,n=(0,we.Z)(e,["size","sx"]);return Te(l.Text,Object.assign({sx:(0,X.Z)({color:"t.primary",variant:"lg"===t?["text.headline6","text.headline5"]:["text.subtitle1","text.headline6"]},o)},n))},Ie=e=>{let{size:t,sx:o}=e,n=(0,we.Z)(e,["size","sx"]);return Te(l.Text,Object.assign({sx:(0,X.Z)({color:"t.primary",variant:"lg"===t?["text.body1","text.headline5"]:["text.body2","text.body1"]},o)},n))},Ee=({size:e,sx:t,label:o,btcValue:i,fiatValue:a,isShowSwitch:r})=>{const{setting:c}=(0,_e.Ng)(),{isHideSmallBalance:p}=c,d="lg"===e,u=(0,n.useCallback)((()=>{(0,s.default)("webClick",{pageName:"binance_wallet_spot",elementId:"binance_click_wallet_spot_balance",extraInfo:{direction:p?"unhide":"hide"}})}),[p]);return Te(l.Box,{sx:(0,X.Z)({mr:["xs","plus"],my:"sm",minWidth:["155px","auto"]},t)},Te(l.Flex,{alignItems:"center",mb:d?["xs","ls"]:"xs"},Te(Se,{size:e,mr:"xs"},o),r&&Te(l.Box,null,Te(R.SwitchBalanceV2,{id:"spotAccount_hide_asset",trackFn:u}))),Te(l.Flex,{flexDirection:d?["column","row"]:"column",flexWrap:"nowrap"},Te(l.Flex,{flexWrap:"nowrap",alignItems:"flex-end"},Te(ke,{size:e},Te(R.ToggleNumber,{value:i===ne.DASH?ne.DASH:(0,Ce.uf)(i,8)})),!p&&Te(ke,{size:e,sx:{color:"t.primary",ml:"minor"}},"BTC")),Te(Ie,{size:e,sx:{color:"t.third",mt:d?"minor":0,ml:d?[0,"ls"]:0,whiteSpace:"nowrap"}},Te(R.ToggleNumber,{value:a}))))};var Ae=o("I4rE");const De="binance_click_spot_account_pnl_analysis",Be="webClick";var Le=i().createElement;const Ne=({data:e,getValue:t,t:o,routePrefix:n})=>{const i=(0,R.useHistory)();return Le(l.Flex,{flexDirection:"column",my:"sm",mr:"plus",id:"spotAccount_account_pnl_analysis",sx:{cursor:"pointer"},onClick:()=>{try{(0,s.default)(Be,{elementId:De,pageName:"binance_spot_account"})}catch(e){}i.push(te.IS_ELECTRON?"binance://account/pnl/spot":`${n}/pnl/spot_account`)}},Le(Se,{sx:{display:"inline-flex",alignItems:"center",mb:"xs"}},Le(B.Tooltip,{trigger:"hover",tip:Le(l.Box,{sx:{whiteSpace:"pre-wrap"}},o("balance-pnl-todayPnlTips")),arrow:!0,placement:"top"},Le(l.Text,{sx:{borderBottom:"1px dashed",borderColor:"t.third",whiteSpace:"nowrap"}},o("balance-pnl-todayPnl"))),Le(l.Flex,{sx:{height:"24px",width:"24px",bg:"bg3",alignItems:"center",justifyContent:"center",borderRadius:"4px",ml:"minor","&:hover":{bg:"line"}}},Le(Ae.Z,{size:16,color:"t.primary"}))),Le(l.Flex,{alignItems:["flex-start","flex-start","flex-end"]},Le(ke,null,Le(R.ToggleNumber,{value:Le(ke,{color:(0,ne.getColor)(null===e||void 0===e?void 0:e.dailyPnlRate)},null!==e&&void 0!==e&&e.spotDailyPnl?t(null===e||void 0===e?void 0:e.spotDailyPnl):"--")}))),Le(l.Flex,null,Le(Ie,{color:"t.third"},Le(R.ToggleNumber,{value:Le(Ie,{color:(0,ne.getColor)(null===e||void 0===e?void 0:e.dailyPnlRate)},null!==e&&void 0!==e&&e.dailyPnlRate?(0,ne.getValueWithPercent)(null===e||void 0===e?void 0:e.dailyPnlRate):"--")}))))};var Fe=i().createElement;const Re=function(){const{0:e,1:t}=(0,n.useState)({}),{t:o,i18n:a}=(0,r.useMainUC)(),{language:s}=a,{loading:c,totalBTC:p,getFiatPrice:d,totalProfitLoss:u,isCoinPnlEntranceOpen:m,cryptoAssetBTC:x,fiatAssetBtc:b}=K(),f=(0,fe.FH)(s),g=(()=>{const{0:e,1:t}=(0,n.useState)("USD"),{isHybrid:o,bridge:i}=(0,ye.ZP)(),a=(0,ge.T)(),l=(0,ge.nX)(),{rate:r,symbol:s}=l[e]||{rate:1,symbol:"$"};return(0,n.useEffect)((()=>{o?i.getAppConfig().then((({currency:e})=>{t(e)})):t(a.split("_")[0]||"USD")}),[i,o,a]),(0,n.useCallback)(((e=0,t=!0)=>Number.isNaN(+e)?e:(t?e>0?"+":0===e?"":"-":"")+s+Math.abs((0,he.Jp)(e,r).toFixed(2))),[r,s])})(),{0:h,1:y}=(0,n.useState)(!1),v=(0,ve.useRegion)();(0,n.useEffect)((()=>{(0,M.get)("/bapi/composite/v1/private/report/exchange-analytics/spot-pnl/pnl").then((e=>{t((null===e||void 0===e?void 0:e.data)||{})})),(0,M.post)("/bapi/composite/v1/private/report/asset-open/spot-pnl/config").then((e=>{var t;y((null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.isEntranceOpen)||!1)}))}),[]);const{symbol:w,fiatPrice:_}=d(x,"BTC"),{fiatPrice:C}=d(b,"BTC");return Fe(l.Flex,{variant:"cards.shadow",flexWrap:"wrap",sx:{bg:"bg1",px:["sm","md","plus"],pt:["sm","xs","sm"]}},Fe(l.Flex,{flexDirection:"row",flexWrap:"wrap",alignItems:"center",flex:1,sx:{pb:"xs",borderBottom:"1px solid",borderBottomColor:"line",alignItems:"flex-end"}},Fe(ne.EstimatedBalance,{isLoading:c,btcValue:p,sx:{minWidth:["300px","460px","460px"],flex:["1 0 100%","1 0 100%","1 0 35%"]}}),Fe(l.Flex,{sx:{flexWrap:["wrap","wrap","nowrap"],minWidth:["300px","400px","600px"],justifyContent:"space-between",alignItems:"flex-end",flex:"1 0 40%"}},"cn"!==v?Fe(i().Fragment,null,Fe(Ee,{sx:{flexGrow:1},label:o("label-spotBalance"),btcValue:c?ne.DASH:x,fiatValue:`\u2248 ${w}${c?ne.DASH:_}`}),Fe(Ee,{sx:{flexGrow:1},label:o("label-fiatBalance"),btcValue:c?ne.DASH:b,fiatValue:`\u2248 ${w}${c?ne.DASH:C}`})):null,h&&Fe(Ne,{t:o,data:e,routePrefix:f,getValue:g}),m&&!te.IS_ELECTRON&&Fe(l.Flex,{flexDirection:"column",my:"sm"},Fe(Se,null,o("balance-pnl-holdingsPnl"),Fe(B.Tooltip,{tip:o("balance-pnl-holdingsPnlTips"),arrow:!0,placement:"top"},Fe(be.Z,{size:16,ml:"5px",sx:{position:"relative",top:"3px",color:"t.third"}}))),Fe(l.Flex,{alignItems:["flex-start","flex-start","flex-end"]},Fe(ke,null,Fe(R.ToggleNumber,{value:`\n                  ${g(u)}`})))))))};var Pe=o("8Nwq"),Oe=o("h9UT"),Me=o("lZ0i"),$e=i().createElement;const ze=({input:e,setInput:t,t:o})=>$e(B.TextFieldV2,{id:"spotAccount_assets_list_search",variant:"outlineLarge",labelFixed:!0,value:e,size:"lg",onChange:e=>t((e.target.value||"").replace(/\W/g,"")),boxProps:{alignItems:"flex-end",width:[158,214],mr:[0,0,"md"],height:"40px"},prefix:$e(l.Flex,{alignItems:"center",height:"40px"},$e(Oe.Z,{size:24,ml:"xs",color:"t.placeholder"})),suffix:e?$e(l.Flex,{alignItems:"center",height:"40px"},$e(Me.Z,{size:16,sx:{color:"icon",cursor:"pointer",mr:"minor"},onClick:()=>t("")})):null,placeholder:o("form-placehoder-searchCoin")});var Ve=i().createElement;const He=i().memo((function(){const{t:e,i18n:t}=(0,r.useMainUC)(),{language:o}=t,{isMobile:a}=(0,R.useMedia)(),{filter:{filterInfo:c,setFilterInfo:p},search:{searchKey:d,setSearch:u}}=K(),{hiddenFn:m,smallValue:x}=H(),b=(0,fe.FH)(o),{0:f,1:g}=(0,n.useState)(d);(0,Pe.Z)((()=>{u(f),(0,s.default)("pageView",{pageName:"binance_funding_wallet",elementId:"binance_click_wallet_spot_search"})}),50,[f]);const h=(0,n.useCallback)((()=>{p((e=>(e.hideSmall?delete e.hideSmall:e.hideSmall=m,localStorage.setItem("hideSmall",!!e.hideSmall),(0,s.default)("pageView",{pageName:"binance_wallet_spot",elementId:"binance_click_wallet_spot_hide_zero_asset",extraInfo:{direction:e.hideSmall?"hide":"unhide"}}),(0,X.Z)({},e))))}),[m]),y=(0,n.useMemo)((()=>Ve(l.Label,{sx:{alignItems:"center",width:"auto"}},Ve(l.Checkbox,{name:"hideSmall",checked:!!c.hideSmall,onChange:h,id:"spotAccount_hide_small_balance"}),Ve(B.TooltipV2,{arrow:!0,tip:Ve(G.Trans,{i18nKey:"hidden-small-asset",t:e,values:{smallValue:x}})},Ve(l.Text,{sx:{fontSize:1,lineHeight:"22px",borderBottom:"1px dashed",borderColor:"t.third"},children:e("form-hide-smallAsset")})))),[c.hideSmall,h,e,x]);return Ve(i().Fragment,null,a&&Ve(l.Box,{mt:"md",mx:"sm"},Ve(l.Box,{sx:{borderRadius:"4px",display:"block",fontSize:1,color:"t.yellow"},px:"sm",py:"12px",bg:"bg2",as:"a",href:`${b}/wallet/account/main/dust`,children:e("nav-cover-bnb")}),Ve(l.Flex,{mt:"md",mb:"xs",height:"40px",justifyContent:"space-between"},y,Ve(ze,{t:e,input:f,setInput:g}))),!a&&Ve(i().Fragment,null,Ve(l.Flex,{sx:{flexDirection:["column","column","row"],alignItems:["flex-start","flex-start","center"],p:["md",0],position:"relative"}},Ve(ze,{t:e,input:f,setInput:g}),Ve(l.Flex,{mt:[0,"md",0],alignItems:"center"},y,Ve(Q.Link,{to:`/${o}/my/wallet/account/main/dust`,sx:{fontSize:1,ml:"md",textDecoration:"underline"},id:"spotAccount_convert_bnb",onClick:()=>{(0,s.default)("pageView",{pageName:"binance_wallet_spot",elementId:"binance_click_wallet_spot_convert_bnb"})}},e("nav-cover-bnb"))))))}));var Ue=o("ZHrw"),je=o("zpWZ"),We=o("heg9"),Ze=o("jih7"),Ke=o("5BFz"),Ye=o("e7DS"),qe=o("JkV9"),Je=o("Ko6d"),Xe=o("n0oh");const Ge=e=>{(0,Xe.t)({event:"click",eventCategory:"wl_fiatandspot",eventAction:"click",eventLabel:`wl_fiat_spot::action_${e}`,elementid:`fiat_spot_wallet_${e}`})};var Qe=i().createElement;const et=i().memo((function(e){let{type:t="number",itemKey:o,iconProps:n,children:a}=e,r=(0,we.Z)(e,["type","itemKey","iconProps","children"]);const{sort:{sortType:s,setSortType:c}}=K(),[p,d]=s.split("@@"),u=p===o,m=/^desc$/i.test(d);return Qe(l.Flex,Object.assign({},r,{"data-check":u,__css:{alignItems:"center",userSelect:"none",cursor:"pointer",fontWeight:u?"medium":"normal"},onClick:()=>{((e,t)=>{(0,Xe.t)({event:"click",eventCategory:"wl_fiatandspot",eventAction:"click",eventLabel:`wl_fiat_spot:${t?"desc":"asc"}_${e}`,elementid:"fiat_spot_wallet_table_sort"})})(o,!u||!m),c(o,t,!u||!m)}}),a,i().createElement(u?m?qe.Z:Je.Z:Ye.Z,(0,X.Z)({},n)))}));var tt=o("EdWt");const ot=o("1NYo")._track,nt="click_spot_wallet_select_coin_trade";var it=i().createElement;const at=({symbols:e,loading:t,isLvtToken:o})=>{const{i18n:{language:n}}=(0,r.useMainUC)(),i=(0,R.useHistory)();return t?it(l.Card,{sx:{position:"relative",bg:"popupBg"}},it(l.Spinner,{sx:{height:28,">div":{width:"3px"}}})):it(l.Card,{sx:{p:0,bg:"popupBg",maxHeight:220,overflowY:"auto",overflowX:"hidden"}},e.map((e=>{const{baseAsset:t,quoteAsset:a}=e,r=[t,a],c=r.join("_"),p=["",n,o?"trade/pro":"trade",c];return it(l.Text,{id:`fiat_spot_list_trade_${r.join("_")}`,key:r.join("_"),sx:{px:"ls",py:"xs",fontSize:0,cursor:"pointer",borderBottom:"1px solid",borderBottomColor:"line","&:hover":{color:"primary"},"&:last-of-type":{border:"none"}},color:"t.primary",onClick:(d=()=>{i.push(te.IS_ELECTRON?`binance://trade/spot/${c}`:p.join("/")),(0,s.default)("webClick",{pageName:"binance_wallet_spot",elementId:"binance_click_wallet_spot_asset_trade",extraInfo:{pairs:r.join("/")}}),ot(nt,{trading_pair:r.join("/")})},e=>{e.stopPropagation(),"function"===typeof d&&d()})},r.join("/"));var d})))},lt=({symbols:e,loading:t,isLvtToken:o,timeStamp:i})=>{const{t:a,i18n:{language:c}}=(0,r.useMainUC)(),{0:p,1:d}=(0,n.useState)(!1);(0,n.useMemo)((()=>i&&d(!0)),[i]);const{0:u,1:m}=(0,n.useState)([]),x=(0,n.useCallback)((()=>{const e=["",c,o?"trade/pro":"trade",u.join("_")];(0,s.default)("webClick",{pageName:"binance_wallet_spot",elementId:"binance_click_wallet_spot_asset_trade",extraInfo:{pairs:u.join("/")}}),ot(nt,{trading_pair:u.join("/")},(()=>window.location.href=e.join("/")))}),[u,c,o]);return p?it(l.Portal,null,it(l.Flex,{__css:{left:0,right:0,top:0,bottom:0},sx:{position:"fixed",bg:"rgba(0, 0, 0, 0.5)",alignItems:"center",justifyContent:"center",zIndex:"modal"}},t?it(l.Spinner,null):it(l.Box,{onClick:e=>e.stopPropagation(),__css:{boxShadow:"0px 10px 40px rgba(0, 0, 0, 0.04)"},sx:{bg:"bg1",fontSize:1,lineHeight:"24px",width:[310,384],position:"relative",borderRadius:"default"}},it(l.Flex,{sx:{p:"ls",alignItems:"center"}},it(l.Box,{sx:{with:24,height:24,flex:"none"}}),it(l.Text,{color:"t.primary",sx:{textAlign:"center",flex:1}},a("modal-selectPair-title")),it(Me.Z,{onClick:()=>d(!1),size:20,sx:{flex:"none",color:"icon",cursor:"pointer","&:hover":{color:"t.primary"}}})),it(l.Box,{sx:{maxHeight:300,overflowY:"auto",overflowX:"hidden",border:"1px solid",borderColor:"line",borderLeft:"none",borderRight:"none"}},e.map((e=>{const{baseAsset:t,quoteAsset:o}=e,n=[t,o],i=u.join("/")===n.join("/");return it(l.Flex,{id:`fiat_spot_list_trade_${n.join("_")}`,key:n.join("_"),__css:{px:"md",py:"ls"},sx:{cursor:"pointer",alignItems:"center",borderBottom:"1px solid",borderBottomColor:"line",justifyContent:"space-between","&:hover":{bg:"bg1"},"&:last-of-type":{border:"none"}},onClick:()=>m(n)},it(l.Text,{color:"t.primary"},n.join("/")),i?it(tt.Z,{size:24,color:"primary"}):null)}))),it(l.Box,{sx:{px:"md",py:"ls"}},it(l.Button,{width:1,onClick:x,sx:{height:40},disabled:!u.join("")},a("action-goTrade")))))):null};var rt=o("gISP"),st=o("9SNe");var ct=o("N8KH"),pt=i().createElement;function dt({free:e,targetAsset:t,minAmount:o=0,visible:i,title:a,confirmText:r,onClose:s,onConfirm:c,beforeConfirmValid:p=(()=>!0),children:d}){const{t:u}=(0,rt.$)(),{0:m,1:x}=(0,n.useState)(!1),{0:b,1:f}=(0,n.useState)(""),g=((e,t)=>({amountLess:e("exchange-leveragedTokens-validAmountTip3").replace(/\$premin\$/,t),amountHigher:e("exchange-leveragedTokens-validAmountTip1"),amountError:e("exchange-leveragedTokens-validAmountTip2")}))(u,o),h=Number(b)>Number(e),y=Number(b)<o&&Number(b)>0;let v=!1,w="";t===ct.zd?(v=Number(b||0)<=0||h||y,w=h?g.amountHigher:y?g.amountLess:g.amountError):(v=Number(b||0)<=0||h,w=h?g.amountHigher:g.amountError);const _=(0,n.useCallback)((e=>f(e)),[]),C=(0,n.useCallback)((()=>{!v&&p()?(c(b),s()):x(!0)}),[b]);return pt(l.Dialog,{visible:i,onMaskClick:s,width:["96%",500],sx:{borderRadius:"4px"}},pt(Me.Z,{sx:{position:"absolute",top:"20px",right:"20px"},size:16,color:"#848E9C",onClick:s,cursor:"pointer"}),pt(l.Flex,{justifyContent:"center",px:"20px",py:"sm",sx:{fontSize:2,fontWeight:500,borderBottom:"2px solid #f0b90b"}},a),pt(l.Flex,{flexDirection:"column",p:"md"},pt(l.Box,{color:"#848E9C",fontSize:1,mt:"22px"},u("exchange-leveragedTokens-amount")),pt(B.TextField,{type:"number",value:b,onChange:e=>((e,t,o)=>{let n=e.target.value;return/[^\d|.|,|\u3002]/.test(n)?"":(/\u3002|,/.test(n)&&(n=n.replace(/[\u3002|,]/g,".")),/^0\d/.test(n)?n="0":/^\./.test(n)?n=0+n.substring(0,o+1):Number(n)>=0&&-1!==n.indexOf(".")&&n.split(".")[1].length>=o&&(n=n.replace(new RegExp(`^(\\d*\\.\\d{${o}})\\d*`),"$1")),Number.isNaN(Number(n))?"":void t(n))})(e,_,ct.aL),boxProps:{sx:{width:"100%"}},error:(""!==b||m)&&v,errorText:w,suffix:pt(l.Flex,{style:{color:"#F0B90B",cursor:"pointer",fontSize:"14px"},onClick:()=>{f((0,he.GW)(e,ct.aL))}},pt(l.Box,{color:"#848E9C",mr:"2px"},u("exchange-leveragedTokens-available"),":"),`${(0,he.GW)(e,ct.aL,!0)} `,t),sx:{"::-webkit-outer-spin-button":{WebkitAppearance:"none"},"::-webkit-inner-spin-button":{WebkitAppearance:"none"},MozAppearance:"textfield"}}),pt(l.Box,{mt:["md","xp"],mb:["xl","xp"],color:"t.primary",fontSize:"0"},d),pt(l.Flex,{justifyContent:"center"},pt(l.Button,{sz:"l",py:"8px",width:["100%"],disabled:""!==b&&v,variant:"primary",onClick:C},r))))}const ut=e=>{if(0===(e=+e))return e;const[t,o=""]=String(e).split(".");return o.length<=2?(0,Ce.uf)((0,he.mD)(e,2),2):o.length>4?(0,Ce.uf)((0,he.mD)(e,2),4):(0,Ce.uf)(e,o.length)};var mt=i().createElement;function xt({indAmountLabel:e,individualUsed:t,userDailyLimit:o,allAmountLabel:n,tokenUsed:a,dailyLimit:r,updatedDelayLabel:s}){return mt(i().Fragment,null,mt(l.Flex,{justifyContent:"space-between"},mt(l.Text,{variant:"caption",maxWidth:["60%","unset"]},e,":"),ut(t)," / ",o),mt(l.Flex,{justifyContent:"space-between"},mt(l.Text,{variant:"caption",maxWidth:["60%","unset"]},n,":"),ut(a)," / ",r),mt(l.Text,{variant:"caption",color:"header.gray",mt:"md"},"*",s,"."))}var bt=i().createElement;function ft({currItem:e,visible:t,onClose:o,beforeConfirmValid:i=(()=>!0)}){const{t:a}=(0,rt.$)(),{enqueueNotification:l}=(0,B.useNotification)(),{coin:r,free:s}=e,{0:c,1:p}=(0,n.useState)({}),{0:d,1:u}=(0,n.useState)({}),{individualUsed:m=0,tokenUsed:x=0}=c||{},{dailyRedeemLimit:b=0,userDailyRedeemLimit:f=0}=d||{},g=(0,n.useCallback)((async()=>{const{data:e}=await(0,st.fw)({tokenName:r}),{data:t}=await(0,st.zu)({asset:r,type:"REDEEM"});u(e),p(t)}),[r]),h=(0,n.useCallback)((async e=>{const{success:t,data:o,message:n}=await(0,st.li)({redeemAmount:+e,redeemAsset:r})||{},{redeemStatus:i}=o||{};t&&"SUCCESS"===i&&(l(a("exchange-leveragedTokens-redeemSucess"),{variant:"success",autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:()=>{}}),setTimeout((()=>{window.location.reload()}),2e3))}),[r]);return(0,n.useEffect)((()=>{g()}),[g]),bt(dt,{free:s,targetAsset:r,visible:t,onClose:o,onConfirm:h,title:`${a("exchange-leveragedTokens-redeem")} ${r}`,confirmText:a("exchange-leveragedTokens-confirmRedemption"),beforeConfirmValid:i},bt(xt,{indAmountLabel:a("exchange-leveragedTokens-IndRedemptionAmount"),individualUsed:m,userDailyLimit:f,allAmountLabel:a("exchange-leveragedTokens-AllRedemptionAmount"),tokenUsed:x,dailyLimit:b,updatedDelayLabel:a("exchange-leveragedTokens-RedemptionAmountUpdatedDelay")}))}var gt=o("DaTv"),ht=o("gZHh"),yt=i().createElement;function vt({currItem:e,visible:t,onClose:o,beforeConfirmValid:i=(()=>!0)}){const{t:a}=(0,rt.$)(),{showKycDialog:l}=(0,ht.k)(),{enqueueNotification:r}=(0,B.useNotification)(),{coin:s}=e,{free:c=0}=(0,gt.L)(ct.zd),{0:p,1:d}=(0,n.useState)({}),{0:u,1:m}=(0,n.useState)({}),{individualUsed:x=0,tokenUsed:b=0}=p||{},{dailyPurchaseLimit:f=0,userDailyPurchaseLimit:g=0,purchasePreMin:h=0}=u||{},y=(0,n.useCallback)((async()=>{const{data:e}=await(0,st.fw)({tokenName:s}),{data:t}=await(0,st.zu)({asset:s,type:"SUBSCRIBE"});m(e),d(t)}),[s]),v=(0,n.useCallback)((async e=>{const{success:t,data:o,message:n,code:i}=await(0,st.lP)({purchaseAmount:+e,purchaseAsset:s})||{},{purchaseStatus:c}=o||{};t&&"SUCCESS"===c?(r(a("exchange-leveragedTokens-subscribeSuccess"),{variant:"success",autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:()=>{}}),setTimeout((()=>{window.location.reload()}),2e3)):"string"===typeof i&&/(?=^200003)(?!20000390[3456])/.test(i)&&l({message:n})}),[s]);return(0,n.useEffect)((()=>{y()}),[y]),yt(dt,{free:c,targetAsset:ct.zd,minAmount:h,visible:t,onClose:o,onConfirm:v,title:`${a("exchange-leveragedTokens-subscribe")} ${s}`,confirmText:a("exchange-leveragedTokens-confirmSubscription"),beforeConfirmValid:i},yt(xt,{indAmountLabel:a("exchange-leveragedTokens-IndSubscriptionAmount"),individualUsed:x,userDailyLimit:g,allAmountLabel:a("exchange-leveragedTokens-AllSubscriptionAmount"),tokenUsed:b,dailyLimit:f,updatedDelayLabel:a("exchange-leveragedTokens-SubscriptionAmountUpdatedDelay")}))}var wt=o("TxLj"),_t=o("BU9x"),Ct=i().createElement;const Tt=i().createContext({}),St=()=>i().useContext(Tt),kt=({children:e,value:t})=>{var o;const{isMobile:i}=(0,R.useMedia)(),a=(0,R.useHistory)(),{t:l,i18n:{language:r}}=(0,R.useMainUC)(),{t:c}=(0,rt.$)(),{convertAsset:p,buyWalletSelector:d,hasEarnProjectAsset:u,fiatSellCryptoMap:m}=K(),{t:x}=(0,rt.$)(),{isSignedLVTRiskAgreement:b}=(0,ge.Pc)(),{item:f}=t,g=(0,ne.useHideBtnForSubAccount)(),{trading:h,coin:y,withdrawalEnable:v,depositEnable:w,isLegalMoney:_,etf:C,depositHideAll:T,withdrawHideAll:S}=f,k=_?"fiat":"crypto",I=F.Q.read("fiat-prefer-currency"),E=te.IS_ELECTRON?`binance://account/withdraw/${k}/${y}`:`/${r}/my/wallet/account/main/withdrawal/${k}/${y}`,A=te.IS_ELECTRON?`binance://account/deposit/${k}/${y}`:`/${r}/my/wallet/account/main/deposit/${k}/${y}`,D=te.IS_ELECTRON?`binance://buy-sell-crypto?channel=wallet&fiat=${y}`:`/${r}/buy-sell-crypto?channel=wallet&fiat=${y}`,B=(0,te.getEmbeddedUrlIfNeed)(`/${r}/convert`),{cachePreferFiat:L}=(0,wt.CE)(),N=(0,ve.useRegion)(),P=(0,n.useMemo)((()=>!["USDT","BTC","BUSD","BNB","ETH","DAI"].includes(f.coin)||"cn"!==N&&"CNY"!==L.split("_")[0]?te.IS_ELECTRON?`binance://buy-sell-crypto?fiat=${I}&crypto=${y}`:`/${r}/buy-sell-crypto?fiat=${I}&crypto=${y}`:te.IS_ELECTRON?`binance://p2p/trade/buy/${f.coin}`:`${_t.default.c2cTrade}/trade/buy`),[f.coin,N,L,I,y,r]),{0:{asset:O,timeStamp:M},1:$}=(0,n.useState)({asset:"",timeStamp:null}),{0:z,1:H}=(0,n.useState)(!1),{0:U,1:j}=(0,n.useState)(!1),{0:W,1:Z}=(0,n.useState)(!1),{symbols:Y,loading:q}=V(O,_),{0:J,1:G}=(0,n.useState)(!1),Q=(0,n.useCallback)((e=>{e.stopPropagation(),G(!J),$({asset:y,timeStamp:Date.now()}),i&&Z(!1),(0,s.default)("webClick",{pageName:"binance_wallet_spot",elementId:"binance_click_wallet_spot_asset_trade"})}),[J,y,i,G,$]),ee=`/${r}/trade/pro/${y}_${null===Y||void 0===Y||null===(o=Y[0])||void 0===o?void 0:o.quoteAsset}`,oe=(0,n.useCallback)((()=>!!b||(a.push(ee),!1)),[b,ee,a]),ie=(0,n.useMemo)((()=>u.indexOf(y)>-1&&!g),[y,u,g]),ae={symbols:Y,loading:q,timeStamp:M,isLvtToken:C};return Ct(Tt.Provider,{value:(0,X.Z)({isLegalMoney:_,specialBuyLink:P,withdrawalEnable:v,depositEnable:w,fiatCoin:I,coinName:y,buyWalletSelector:d,buyWithWalletLink:D,fiatSellCryptoMap:m,depositHideAll:T,depositLink:A,withdrawalLink:E,withdrawHideAll:S,contentProps:ae,eventClick:Q,trading:h,isLvtToken:C,setSubscribeModalVisible:j,spotTranslation:x,setState:$,setRedeemModalVisible:H,setH5ActionModalVisible:Z,showEarn:ie,convertAsset:p,convertUrl:B,tSpot:c,t:l,redeemModalVisible:z,subscribeModalVisible:U,h5ActionModalVisible:W,beforeConfirmValid:oe,lng:r,coinData:t.item,tradeOpen:J},t)},e)};var It=i().createElement;const Et=()=>{const{isLvtToken:e,setSubscribeModalVisible:t,setRedeemModalVisible:o,item:n,redeemModalVisible:a,beforeConfirmValid:l,subscribeModalVisible:r}=St();return e?It(i().Fragment,null,a&&It(ft,{currItem:n,visible:a,onClose:()=>o(!1),beforeConfirmValid:l}),r&&It(vt,{currItem:n,visible:r,onClose:()=>t(!1),beforeConfirmValid:l})):null};(0,B.withWidgetBoundary)(Et,{errorBoundaryProps:{name:"LvtTokenModals"}});var At=i().createElement;const Dt=e=>{let{Icon:t=null,text:o}=e,n=(0,we.Z)(e,["Icon","text"]);const{isDesktop:i}=(0,R.useMedia)();return At(l.Flex,Object.assign({sx:{px:[0,"sm",0],py:["14px","10px"],cursor:"pointer",alignItems:"center","&:hover":{bg:["bg3","bg3","inherit"]}}},n),!i&&t&&At(t,{sx:{size:[20,16],">  path":{fill:["t.primary","t.third"]}}}),At(l.Text,{sx:{variant:["text.subtitle2","text.body2","text.body1"],color:["t.primary","t.primary","t.yellow"],"&:hover":{color:["t.primary","primary","primary"]}},ml:["8px","6px",0]},o))};var Bt=i().createElement;const Lt=e=>Bt(l.Flex,Object.assign({sx:{cursor:"pointer",alignItems:"center",borderBottom:"1px solid",borderBottomColor:"line",justifyContent:"space-between","&:hover div":{bg:"bg1",color:"primary"},"&:last-of-type":{border:"none"}}},e)),Nt=e=>Bt(l.Flex,Object.assign({__css:{left:0,right:0,top:0,bottom:0},sx:{position:"fixed",bg:"rgba(0, 0, 0, 0.5)",alignItems:"center",justifyContent:"center",zIndex:"modal"}},e)),Ft=e=>Bt(l.Box,Object.assign({__css:{boxShadow:"0px 10px 40px rgba(0, 0, 0, 0.04)"},sx:{bg:"bg1",fontSize:1,lineHeight:"24px",width:[310,384],position:"relative",borderRadius:"default"}},e)),Rt=e=>Bt(l.Box,Object.assign({sx:{maxHeight:300,overflowY:"auto",overflowX:"hidden",border:"1px solid",borderColor:"line",borderLeft:"none",borderRight:"none"}},e)),Pt=e=>Bt(Me.Z,Object.assign({size:20,sx:{flex:"none",color:"icon",cursor:"pointer","&:hover":{color:"t.primary"}}},e)),Ot=({asset:e})=>{const{t:t}=(0,r.useMainUC)(),{isDesktop:o}=(0,R.useMedia)(),{0:a,1:c}=(0,n.useState)([]),{0:p,1:d}=(0,n.useState)(!1),{0:u,1:m}=(0,n.useState)(!1),{0:x,1:b}=(0,n.useState)(""),{0:f,1:g}=(0,n.useState)(""),h=(0,n.useCallback)((async t=>{if((0,s.default)("webClick",{pageName:"binance_wallet_spot",elementId:"binance_click_wallet_spot_asset_earn"}),t.stopPropagation(),d(!o||!p),a.length>0)return;const n=(0,$.DT)({asset:e});try{m(!0);const{data:e}=await(0,M.get)(`/bapi/earn/v1/private/finance-earn/business/asset/list?${n}`);c(e||[]),m(!1)}catch(t){m(!1)}}),[e,a,o,p]),y=(0,n.useCallback)((()=>{window.location.href=f}),[f]),v=(0,n.useMemo)((()=>p?Bt(l.Portal,null,Bt(Nt,null,u?Bt(l.Spinner,null):Bt(Ft,{onClick:e=>e.stopPropagation()},Bt(l.Flex,{sx:{p:"ls",alignItems:"center"}},Bt(l.Box,{sx:{with:24,height:24,flex:"none"}}),Bt(l.Text,{color:"t.primary",sx:{textAlign:"center",flex:1}},t("modal-earn-list-title")),Bt(Pt,{onClick:()=>d(!1)})),Bt(Rt,null,a.map((e=>{const o=Object.keys(e)[0],n=Object.values(e)[0];return Bt(Lt,{id:`fiat_spot_list_earn_${o}`,key:o,px:"md",py:"ls",fontSize:[1],onClick:e=>{e.stopPropagation(),(0,s.default)("webClick",{pageName:"binance_wallet_spot",elementId:"binance_click_wallet_spot_asset_earn",extraInfo:{earn:o}}),b(o),g(n)}},Bt(l.Text,{color:"t.primary"},t(`wallet-earnType-${o.toLowerCase()}`)),o===x&&Bt(tt.Z,{size:24,color:"primary"}))}))),Bt(l.Box,{sx:{px:"md",py:"ls"}},Bt(l.Button,{width:1,disabled:!x,onClick:y,sx:{height:40},children:t("action-earn-rewards")}))))):null),[p,u,x]);return o?Bt(l.Dropdown,{open:p,enablePortal:!0,trigger:"click",placement:"bottom-start",overlay:u?Bt(l.Card,{sx:{position:"relative",bg:"popupBg"}},Bt(l.Spinner,{sx:{height:28,">div":{width:"3px"}}})):Bt(l.Card,{sx:{p:0,bg:"popupBg",maxHeight:220,overflowY:"auto",overflowX:"hidden"}},null===a||void 0===a?void 0:a.map((e=>{const o=Object.keys(e)[0],n=Object.values(e)[0];return Bt(Lt,{id:`fiat_spot_list_earn_${o}`,key:o,px:"ls",py:"xs",fontSize:[0],onClick:e=>{(0,s.default)("webClick",{pageName:"binance_wallet_spot",elementId:"binance_click_wallet_spot_asset_earn",extraInfo:{earn:o}}),e.stopPropagation(),window.open(n,"_blank")}},Bt(l.Text,{color:"t.primary"},t(`wallet-earnType-${o.toLowerCase()}`)))})))},Bt(Dt,{Icon:ne.TRADE_ICONS.EARN,onClick:h,text:t("wallet-action-earn")})):Bt(i().Fragment,null,Bt(Dt,{Icon:ne.TRADE_ICONS.EARN,onClick:h,text:t("wallet-action-earn")}),v)};var Mt=i().createElement;const $t=(0,B.withWidgetBoundary)((()=>{const{coinName:e,convertAsset:t,convertUrl:o,tSpot:n}=St(),i=t&&t[e],a=(0,R.useHistory)();return i?Mt(Dt,{Icon:ne.TRADE_ICONS.CONVERT,text:n("action-convert"),onClick:(0,Ze.KI)((()=>{(0,s.default)("webClick",{pageName:"binance_wallet_spot",elementId:"binance_click_wallet_spot_asset_convert"}),Ge("fiat_spot_wallet_convert"),a.push(o)}))}):null}),{errorBoundaryProps:{name:"ConvertAction"}});var zt=i().createElement;const Vt=(0,B.withWidgetBoundary)((()=>{const{coinName:e,isLvtToken:t,setSubscribeModalVisible:o,spotTranslation:n,setState:a,setRedeemModalVisible:l}=St();return t?zt(i().Fragment,null,zt(Dt,{onClick:(0,Ze.KI)((()=>{a({asset:e}),o(!0),Ge("fiat_spot_wallet_leverage_subscribe")})),text:n("exchange-leveragedTokens-subscribe")}),zt(Dt,{onClick:t=>{t.stopPropagation(),a({asset:e}),l(!0),Ge("fiat_spot_wallet_leverage_redeem")},text:n("exchange-leveragedTokens-redeem")})):null}),{errorBoundaryProps:{name:"LvtTokenAction"}});var Ht=o("SbxE"),Ut=i().createElement;const jt=()=>{const{coinName:e,buyWalletSelector:t,buyWithWalletLink:o,t:n}=St(),i=(0,R.useHistory)();return t&&t[e]?Ut(Dt,{Icon:ne.TRADE_ICONS.BUY,onClick:()=>{(0,Ht.binanceTrack)({pageName:"fiat_spot_wallet_page",elementId:"fiat_spot_wallet_buy",extraInfo:{Fiat_ID:e,Crypto_ID:""}}),Ge("fiat_spot_wallet_buy"),i.push(o,{isExternal:!0})},text:n("action-buy")}):null},Wt=()=>{const{specialBuyLink:e,fiatCoin:t,coinName:o,t:n}=St(),i=(0,R.useHistory)();return Ut(Dt,{id:"fiat_spot_wallet_buy",Icon:ne.TRADE_ICONS.BUY,onClick:(0,Ze.KI)((()=>{(0,Ht.binanceTrack)({pageName:"fiat_spot_wallet_page",elementId:"fiat_spot_wallet_buy",extraInfo:{Fiat_ID:t,Crypto_ID:o}}),Ge("fiat_spot_wallet_buy"),i.push(e,{isExternal:!0})})),text:n("action-buy")})},Zt=(0,B.withWidgetBoundary)((()=>{const e=(0,ne.useHideBtnForSubAccount)(),{isLegalMoney:t}=St();return e?null:Ut(t?jt:Wt,null)}),{errorBoundaryProps:{name:"BuyAction"}});var Kt=i().createElement;const Yt=(0,B.withWidgetBoundary)((()=>{const{coinName:e,fiatSellCryptoMap:t,t:o,lng:i,tradeOpen:a}=St(),l=(0,R.useHistory)(),r=(0,n.useCallback)((({channel:e})=>`/${i}/buy-sell-crypto?type=SELL&channel=${e}`),[i]);if((0,ne.useHideBtnForSubAccount)())return null;try{const n=t&&t[e];if(!n)return null;const{channels:i=[]}=n;if(0===i.length)return null;const a=i.includes("card")?"card":i[0];return Kt(Dt,{Icon:ne.TRADE_ICONS.SELL,text:o("action-sell"),onClick:(0,Ze.KI)((()=>{(0,Ht.binanceTrack)({pageName:"binance_wallet_spot",elementId:"binance_click_wallet_spot_sell",extraInfo:{token:e}}),l.push(r({channel:a}))}))})}catch(s){}return null}),{errorBoundaryProps:{name:"SellAction"}});var qt=i().createElement;const Jt=(0,B.withWidgetBoundary)((()=>{const{isLegalMoney:e,coinName:t,depositHideAll:o,depositLink:n,t:i}=St(),a=(0,R.useHistory)();return o?null:qt(Dt,{Icon:ne.TRADE_ICONS.DEPOSIT,onClick:(0,Ze.KI)((()=>{(0,Ht.binanceTrack)({pageName:"fiat_spot_wallet_page",elementId:"fiat_spot_wallet_deposit",extraInfo:{Fiat_ID:e?t:"",Crypto_ID:e?"":t}}),(0,ne.track)(ne.TRACK_KEYS.SPOTACCOUNT_ASSET_LIST_ITEM_DEPOSIT,{depositLink:n}),Ge("fiat_spot_wallet_deposit"),a.push(n)})),text:i("action-deposit")})}),{errorBoundaryProps:{name:"DepositAction"}});var Xt=i().createElement;const Gt=(0,B.withWidgetBoundary)((()=>{const{isLegalMoney:e,coinName:t,withdrawalLink:o,withdrawHideAll:n,t:i}=St(),a=(0,R.useHistory)();return(0,ne.useHideBtnForSubAccount)()||n?null:Xt(Dt,{Icon:ne.TRADE_ICONS.WITHDRAW,onClick:(0,Ze.KI)((()=>{(0,Ht.binanceTrack)({pageName:"fiat_spot_wallet_page",elementId:"fiat_spot_wallet_withdraw",extraInfo:{Fiat_ID:e?t:"",Crypto_ID:e?"":t}}),(0,ne.track)(ne.TRACK_KEYS.SPOTACCOUNT_ASSET_LIST_ITEM_WITHDRAWAL,{withdrawalLink:o}),Ge("fiat_spot_wallet_withdraw"),a.push(`${o}?origin=MBX`)})),text:i("action-withdrawals")})}),{errorBoundaryProps:{name:"WithdrawAction"}});var Qt=i().createElement;const eo=()=>Qt(i().Fragment,null,Qt(Zt,null),Qt(Yt,null),Qt(Jt,null),Qt(Gt,null));var to=i().createElement;const oo=()=>{const{coinName:e,contentProps:t,eventClick:o,trading:n,showEarn:i,t:a,tradeOpen:r}=St();return to(l.Flex,{sx:{fontSize:[1,1],justifyContent:["flex-end","flex-start"],alignItems:"center","> div":{mr:"sm",pl:["xs",0],py:["minor",0],border:["1px solid",0],borderColor:"primary"},"> div:last-of-type":{mr:0},"> [data-disable=false]":{color:"t.yellow","&:hover":{textDecoration:["none","underline"]}}}},to(eo,null),!!n&&to(l.Dropdown,{open:r,enablePortal:!0,trigger:"click",placement:"bottom-start",overlay:to(at,t)},to(Dt,{Icon:ne.TRADE_ICONS.TRADE,onClick:o,text:a("action-trade")})),i&&to(Ot,{asset:e}),to(Vt,null),to($t,null),to(l.Flex,{justifyContent:"flex-end",sx:{position:"absolute",right:"16px"}},to(l.Box,{className:"chevronRightList",sx:{width:"24px",height:"24px",borderRadius:"50%",bg:"bg2"}},to(Ae.Z,{size:24,color:"t.primary"}))))};var no=o("XOLl"),io=i().createElement;const ao=(0,B.withWidgetBoundary)((()=>{const{contentProps:e,eventClick:t,t:o}=St(),{isDesktop:n}=(0,R.useMedia)();return n?io(l.Dropdown,{enablePortal:!0,trigger:"click",placement:"bottom-start",overlay:io(at,e)},io(Dt,{Icon:ne.TRADE_ICONS.TRADE,onClick:t,text:o("action-trade")})):io(Dt,{Icon:ne.TRADE_ICONS.TRADE,onClick:t,text:o("action-trade")})}),{errorBoundaryProps:{name:"TradeAction"}});var lo=o("JoA5"),ro=i().createElement;const so=()=>{const{setHistoryVisible:e,setCoinData:t,coinData:o,setH5ActionModalVisible:n}=St(),{t:i}=(0,lo.$)();return ro(Dt,{Icon:ne.TRADE_ICONS.HISTORY,onClick:(0,Ze.KI)((()=>{n(!1),e(!0),t(o)})),text:i("History")})};(0,B.withWidgetBoundary)(so,{errorBoundaryProps:{name:"HistoryAction"}});var co=i().createElement;const po=(0,B.withWidgetBoundary)((()=>{const{coinName:e,trading:t,showEarn:o}=St();return co(i().Fragment,null,co(eo,null),t?co(ao,null):null,o&&co(Ot,{asset:e}),co(Vt,null),co($t,null),co(so,null))}),{errorBoundaryProps:{name:"ActionContents"}});var uo=i().createElement;const mo=()=>{const{coinName:e,h5ActionModalVisible:t,setH5ActionModalVisible:o}=St();return uo(i().Fragment,null,uo(no.Z,{size:[20,24],color:"icon",onClick:()=>o((e=>!e))}),uo(B.ModalV2.Modal,{minWidth:"375px",visible:t},uo(B.ModalV2.ModalTitle,{title:uo(l.Text,{color:"t.primary"},e),onClose:()=>o(!1)}),uo(l.Flex,{flexDirection:"column"},uo(po,null))))};var xo=i().createElement;const bo=()=>{const e=xo(l.Card,{sx:{p:0,bg:"bg1",fontSize:0,borderRadius:"4px",boxShadow:"card"},children:xo(po,null)}),{0:t,1:o}=(0,n.useState)(!1),i=(0,n.useCallback)((e=>{e.stopPropagation(),o(!t)}),[t]);return xo(l.Dropdown,{open:t,enablePortal:!0,trigger:"click",placement:"bottom-end",overlay:e},xo(no.Z,{size:[20,24],color:"icon",sx:{px:"minor","&:hover":{bg:"line",borderRadius:"4px",color:"t.primary"}},onClick:i}))};var fo=i().createElement;const go=()=>{const{isMobile:e,isDesktop:t,isTablet:o}=(0,R.useMedia)(),{contentProps:n,trading:a}=St();return fo(i().Fragment,null,t?null:!!a&&fo(lt,n),o?fo(bo,null):null,t?fo(oo,null):null,e?fo(mo,null):null,fo(Et,null))},ho=i().memo((({item:e,setHistoryVisible:t,setCoinData:o})=>fo(kt,{value:{item:e,setHistoryVisible:t,setCoinData:o}},fo(go,null)))),yo=(0,B.withWidgetBoundary)(ho,{errorBoundaryProps:{name:"Action"}});var vo=o("hdDP"),wo=o("Yq0s"),_o=o.n(wo);var Co=i().createElement;const To=e=>0!==e&&e?e>0?"t.buy":"t.sell":"t.primary",So=({crypto:e={}})=>{var t,o,a,s,c;const{t:p,i18n:d}=(0,r.useMainUC)(),u=["cn","tw"].indexOf(d.language)>-1?"cn":"en",m=`${(0,We.getInfoBase)()}/${u}/currencies/${e.routePathName}`,{getFiatPrice:x}=K(),[b,f]=i().useState(1),g=i().useRef(),{0:h,1:y}=(0,n.useState)({}),{0:v,1:w}=(0,n.useState)({}),{symbol:_,fiatPrice:C}=x(e.total,"BTC"),T=(()=>{const{0:e,1:t}=(0,n.useState)("USD"),o=(0,ge.T)(),i=(0,ge.nX)(),{rate:a,symbol:l}=i[e]||{rate:1,symbol:"$"};return(0,n.useEffect)((()=>{t(o.split("_")[0]||"USD")}),[o]),(e=0,t=!0)=>(t?e>0?"+":0===e?"":"-":"")+l+(0,Ce.uf)(Math.abs((0,he.Jp)(e,a).toFixed(2)),2)})();return(0,n.useEffect)((()=>{(0,M.post)("/bapi/composite/v1/private/report/asset-open/coin-pnl/asset-profit-loss",{asset:e.coin}).then((e=>{null!==e&&void 0!==e&&e.data&&y(null===e||void 0===e?void 0:e.data)}))}),[e.coin]),(0,n.useEffect)((()=>{(0,M.post)("/bapi/composite/v1/private/report/asset-open/coin-pnl/flow-list",{asset:e.coin,page:b,rows:10}).then((e=>{null!==e&&void 0!==e&&e.data&&w(null===e||void 0===e?void 0:e.data)}))}),[e.coin,b]),Co(i().Fragment,null,Co(l.Flex,{alignItems:"center",justifyContent:"space-between",width:["100%",392],height:"104px",p:16,mt:18,ml:[0,16],sx:{background:"#fff",borderRadius:"4px"}},Co(l.Flex,{alignItems:"center"},Co(l.Flex,{alignItems:"center"},Co(R.LazyImg,{src:e.logoUrl,sx:{width:48,height:48},isSvg:!0}),Co(l.Flex,{flexDirection:"column",flexWrap:"wrap",ml:"ls"},Co(l.Text,{sx:{mr:"xs"},fontSize:24,children:e.coin}),e.routePathName?Co(Q.Link,{mt:"4px",isExternal:!0,to:m,sx:{textDecoration:"underline",color:"t.third",whiteSpace:"nowrap"},children:e.name}):Co(l.Text,{mt:"4px",sx:{color:"t.third",whiteSpace:"nowrap"},children:e.name})))),Co(l.Flex,{flexDirection:"column",alignItems:"flex-end"},Co(l.Box,{fontSize:24,color:"t.primary"},(S=e.total,isNaN(+S)?0:(0,Ce.uf)(+S,8))),Co(l.Box,{mt:"4px",color:"t.third",fontSize:16},`\u2248 ${_}${C}`))),Co(l.Flex,{flexDirection:"column",width:["100%",392],height:"152px",p:16,mt:16,ml:[0,16],sx:{background:"#fff",borderRadius:"4px"}},Co(l.Flex,null,Co(l.Flex,{flexDirection:"column",flex:"1.5"},Co(l.Box,{color:"t.third",fontSize:14},p("balance-pnl-profitLoss")),Co(l.Box,{mt:"8px",color:To(h.profitLoss),fontSize:20},"null"===h.profitLoss?"--":T(h.profitLoss))),Co(l.Flex,{flexDirection:"column",flex:"1"},Co(l.Box,{color:"t.third",fontSize:14},"% ",p("balance-pnl-profitLoss")),Co(l.Box,{mt:"8px",color:To(h.profitLossRate),fontSize:20},"null"===h.profitLossRate&&"--",h.profitLossRate>0&&`+${(0,he.Jp)(h.profitLossRate,100)}%`,0===h.profitLossRate&&"0%",h.profitLossRate<0&&`-${(0,he.Jp)(h.profitLossRate,100)}%`))),Co(l.Flex,{mt:16},Co(l.Flex,{flexDirection:"column",flex:"1.5"},Co(l.Box,{color:"t.third",fontSize:14},p("balance-pnl-avgNetCost"),Co(B.Tooltip,{tip:Co("span",null,p("balance-pnl-averageNetCost"),Co("br",null),p("balance-pnl-avgNetCostTip")),arrow:!0,placement:"top"},Co(be.Z,{size:16,ml:"5px",sx:{position:"relative",top:"3px"}}))),Co(l.Flex,{alignItems:"center",mt:"8px",color:"t.primary",fontSize:20},Co(l.Box,null,"null"===h.avgNetCost?"--":T(h.avgNetCost,!1)))),Co(l.Flex,{flexDirection:"column",flex:"1"},Co(l.Box,{color:"t.third",fontSize:14},p("balance-pnl-currentPrice")),Co(l.Box,{mt:"8px",color:"t.primary",fontSize:20},"null"===h.exchangeRate?"--":T(h.exchangeRate,!1))))),Co(l.Box,{width:["100%",392],height:"591px",p:16,mt:16,ml:[0,16],sx:{background:"#fff",borderRadius:"4px",overflow:"auto"}},Co(l.Box,{sx:{borderBottom:"1px solid #E6E8EA"}},Co(l.Box,{ref:g,fontSize:14,color:"t.primary",mb:"8px",lineHeight:"20px"},p("balance-pnl-positionRecords"),Co(B.Tooltip,{color:"t.third",tip:p("balance-pnl-positionRecordsTip"),arrow:!0,placement:"top"},Co(be.Z,{size:16,ml:"5px",sx:{position:"relative",top:"3px"}})))),v.assetProfitFlowList&&v.assetProfitFlowList.map(((e,t)=>Co(l.Flex,{mt:24,mb:28,fontSize:14,key:t},Co(l.Flex,{flexDirection:"column",flex:1},Co(l.Box,{color:"t.primary",mb:"8px"},"BUY"===e.flowType&&Co(l.Text,{as:"span",color:"t.buy"},e.flowType),"Sell"===e.flowType&&Co(l.Text,{as:"span",color:"t.sell"},e.flowType),"BUY"!==e.flowType&&"Sell"!==e.flowType&&Co(l.Text,{as:"span"},e.flowType)),Co(l.Box,{color:"t.third"},_o()(e.flowTime).format("YYYY-MM-DD HH:mm:ss"))),Co(l.Flex,{alignItems:"flex-end",flexDirection:"column",flex:1},Co(l.Box,{color:"t.primary",mb:"4px"},e.flowAmount," ",e.asset||"BTC"),Co(l.Flex,{alignItems:"center",color:"t.third"},p("balance-pnl-price"),":",Co(l.Text,{ml:"4px",as:"span"},"null"===e.exchangeRate?"--":T(e.exchangeRate,!1))))))),(null===v||void 0===v?void 0:v.initialRecord)&&Co(l.Flex,{mt:24,mb:24,fontSize:14},Co(l.Flex,{flexDirection:"column",flex:1},Co(l.Box,{color:"t.primary",mb:"4px"},"Initial holdings",Co(B.Tooltip,{color:"t.third",tip:p("balance-pnl-initialHoldingsTip"),arrow:!0,placement:"top"},Co(be.Z,{size:16,ml:"5px",sx:{position:"relative",top:"3px"}}))),Co(l.Box,{color:"t.third"},_o()(null===v||void 0===v||null===(t=v.initialRecord)||void 0===t?void 0:t.flowTime).format("YYYY-MM-DD HH:mm:ss"))),Co(l.Flex,{flexDirection:"column",alignItems:"flex-end",flex:1},Co(l.Box,{color:"t.primary",mb:"4px"},null===v||void 0===v||null===(o=v.initialRecord)||void 0===o?void 0:o.flowAmount," ",(null===v||void 0===v||null===(a=v.initialRecord)||void 0===a?void 0:a.asset)||"BTC"),Co(l.Box,{color:"t.third"},p("balance-pnl-price"),":",Co(l.Text,{ml:"4px",as:"span"},"null"===(null===v||void 0===v||null===(s=v.initialRecord)||void 0===s?void 0:s.exchangeRate)?"--":T(null===v||void 0===v||null===(c=v.initialRecord)||void 0===c?void 0:c.exchangeRate,!1))))),v.totalCount>10&&Co(B.Pagination,{abbreviatedNumber:6,total:Math.ceil(v.totalCount/10),current:b,onMoveToPage:e=>f(e)})));var S};var ko=i().createElement;const Io=({setVisible:e,nextCryptoList:t,nextCryptoIndex:o,visible:a})=>{const{0:r,1:s}=(0,n.useState)(o);return ko(i().Fragment,null,ko(l.Mask,{visible:a,onClick:()=>{e(!1)}}),ko(l.Box,{width:["100%",424],height:"100%",sx:{overflow:["auto","unset"],position:"fixed",right:"0px",top:document.body.scrollTop>64?0:64-document.body.scrollTop,background:"#FAFAFA",boxShadow:"0px 0px 1px rgba(20, 21, 26, 0.1), 0px 16px 32px rgba(71, 77, 87, 0.16), 0px 8px 16px rgba(20, 21, 26, 0.16)",boxRadius:"2px",zIndex:"1099"},outerClick:()=>e(!1)},ko(l.Box,{height:["906px","100%"],mb:["56px",0]},ko(Me.Z,{onClick:()=>{e(!1)},color:"t.third",size:24,sx:{position:"absolute",top:["13px","16px"],right:"16px"}}),ko(l.Flex,{alignItems:"center",ml:["5px","16px"],mt:["10px","13px"]},ko(l.Flex,{alignItems:"center",color:r-1>=0?"t.third":"t.disabled"},ko(vo.Z,null),ko(l.Text,{sx:{cursor:r-1>=0&&"pointer"},onClick:()=>{r-1<0||s(r-1)},as:"span",fontSize:14},"Previous")),ko(l.Text,{as:"span",ml:"8px",mr:"8px",color:"#E6E8EA"},"|"),ko(l.Flex,{alignItems:"center",color:r+1<t.length?"t.third":"t.disabled"},ko(l.Text,{sx:{cursor:r+1<t.length&&"pointer"},onClick:()=>{r+1>=t.length||s(r+1)},as:"span",fontSize:14},"Next"),ko(Ae.Z,null))),ko(So,{crypto:t[r]}))))};var Eo=i().createElement;const Ao=({coinData:e,isDelist:t})=>{const{t:o}=(0,r.useMainUC)(),{getFiatPrice:n}=K(),{coin:i,logoUrl:a,name:s,routePathName:c,btcValue:p,total:d}=e||{},{symbol:u,fiatPrice:m}=n(p,"BTC"),x=`${(0,We.cionmarkecapBase)()}/${c}`;return Eo(l.Flex,{flexDirection:"column",px:[16,32]},Eo(l.Flex,{alignItems:"center",height:["48px","52px"],mb:"24px"},Eo(R.LazyImg,{src:a,sx:{width:[36,48],height:[36,48],flexShrink:0},isSvg:!0}),Eo(l.Flex,{flexWrap:"wrap",ml:"sm",flexDirection:"column"},Eo(l.Flex,{alignItems:"center"},Eo(l.Text,{sx:{variant:["text.title6","text.title5"],mr:"xs",color:"t.primary"}},i),t&&Eo(ne.Delist,null)),c&&!te.IS_ELECTRON?Eo(R.Link,{color:"t.third",isExternal:!0,to:x,sx:{textDecoration:"underline","&:hover":{color:"t.yellow"}},onClick:e=>{e.preventDefault(),window.open(x,"_blank")}},Eo(R.TextOverflow,{sx:{variant:["text.linkCaption","text.linkBody"]},value:s})):Eo(l.Text,null,Eo(R.TextOverflow,{sx:{variant:["text.caption","text.body2"]},color:"t.third",value:s})))),Eo(l.Text,{sx:{variant:"body2",color:"t.third",mb:"8px"}},o("balance-pnl-holdings")),Eo(l.Flex,{alignItems:"flex-end"},Eo(R.ToggleNumber,{value:Eo(l.Text,{variant:"headline5",color:"t.primary"},(b=d,Number.isNaN(+b)?0:(0,Ce.uf)(+b,8)))}),Eo(R.ToggleNumber,{value:Eo(l.Text,{variant:"body1",color:"t.third",ml:"8px"},0===Number(p)?`\u2248 ${u}0`:`\u2248 ${u}${m}`)})));var b};var Do=o("qU0x");let Bo;!function(e){e.Processing="Processing",e.Failed="Failed",e.Completed="Completed"}(Bo||(Bo={}));const Lo={0:"select-values-all",1:"select-values-deposit-withdraw",2:"select-values-convert",3:"select-values-buy-sell",4:"enum-account-earn",5:"distribution-tab-historyTitle"},No={success:Bo.Completed,failed:Bo.Failed,other:Bo.Failed,cancelled:Bo.Failed,rejected:Bo.Failed,expired:Bo.Failed,processing:Bo.Processing,confirming:Bo.Processing,pending_payment:Bo.Processing,pending_release:Bo.Processing,releasing:Bo.Processing,appealing:Bo.Processing},Fo={DEPOSIT:"action-deposit",WITHDRAW:"action-withdrawals",CONVERT:"action-convert",SELL:"action-sell",BUY:"action-buy",EARN_STAKE:"action-earn-stake",EARN_REDEEM:"action-earn-redeem",DISTRIBUTION:"distribution-tab-historyTitle",FIAT_EXCHANGE:"action-fiat-exchange"};var Ro=i().createElement;const Po=({onChange:e,selected:t})=>{const{t:o}=(0,lo.$)();return Ro(l.Flex,{flex:"row",justifyContent:"space-between",alignItems:"center",mb:"md",px:["sm","plus"]},Ro(l.Text,{variant:"subtitle1",color:"t.primary"},o("History")),Ro(B.SearchDropdown,{value:t,variant:"line",hideSearch:!0,onChange:e,width:"140px",renderValue:()=>Ro(l.Text,{variant:"subtitle2",color:"t.primary",sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},o(Lo[t]))},Object.entries(Lo).map((([e,t])=>Ro(B.SearchDropdownOption,{key:e,value:e,sx:{width:"140px","> .bn-sdd-option > div":{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},o(t))))))};var Oo=i().createElement;const Mo=({item:e})=>{const{t:t}=(0,lo.$)(),{amount:o,asset:n,status:i,type:a,time:r}=e,s=No[i],c=(e=>{switch(e){case Bo.Processing:return"primary";case Bo.Completed:return"buy";case Bo.Failed:return"error";default:return"primary"}})(s);return Oo(l.Flex,{flexDirection:"row",height:"48px",justifyContent:"space-between",py:"minor",mb:"16px"},Oo(l.Flex,{flexDirection:"column",justifyContent:"space-between",alignItems:"flex-start"},Oo(l.Text,{variant:"subtitle2",color:"t.primary"},t(Fo[a]||a)),Oo(l.Text,{variant:"caption",color:"t.third"},_o()(r).format("YYYY-MM-DD HH:mm"))),Oo(l.Flex,{flexDirection:"column",justifyContent:"space-between",alignItems:"flex-end"},Oo(l.Text,{variant:"subtitle2",color:"t.primary"},`${(e=>Number(e)>0?`+${e}`:e)(o)} ${n}`),Oo(l.Flex,null,Oo(ne.StatusPoint,{bg:c}),Oo(l.Text,{variant:"caption",color:"t.third"},t(s)))))};var $o=i().createElement;const zo=({list:e})=>{const{t:t}=(0,lo.$)();let o=null,n=null;return null!==e&&void 0!==e&&e.length?(o=$o(l.Flex,{mt:"8px",width:"100%",flexDirection:"column",justifyContent:"center"},$o(l.Text,{variant:"body2",sx:{textAlign:"center",color:"t.third"}},t("exchange-history-tip",{defaultValue:"Data of last 3 months or last 30 records."})),$o(l.Text,{variant:"body2",sx:{textAlign:"center",color:"t.third"}},t("exchange-history-tips",{defaultValue:"Please go to the spot history page for more information"}))),n=e.map(((e,t)=>$o(Mo,{key:t,item:e})))):o=$o(R.NoData,{sx:{py:"md"}}),$o(l.Box,{sx:{height:["510px"],overflowY:"auto",px:["16px","32px"]}},n,o)};var Vo=i().createElement;const Ho=({coinData:e})=>{const{0:t,1:o}=(0,n.useState)([]),{0:i,1:a}=(0,n.useState)("0"),{coin:r}=e||{};return(0,n.useEffect)((()=>{r&&(0,Do.Uq)({asset:r,queryType:i}).then((({data:e})=>{null!==e&&void 0!==e&&e.listVos&&o(e.listVos)}))}),[r,i]),Vo(l.Flex,{flexDirection:"column",mt:["36px"]},Vo(Po,{selected:i,onChange:a}),Vo(zo,{list:t}))};var Uo=i().createElement;const jo=i().memo((({setVisible:e,assetDelistMap:t,visible:o,coinData:i})=>{const a=(0,n.useCallback)((()=>{e(!1)}),[e]),{coin:r}=i;return Uo(l.Drawer,{bg:"transport",visible:o,outerClick:()=>e(!1)},Uo(l.Box,{width:["100%","424px"],height:"100%",sx:{position:"absolute",top:document.body.scrollTop>64?0:64-document.body.scrollTop,bg:"bg1",boxShadow:"elevation3",boxRadius:"2px"}},Uo(l.Box,{height:["100%"]},Uo(l.Box,{height:"56px",mb:[0,"16px"]},Uo(Me.Z,{onClick:a,color:"t.third",size:[16,24],sx:{position:"absolute",top:["12px","16px"],right:"16px",cursor:"pointer"}})),Uo(Ao,{coinData:i,isDelist:t[r]}),Uo(Ho,{coinData:i}))))})),Wo=(0,B.withWidgetBoundary)(jo,{errorBoundaryProps:{name:"HistorySidebar"}});var Zo=o("602z"),Ko=i().createElement;const Yo=()=>{const{t:e,i18n:{language:t}}=(0,lo.$)(),{isEarnTips:o}=K();return o?Ko(l.Flex,{alignItems:"center",mb:24},Ko(Zo.Z,{color:"success",size:16}),Ko(l.Text,{variant:"body2",color:"t.secondary",mx:"xs"},e("balance-earnTransfer-text")),Ko(B.Tooltip,{placement:"top",arrow:!0,tip:Ko(l.Box,{variant:"body2",color:"t.white"},e("balance-earnTransfer-tip"),Ko("br",null),Ko(Q.Link,{isExternal:!0,target:"_blank",to:`/${t}/savings#lending-demandDeposits`,sx:{textDecoration:"underline",cursor:"pointer"}},e("balance-earnTransfer-goto")))},Ko(l.Box,{width:16,height:16},Ko(be.Z,{color:"t.third",size:16})))):Ko(i().Fragment,null)};var qo=i().createElement;const Jo=e=>Number.isNaN(+e)?0:(0,Ce.uf)(+e,8),Xo={size:20,color:"icon"},Go={variant:["text.body2","text.body2","text.body1"],lineHeight:["","52px","52px"],verticalAlign:"middle",color:"t.primary"},{domain:Qo}=document,en=({t:e,isDesktop:t,lang:o,setVisible:n,setNextCryptoIndex:i,nextCryptoWithPnl:a,ref:r,hasTips:s,transToFiat:c,currencyInfo:p,assetDelistMap:d,setHistoryVisible:u,setCoinData:m})=>[{width:150,dataIndex:"coin",title:qo(et,{type:"string",itemKey:"coin",iconProps:Xo},qo(R.TextOverflow,{value:e("common-th-coin")})),render:(e,{logoUrl:t,name:o,routePathName:n})=>{const i=`${(0,We.cionmarkecapBase)()}/${n}`;return qo(l.Flex,{alignItems:"center",height:"52px"},qo(R.LazyImg,{src:t,sx:{width:32,height:32,flexShrink:0},isSvg:!0}),qo(l.Flex,{flexWrap:"wrap",ml:"sm",flexDirection:"column"},qo(l.Flex,{alignItems:"center"},qo(l.Text,{sx:{variant:["text.subtitle2","text.subtitle2","text.subtitle1"],mr:"xs",color:"t.primary"}},e),d[e]&&qo(ne.Delist,null)),n&&!te.IS_ELECTRON?qo(R.Link,{color:"t.third",isExternal:!0,to:i,sx:{textDecoration:"underline","&:hover":{color:"t.yellow"}},onClick:e=>{e.preventDefault(),e.stopPropagation(),(0,ne.track)(ne.TRACK_KEYS.CLICK_SPOT_WALLET_SELECT_COIN_NAM),window.open(i,"_blank")},children:qo(R.TextOverflow,{sx:{variant:["","text.caption","text.body2"]},value:o})}):qo(l.Text,{children:qo(R.TextOverflow,{sx:{variant:["","text.caption","text.body2"]},color:"t.third",value:o})})))}},{width:120,dataIndex:"total",title:qo(et,{itemKey:"total",iconProps:Xo},qo(R.TextOverflow,{value:e("common-th-total")})),render:e=>qo(l.Text,{sx:Go},qo(R.ToggleNumber,{value:Jo(e)}))},{width:120,dataIndex:"free",title:qo(et,{itemKey:"free",iconProps:Xo},qo(R.TextOverflow,{value:e("common-th-free")})),render:e=>qo(l.Text,{sx:Go},qo(R.ToggleNumber,{value:Jo(e)}))},{width:110,dataIndex:"locked",title:qo(B.Tooltip,{enablePortal:!0,arrow:!0,tip:qo(l.Box,{maxWidth:280},e("balance-th-inOrder-tips")),placement:"top"},qo(et,{itemKey:"locked",iconProps:Xo},qo(R.TextOverflow,{color:"t.third",fontSize:"12px",value:e("balance-th-inOrder"),sx:{lineHeight:"20px",borderBottom:"1px dashed",borderColor:"t.third"}}))),render:e=>qo(l.Text,{sx:Go},qo(R.Link,{color:"t.primary",to:te.IS_ELECTRON?"binance://account/orders/spot":`/${o}/my/orders/exchange/openorder`,onClick:e=>e.stopPropagation()},qo(R.ToggleNumber,{value:Jo(e)})))},{width:130,dataIndex:"btcValue",align:"left",title:qo(et,{itemKey:"btcValue",iconProps:Xo,children:qo(l.Text,{children:e("balance-th-btcValue")})}),render:(e,t)=>{const{total:o,coin:n}=t,{symbol:i,currency:a}=p;return qo(l.Flex,{alignItems:"center",height:"100%"},qo(l.Box,null,qo(l.Text,{sx:{variant:["text.body2","text.body2","text.body1"],color:"t.primary"}},qo(R.ToggleNumber,{value:Jo(e)})),0!==Number(e)&&qo(l.Text,{sx:{variant:["text.caption","text.caption","text.body2"],whiteSpace:"nowrap",color:"t.third"}},qo(R.ToggleNumber,{value:n===a?`\u2248 ${i}${(0,Ce.uf)(o,o>1?2:6)}`:`\u2248 ${c("BTC",e)}`}))))}},!te.IS_ELECTRON&&{width:150,dataIndex:"profitLossRate",align:"right",titleStyle:s?{position:"relative",zIndex:1399,boxShadow:"0 0 0 1000000px rgba(0, 0, 0, 0.5)"}:{},title:qo(et,{itemKey:"profitLossRate",iconProps:Xo,children:qo(l.Text,{ref:r,children:e("balance-pnl-profitLoss")})}),render:(e,t)=>e?qo(l.Box,{sx:{cursor:"pointer"},color:e>0?"t.buy":"t.sell",onClick:(0,Ze.KI)((()=>{i(a.filter((e=>!!e.profitLossRate)).indexOf(t)),n(!0)}))},qo(l.Text,{sx:{variant:["text.body2","text.body2","text.body1"]}},(e>0?"+":"")+(0,he.Jp)(e,100)+"%")):"--"},{width:t?420:48,dataIndex:"",sticky:"right",title:t?e("balance-th-action"):"",render:(e,t)=>qo(l.Flex,{alignItems:"center",height:"52px"},qo(l.Box,{sx:{cursor:"pointer"}},qo(yo,{item:t,setHistoryVisible:u,setCoinData:m})))}],tn=e=>qo(l.Text,{__css:{color:"header.gray"},sx:{fontSize:1,my:"sm"},children:e.children}),on=i().memo((function(){const{t:e,i18n:t}=(0,r.useMainUC)(),o=(0,Ue._)(),a=(0,ge.T)(),s=(0,ge.nX)(),{isDesktop:c}=(0,R.useMedia)(),{showFiat:p,fiatBalances:d,cryptoBalances:u,assetData:m,profitLossTip:x,isCoinPnlEntranceOpen:b}=K(),{putCoachMark:f,showCoachMarkSingle:g,closeCoachMark:h}=(0,B.useCoachmark)(),{0:y,1:v}=(0,n.useState)(!0),{0:w,1:_}=(0,n.useState)(!1),{0:C,1:T}=(0,n.useState)(!1),{0:S,1:k}=(0,n.useState)(0),{0:I,1:E}=(0,n.useState)("localhost"===Qo||x),{length:A}=d,D=d.slice(0,y?2:void 0),L=i().useRef(),{assetDelistMap:N={}}=(0,je.M)(),{0:F,1:P}=(0,n.useState)({}),{nextRows:O,showPagination:$,paginationProps:z}=(0,ne.useLocalPagination)(20,u),V=(0,Ke.kF)().REACT_APP_STATIC_HOST,H=(0,n.useMemo)((()=>O.map((e=>{const t=m.find((t=>t.asset===e.coin));return t&&(e.profitLossRate=t.profitLossRate),e}))),[O,m]),U=(0,n.useMemo)((()=>{if(!a)return{currency:"",symbol:""};const e=a.split("_")[0],{symbol:t}=s[e]||{symbol:""};return{currency:e,symbol:t}}),[a,s]),j=en({t:e,isDesktop:c,lang:t.language,setVisible:_,setNextCryptoIndex:k,nextCryptoWithPnl:H,ref:L,hasTips:I,transToFiat:o,currencyInfo:U,assetDelistMap:N,setHistoryVisible:T,setCoinData:P}),W=b?j:j.slice(0,5).concat(j.slice(6,7));return(0,n.useEffect)((()=>{I&&b&&(f("notice",{content:qo(l.Box,null,qo(l.Image,{src:`${V}/static/images/pnl/pnl-tip.svg`,mb:"10px"}),qo(l.Box,{color:"t.primary",fontSize:14,mb:"16.5px"},e("balance-pnl-profitContent")),qo(l.Flex,{mt:"11px",alignItems:"center",justifyContent:"center",color:"t.primary",fontSize:14,fontWeight:"500",sx:{float:"right"},onClick:()=>{h(),E(!1),(0,M.post)("/bapi/composite/v1/private/report/asset-open/coin-pnl/tip-remind",{tipType:"PROFIT_LOSS_TIP"})}},e("balance-pnl-OK"))),target:L,hasCloseIcon:!1}),g("notice"))}),[I,b]),qo(l.Box,{sx:{"[data-type=table-th] [data-type=table-min-row]":{pt:"10px",pb:"9px"},"[data-type=list-table].table-sticky > [data-type=table-th], .table-sticky > [data-type=table-td]":{"> div > [data-sticky=right]":{width:["","48px !important",""],flexGrow:["","0 !important",""],px:"12px",bg:"inherit !important"}},".table-sticky > [data-type=table-td]":{"&:hover":{bg:"bg2"}},".table-sticky > [data-type=table-th]":{overflow:"inherit"},"[data-type=table-td]:hover":{".chevronRightList":{bg:"line"}}}},p?qo(i().Fragment,null,qo(tn,{children:e("balance-fiatTable-title")}),qo(R.ListTable,{className:"list",hasBorder:!0,onRowClick:e=>{T(!0),P(D[e])},list:D,columns:en({t:e,isDesktop:c,transToFiat:o,currencyInfo:U,assetDelistMap:N,setHistoryVisible:T,setCoinData:P}).slice(0,5).concat(en({t:e,isDesktop:c,transToFiat:o,currencyInfo:U,assetDelistMap:N,setHistoryVisible:T,setCoinData:P}).slice(6,7))}),A?qo(l.Flex,{onClick:()=>v(!y),__css:{alignItems:"center",justifyContent:"center",p:11},sx:{mt:"-1px",mb:"sm",fontSize:0,color:"t.third",cursor:"pointer",borderRadius:"default",border:"1px solid",borderColor:"bg3",borderTop:"none"}},e(A>2?y?"common-viewMore":"common-viewLess":"common-noMore")):null,qo(tn,{children:e("balance-cryptoTable-title")}),qo(Yo,null)):qo(i().Fragment,null,qo(l.Box,{sx:{height:24}}),qo(Yo,null)),qo(R.ListTable,{className:"list",hasBorder:!0,onRowClick:e=>{T(!0),P(H[e])},list:H,columns:W,paginationProps:$?z:null}),w&&qo(Io,{visible:w,setVisible:_,nextCryptoIndex:S,nextCryptoList:H.filter((e=>!!e.profitLossRate))}),qo(Wo,{visible:C,setVisible:T,assetDelistMap:N,coinData:F}))}));var nn=o("2r3K"),an=i().createElement;const ln=e=>isNaN(+e)?0:(0,Ce.uf)(+e,8),rn=(e,t,o,n,i)=>{const a=[{dataIndex:"locked",title:an(B.Tooltip,{arrow:!0,tip:an(l.Box,{maxWidth:200},t("balance-th-inOrder-tips")),placement:"top"},an(l.Text,{variant:"help",color:"t.third",fontSize:"14px"},t("balance-th-inOrder"))),render:e=>an(R.Link,{color:"t.primary",to:`/${o}/my/orders/exchange/openorder`},an(l.Text,{variant:"body2"},an(R.ToggleNumber,{value:ln(e)})))},{dataIndex:"free",title:t("common-th-free"),render:e=>an(l.Text,{variant:"body2"},an(R.ToggleNumber,{value:ln(e)}))},{dataIndex:"btcValue",title:t("balance-th-btcValue"),render:(e,t)=>{const{total:o,coin:a}=t,{symbol:r,currency:s}=i;return an(l.Box,null,an(l.Text,{variant:"body2",mb:"minor"},an(R.ToggleNumber,{value:ln(e)})),0!==Number(e)&&an(l.Text,{variant:"caption",sx:{whiteSpace:"nowrap",color:"t.third"}},an(R.ToggleNumber,{value:a===s?`\u2248 ${r}${(0,Ce.uf)(o,o>1?2:6)}`:`\u2248 ${n("BTC",e)}`})))}}];return e?an(l.Box,{sx:{my:"-16px","[data-type=list-row]":{border:"none"},"[data-type=list-min-row]":{alignItems:"flex-start"}}},an(R.ListView,{list:e,columns:a})):null},sn=e=>e.stopPropagation(),cn=(e,t,o,n,i,a,r,s,c,p)=>[{hideTitle:!0,dataIndex:"coin",title:e("common-th-coin"),render:(e,d,{setExpand:u,expand:m})=>{const{logoUrl:x,name:b,total:f,routePathName:g}=d,h=(["cn","tw"].indexOf(t),`${(0,We.cionmarkecapBase)()}/${g}`),y=m?"rotate(180deg)":"rotate(0deg)";return an(l.Flex,{alignItems:"flex-start",onClick:()=>u(!m)},an(R.LazyImg,{isSvg:!0,src:x,__css:{flex:"none",width:24,height:24}}),an(l.Box,{sx:{mx:"xs",mb:"minor",flex:1,textAlign:"left"}},an(l.Flex,{alignItems:"center"},an(l.Text,{variant:"subtitle2",mr:"6px",color:"t.primary"},e),s[e]&&an(ne.Delist,null)),g?an(R.Link,{isExternal:!0,to:h,sx:{textDecoration:"underline",color:"t.third"},onClick:e=>{e.preventDefault(),(0,ne.track)(ne.TRACK_KEYS.CLICK_SPOT_WALLET_SELECT_COIN_NAM,{},(()=>{window.location.href=h}))},children:b}):an(l.Text,{variant:"caption",sx:{color:"t.third"},children:b})),an(l.Flex,{alignItems:"center",mr:"sm"},an(l.Flex,{flexDirection:"column",alignItems:"flex-end"},an(l.Text,{variant:"subtitle2",mb:"4px",children:an(R.ToggleNumber,{value:ln(f)})}),!a&&r&&an(l.Box,null,d.profitLossRate?an(l.Box,{color:d.profitLossRate>0?"t.buy":"t.sell",onClick:e=>{n(i.filter((e=>!!e.profitLossRate)).indexOf(e)),document.body.scrollTop=document.documentElement.scrollTop=0,o(!0)}},(d.profitLossRate>0?"+":"")+(0,he.Jp)(d.profitLossRate,100)+"%"):"--")),an(nn.Z,{size:20,sx:{ml:10,transform:y,color:m?"t.primary":"icon"}})),an(l.Box,{onClick:sn},an(yo,{item:d,setHistoryVisible:c,setCoinData:p})))}}],pn=e=>an(l.Text,{__css:{bg:"background",color:"header.gray"},sx:{fontSize:1,px:"sm",pt:"sm",pb:"xs"},children:e.children}),dn=i().memo((function(){const{t:e,i18n:t}=(0,r.useMainUC)(),{language:o}=t,{showFiat:a,fiatBalances:s,cryptoBalances:c,assetData:p,isCoinPnlEntranceOpen:d}=K(),u=(0,Ue._)(),m=(0,ge.T)(),x=(0,ge.nX)(),{0:b,1:f}=(0,n.useState)(!1),{0:g,1:h}=(0,n.useState)(0),{0:y,1:v}=(0,n.useState)(!0),{length:w}=s,_=s.slice(0,y?2:void 0),{0:C,1:T}=(0,n.useState)(!1),{assetDelistMap:S={}}=(0,je.M)(),{0:k,1:I}=(0,n.useState)({}),E=(0,n.useMemo)((()=>c.map((e=>{const t=p.find((t=>t.asset===e.coin));return t&&(e.profitLossRate=t.profitLossRate),e}))),[c,p]),A=(0,n.useMemo)((()=>{if(!m)return{currency:"",symbol:""};const e=m.split("_")[0],{symbol:t}=x[e]||{symbol:""};return{currency:e,symbol:t}}),[m,x]),D=(0,n.useCallback)((t=>rn([t],e,o,u,A)),[e,o,u,A]),B=(0,n.useCallback)((t=>rn([t],e,o,u,A)),[e,o,u,A]),L=i().useMemo((()=>cn(e,o,f,h,E,!1,d,S,T,I)),[e,o,f,h,E,d,S,T,I]),N=i().useMemo((()=>cn(e,o,f,h,E,!0,d,S,T,I)),[e,o,f,h,E,d,S,T,I]);return an(i().Fragment,null,a?an(i().Fragment,null,an(pn,{children:e("balance-fiatTable-title")}),an(R.ListView,{sx:{"> [data-type=list-row]":{px:"sm",py:"xs"}},list:_||[],columns:N,expandedRowRender:B}),w?an(l.Flex,{onClick:()=>v(!y),__css:{alignItems:"center",justifyContent:"center",p:11},sx:{fontSize:0,color:"t.third",cursor:"pointer",mb:"sm"}},e(w>2?"common-viewLess":"common-noMore")):null,an(pn,{children:e("balance-cryptoTable-title")}),an(Yo,null)):an(i().Fragment,null,an(Yo,null)),an(R.ListView,{sx:{"> [data-type=list-row]":{px:"sm",py:"xs"}},list:E||[],columns:L,expandedRowRender:D}),b&&an(Io,{setVisible:f,nextCryptoIndex:g,nextCryptoList:E.filter((e=>!!e.profitLossRate))}),an(Wo,{visible:C,setVisible:T,assetDelistMap:S,coinData:k}))})),un=i().memo((0,R.layoutForDevices)({mobile:dn,tablet:on,pc:on}));var mn=i().createElement;!function(e){try{if(v)return;e&&(x=e),_.get(C)||_.set(C,(0,g.Z)(),{path:"/",maxAge:86400}),D({t:"PAGE_PV",uuid:_.get(C),isLogin:_.get("cr00")?"y":"n",isSupportedWebAssembly:"object"===typeof WebAssembly&&"function"===typeof WebAssembly.instantiate?"y":"n"}),k||(window.addEventListener("error",(function(e){D({t:"PAGE_JS_ERROR",errorName:"js",errorMessage:null===e||void 0===e?void 0:e.message})})),window.addEventListener("unhandledrejection",(function(e){D({t:"PAGE_JS_ERROR",errorName:"promise",errorMessage:null===e||void 0===e?void 0:e.reason})})),window.addEventListener("error",(function(e){var t=e.target;if(t){var o=t.localName,n="";"link"===o?n=t.href:["script","img"].includes(o)&&(n=t.src),o&&n&&D({t:"RESOURCE_ERROR",type:o,sourceUrl:n})}}),!0),k=!0),window.addEventListener("beforeunload",(function(){E()}))}catch(t){console.error("Monitor failed to init.")}}("FiatAndSpot");const xn=i().memo((function(){const{t:e}=(0,r.useMainUC)();return(0,n.useEffect)((()=>{(0,s.default)("pageView",{pageName:"binance_wallet_spot",elementId:"binance_visit_spot_wallet"})}),[]),mn(i().Fragment,null,mn(a.Helmet,null,mn("title",{children:[e("main-account-docTitle"),e("wallet-super-docTitle"),e("binance-super-docTitle")].join(" - ")})),mn(B.CoachmarkProvider,{sx:{bg:"bg1",width:"210px"}},mn(J,null,mn(l.Flex,{sx:{flex:1,color:"t.primary",flexDirection:"column",bg:"background"}},mn(l.Flex,{sx:{flexDirection:"column"}},mn(xe,null),mn(Re,null)),mn(l.Box,{__css:{flex:1,bg:"bg1"},sx:{pb:[0,"md","plus"],px:[0,"md","plus"],pt:[0,"md"]}},mn(He,null),mn(un,null))))))}))},jih7:(e,t,o)=>{"use strict";o.d(t,{o7:()=>c,Sv:()=>p,d$:()=>m,KI:()=>x});var n=o("Kttv"),i=o.n(n),a=o("6b+Q"),l=o("5BFz"),r=o("oTKh");const s=`${(0,l.dU)().REACT_APP_STATIC_HOST}/api/i18n/-/web/cms}`,c=e=>"isolated_margin"===e?"isolatedMargin":e;function p(e,t){const o=new XMLHttpRequest;o.open("GET",e,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),o.responseType="blob",o.setRequestHeader("csrftoken",i()((()=>{const e=window.document.cookie.match(/cr00=([a-z0-9-]+)/i);return e&&e.length?e:["",""]})()[1]||"")),o.setRequestHeader("clienttype","web"),o.onload=function(){if(200===this.status){const e=this.response;if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(e,t);else{const n=window.document.createElement("a"),i=o.getResponseHeader("Content-Type");n.href=window.URL.createObjectURL(new Blob([e],{type:i})),n.download=t||"filename.xlsx",document.body.appendChild(n),n.click(),document.body.removeChild(n)}}},o.send()}const{isPC:d,isTablet:u}={isPC:window.matchMedia("(min-width: 1280px)").matches,isMobile:window.matchMedia("(max-width: 767px)").matches,isTablet:window.matchMedia("(min-width: 768px) and (max-width: 1279px)").matches},m=async(e,t,o)=>((0,a.j)({response:e,apiOpts:t,globalOpts:{i18nHost:s,language:r.Z.language,i18nInstance:r.Z,enable:!0,debug:!1}}),e),x=e=>t=>{t.stopPropagation(),"function"===typeof e&&e()}},"nR+o":(e,t,o)=>{"use strict";o.d(t,{ZP:()=>s});var n=o("/SIk"),i=o("W40Z"),a=o("Utn3");const l="Android",r="iOS";const s=()=>{const e=(0,n.useMemo)((()=>Boolean(window&&window.navigator.userAgent&&/BNC\/[\d\.]+/i.test(window.navigator.userAgent)?window.navigator.userAgent.match(/BNC\/[\d\.]+/i)[0].slice(4):"")),[]),t=(0,n.useMemo)((()=>(0,i.Ue)((0,i.xf)(a))),[]);t.open=({link:e})=>window.location.href=`bnc://app.binance.com${e}`;return{isHybrid:e,bridge:t,clientType:(0,n.useMemo)((()=>function(){const e=window.navigator.userAgent||window.navigator.vendor||window.opera;if(e){if(/android/i.test(e))return l;if(/iPad|iPhone|iPod/.test(e)&&!window.MSStream)return r}return"unknown"}()),[])}}},m92i:(e,t,o)=>{"use strict";var n;o.d(t,{Z:()=>d});var i=new Uint8Array(16);function a(){if(!n&&!(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}const l=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const r=function(e){return"string"===typeof e&&l.test(e)};for(var s=[],c=0;c<256;++c)s.push((c+256).toString(16).substr(1));const p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!r(o))throw TypeError("Stringified UUID is invalid");return o};const d=function(e,t,o){var n=(e=e||{}).random||(e.rng||a)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){o=o||0;for(var i=0;i<16;++i)t[o+i]=n[i];return t}return p(n)}}}]);