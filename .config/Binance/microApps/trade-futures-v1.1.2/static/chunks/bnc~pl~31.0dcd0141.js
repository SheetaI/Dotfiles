(self["webpackJsonp_trade-futures"]=self["webpackJsonp_trade-futures"]||[]).push([[9576,6391],{S0Ie:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n("D57K"),o=n("/SIk"),a=n.n(o),i=n("ZKNs");const s=function(e){return a().createElement(i.Z,(0,r.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 9V6h13.5V2.5l5 5-5 5V9H3zm18 9v-3H7v-3.5l-5 5 5 5V18h14z",fill:"currentColor"}))}},DYXK:(e,t,n)=>{"use strict";n.d(t,{W:()=>c});var r=n("D57K"),o=n("/SIk"),a=n.n(o),i=n("ZKNs"),s=n("APA6"),l=n("TKP4"),u=function(e){return a().createElement(i.Z,(0,r.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:e.color},e),a().createElement("path",{d:"M20.5 7.42L9.41 18.5 8 17.09l-5-5 1.41-1.42 5 5L19.08 6l1.42 1.42z",fill:e.color}))},c=a().forwardRef((function(e,t){var n=e.isChecked,o=void 0!==n&&n,i=e.value,c=e.disabled,d=e.showChecked,f=void 0!==d&&d,p=e.children,m=(0,r.__rest)(e,["isChecked","value","disabled","showChecked","children"]);return a().createElement(s.Z,(0,r.__assign)({ref:t,as:"li",role:"option",tx:"search",id:i,key:i,title:i,variant:"option",className:o?"bnb-active-option":"",__css:{color:!c&&o?"primary":"t.primary",opacity:c?.4:1}},m),p,f&&a().createElement(a().Fragment,null,a().createElement(l.Z,{flex:1,minWidth:"8px"}),a().createElement(u,{color:o?"primary":"transparent"})))}));c.displayName="SearchOption"},ruN6:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n("D57K"),o=n("/SIk"),a=n.n(o),i=n("APA6"),s=n("j6E6"),l=n("WZQH"),u=n("DYXK"),c=function(e){var t;if(e){var n=e.props;return n&&(null!==(t=n.value)&&void 0!==t?t:"string"===typeof n.children?n.children:"")}},d=function(e){var t=e.label,n=e.onValueChange,d=e.limit,f=void 0===d?5:d,p=e.children,m=e.value,h=e.placeholder,v=e.defaultValue,g=e.renderValue,x=void 0===g?function(e){return function(e){if(e){var t=e.props;return t&&t.children?t.children:t.value}}(a().Children.toArray(p).find((function(t){return c(t)===e})))||e}:g,b=e.filterFunction,y=void 0===b?function(e,t){return t.toLowerCase().startsWith(e.toLowerCase())}:b,w=e.onChange,C=e.onBlur,E=e.disableInput,A=void 0!==E&&E,Z=e.showChecked,k=void 0!==Z&&Z,_=(0,r.__rest)(e,["label","onValueChange","limit","children","value","placeholder","defaultValue","renderValue","filterFunction","onChange","onBlur","disableInput","showChecked"]),P=(0,o.useState)(""),S=P[0],B=P[1],I=(0,o.useState)(v),F=I[0],L=I[1],T=(0,o.useState)(0),V=T[0],N=T[1],O=(0,o.useState)(!1),R=O[0],z=O[1],K=(0,o.useState)({}),H=K[0],j=K[1],D=(0,o.useRef)(null),M=(0,o.useRef)(null),W=(0,o.useRef)({});void 0!==m&&m!==F&&L(m),(0,o.useEffect)((function(){B(m||"")}),[m]);var U=(0,o.useMemo)((function(){return S?a().Children.toArray(p).filter((function(e){return y(S,c(e))})):a().Children.toArray(p)}),[p,S]),Y=(0,o.useMemo)((function(){return Array.isArray(U)?Math.min(U.length,f):0}),[U]);(0,o.useEffect)((function(){var e=W.current[c(U[V])];if(e&&e.offsetParent){var t=e.offsetParent.scrollTop,n=40*f,r=e.offsetTop;r<t&&e.offsetParent.scroll(0,t-40),r>=t+n&&e.offsetParent.scroll(0,t+40)}}),[V]),(0,o.useEffect)((function(){var e=function(){z(!1)};return R?window.addEventListener("click",e):window.removeEventListener("click",e),function(){window.removeEventListener("click",e)}}),[R]);var G=function(e){n&&n(e),B(e)},J=function(){if(null!==M.current){var e=M.current.getBoundingClientRect();e.bottom+40*Y>window.innerHeight?j({bottom:e.height+"px"}):j({}),z(!0)}},X=x&&x(F);return a().createElement(i.Z,(0,r.__assign)({ref:M,__css:{position:"relative",outline:"none"}},_),a().createElement(l.Z,{ref:D,sx:{cursor:"pointer"},boxProps:{sx:{width:"100%",".bn-input-suffix":{height:"100%",mr:"0px"}},onClick:function(e){!R&&e.stopPropagation(),J(),B("")}},suffix:a().createElement(s.Z,{tx:"search",role:"icon",sx:{transform:R?"rotate(180deg)":"rotate(0)"},size:24}),onFocus:A?function(){var e;return null===(e=D.current)||void 0===e?void 0:e.blur()}:function(){},label:t,value:!R&&x?"":S,labelFixed:!0,onChange:function(e){G(e.target.value),!1===R&&J()},onKeyDown:function(e){return function(e){if(38===e.keyCode){var t=Math.max(V-1,0);N(t)}else if(40===e.keyCode)t=Math.min(V+1,a().Children.count(U)-1),N(t);else if(13===e.keyCode)if(R){if(U[V]){var n=U[V].props,r=n.label||n.value;if(n.disabled)return;G(r),w&&w(r),L(r),D.current&&D.current.blur()}z(!1)}else J();else 27===e.keyCode&&z(!1)}(e)},onBlur:function(){return setTimeout((function(){C&&C(F)}),300)}}),!F&&!S&&!X&&a().createElement(i.Z,{color:"t.third",sx:{position:"absolute",left:0,bottom:0,right:0,padding:"4px",pointerEvents:"none",height:t?"50%":"100%",wordBreak:"keep-all"}},h),X&&a().createElement(i.Z,{py:1,sx:{opacity:R?.2:1,position:"absolute",left:0,bottom:0,right:0,display:R&&S?"none":"unset",pointerEvents:"none",height:t?"50%":"100%",wordBreak:"keep-all"}},X),a().createElement(i.Z,{as:"ul",role:"listbox",tabIndex:0,tx:"search",variant:"dropdown",__css:(0,r.__assign)({outline:"none",height:R?"auto":0,display:R?"block":"none",maxHeight:40*(.5+f)+"px",width:"auto!important",minWidth:"100%!important"},H)},a().Children.map(U,(function(e,t){return a().createElement(u.W,(0,r.__assign)((0,r.__assign)({},e.props),{isChecked:c(e)===F,showChecked:k,ref:function(t){return W.current[c(e)]=t},onClick:function(n){n.stopPropagation(),function(e){if(e){var t=e.props;return t&&t.disabled}}(e)||(G(c(e)),N(t),w&&w(c(e)),L(c(e)),z(!1))}}))}))),a().createElement(i.Z,{"data-bn-type":"input",as:"input",sx:{display:"none"},value:F||"",readOnly:!0}))};d.displayName="Search";const f=d},gLOn:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Label:()=>_,DeliveryAssetsSelector:()=>P,AssetsHeader:()=>S,AssetsContent:()=>F,default:()=>T});var r=n("5vwO"),o=n("GpFh"),a=n("/SIk"),i=n.n(a),s=n("szIg"),l=n("J81Z"),u=n("APA6"),c=n("w2aK"),d=n("71uP"),f=n("TKP4"),p=n("cm/A"),m=n("Rdst"),h=n("S0Ie"),v=n("LBXE"),g=n("9h1+"),x=n("8Eqx"),b=n("8uyB"),y=n("LcTY"),w=n("VM/Z"),C=n("FOuV"),E=n("SJeZ"),A=n("rdEq"),Z=n("z4Ks"),k=i().createElement;const _=(0,a.forwardRef)(((e,t)=>{let{children:n}=e,r=(0,o.Z)(e,["children"]);return k(l.Z,Object.assign({variant:"default",colorStyle:"secondary",sz:"tiny",sx:{flex:1,mr:"8px",fontWeight:"normal",":last-of-type":{mr:"0"}},ref:t},r),n)})),P=({balance:e,onChange:t,curAsset:n,sx:o})=>{const a=Object.values(e);return k(u.Z,{sx:(0,r.Z)({ml:"auto"},o)},k(c.ZP,{trigger:"hover",enablePortal:!0,overlay:k(u.Z,{variant:"dropdown",sx:{overflowY:"auto",maxHeight:"190px"}},a.map((e=>{const{asset:n}=e||{};return k(u.Z,{key:n,sx:{px:"sm",padding:"4px 16px",cursor:"pointer",":last-of-type":{pt:"6px",pb:"12px"},zIndex:999},onClick:()=>{t(n)}},k(d.Z,{color:"t.primary",key:n,value:n,sx:{":hover":{color:"primary"},fontSize:"12px"}},n))})))},k(f.Z,{as:"span",sx:{color:"t.primary",cursor:"pointer",alignItems:"center",":hover":{svg:{transform:"rotate(180deg)"}}}},n,k(m.Z,{ml:"4px",color:"t.third",size:16}))))},S=i().memo((({curAsset:e,balance:t,setCurAsset:n,showSelector:r})=>{const o=(0,E.C3)()===w.UW,{isIPad:a}=(0,g.Fs)();return k(u.Z,{sx:{position:"absolute",right:a?"16px":"48px",top:"16px",zIndex:999}},r&&k(P,{curAsset:e,balance:t,onChange:n}),o&&k(h.Z,{sx:{color:"t.yellow200",border:"1px solid",borderColor:"t.yellow200",cursor:"pointer",borderRadius:"2px",fontSize:"16px",ml:"16px"},onClick:()=>{y.T.emit(y.F.OPEN_TRANSFER_MODAL,e)}}))}),(function(e,t){const{curAsset:n,balance:r,setCurAsset:o}=e,{curAsset:a,balance:i,setCurAsset:s}=t,l=Object.keys(r).join(),u=Object.keys(i).join();return n===a&&o===s&&l===u})),B=i().memo((({getFutI18n:e,futUrlConfig:t,locale:n,disabled:r,curAsset:o})=>k(f.Z,{sx:{justifyContent:"space-between",pt:"6px"}},k(_,{onClick:()=>{let e=(0,b.CN)(t.BUYING_URL,{locale:n,crypto:o});e=(0,b.CN)(t.BUYING_URL_ELECTRON,{crypto:o}),window.open(e)},disabled:r},e("buy-crypto",{defaultValue:"Buy Crypto"})),k(_,{onClick:()=>y.T.emit(y.F.OPEN_CONVERT_MODAL),disabled:r,"data-testid":"orderform-convert-button"},e("convert",{defaultValue:"Convert"})),k(_,{onClick:()=>y.T.emit(y.F.OPEN_TRANSFER_MODAL,o),disabled:r,"data-testid":"orderform-transfer-button"},e("transfer",{defaultValue:"Transfer"}))))),I=i().memo((({marginPrecision:e,marginAsset:t})=>{const n=(0,E.w2)(t);return k(d.Z,{color:"t.fifth"},(0,p.GW)(n||0,e,!0)," ",t)})),F=i().memo((({isEmptyBalance:e,loading:t,getFutI18n:n,walletBalance:r,marginPrecision:o,curAsset:a})=>k(i().Fragment,null,!e&&!t&&k(u.Z,{mt:"16px"},k(f.Z,{justifyContent:"space-between",sx:{marginTop:"8px",lineHeight:"16px"}},k(A.m,{tip:n("tradeHistory-positions-walletBalanceTip",{defaultValue:""})},n("tradeHistory-positions-walletBalanceLabel",{defaultValue:"Wallet Balance"})),k(d.Z,{color:"t.fifth"},(0,p.GW)(r||0,o,!0)," ",a)),k(f.Z,{justifyContent:"space-between",sx:{marginTop:"8px",lineHeight:"16px"}},k(A.m,{tip:n("tradeHistory-positions-unrealizedPnlTip",{defaultValue:""})},n("tradeHistory-positions-unrealizedPNLLabel",{defaultValue:"Unrealized PNL"})),k(I,{marginPrecision:o,marginAsset:a}))),e&&!t&&k(v.Z,{showIcon:!0,mt:"12px",flexDirection:"row",variant:"warning"},n("TransferAssetToTrading",{defaultValue:"Please transfer assets into futures account to start trading."}))))),L=({noButtons:e})=>{var t;const{getI18n:n,i18n:{language:r}}=(0,E.yk)(),o=(0,g._n)(),{isExistFutureAccount:i}=(0,g.Pc)(),l=(0,s.useDispatch)(),c=(0,E.KQ)(),d=(0,E.Kc)("loading"),[,[f]]=(0,g.z4)(),{0:p,1:m}=(0,a.useState)(f),{isMobile:h}=(0,g.Fs)(),v=Object.values(c).every((({walletBalance:e})=>!e)),b=Object.values(c).some((({walletBalance:e})=>e<0));return(0,a.useEffect)((()=>{m(f),l.transferAssets.updateState({transferAsset:f})}),[f,l]),h?null:k(u.Z,{fontSize:"12px",px:"16px"},k(S,{getFutI18n:n,curAsset:p,balance:c,setCurAsset:m,showSelector:o}),k(x.U,null),e||!w.Jg&&k(B,{getFutI18n:n,futUrlConfig:C.x,locale:r,base:f,curAsset:p,disabled:!o||!i}),b&&k(Z.Z,null),k(F,{isEmptyBalance:v,loading:d,getFutI18n:n,walletBalance:null===(t=c[p])||void 0===t?void 0:t.walletBalance,marginPrecision:4,curAsset:p}))},T=i().memo(L)}}]);