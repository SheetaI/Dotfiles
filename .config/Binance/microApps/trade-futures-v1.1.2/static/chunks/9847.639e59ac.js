(self["webpackJsonp_trade-futures"]=self["webpackJsonp_trade-futures"]||[]).push([[9847],{r8hx:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Y});var l=a("/SIk"),s=a.n(l),n=a("szIg"),r=a("APA6"),i=a("Wx6g"),o=a("6Afj"),d=a("MMVH"),c=a("SJeZ"),u=a("5vwO"),m=a("cm/A");const f=e=>e.map((e=>((e,{marginPrecision:t})=>{const{walletBalance:a,upnl:l,availableBalance:s,realMarginBalance:n,assetContribution:r}=e;return(0,u.Z)((0,u.Z)({},e),{},{formattedWalletBalance:(0,m.GW)(a,t,!0),formattedUnpl:(0,m.uf)(l,t),formattedAvailableBalance:(0,m.uf)(s,t),formattedMarginBalance:(0,m.uf)(n,t),formattedAssetContribution:(0,m.uf)(r,t)})})(e,{marginPrecision:8})));var g=a("71uP"),b=a("rdEq"),v=s().createElement;const p={maxHeight:"28px",lineHeight:"14px",verticalAlign:"bottom",overflow:"hidden",whiteSpace:"normal",wordBreak:"break-word",fontSize:0,mb:"10px"},B=(0,l.memo)((({title:e})=>v(g.Z,{sx:p,color:"t.secondary"},e))),A=(0,l.memo)((({tip:e,title:t})=>v(b.m,{tip:e,labelSx:p},t)));var y=a("VM/Z"),h=a("TKP4"),w=a("gqsF"),C=a("J81Z"),x=a("LcTY"),k=s().createElement;const M=(0,l.memo)((({assetLogo:e,assetCode:t})=>k(h.Z,{sx:{alignItems:"center"}},k(w.Z,{variant:"avatar",src:e,alt:"",sx:{width:24,height:24,alignSelf:"center"}}),k(g.Z,{sx:{ml:1,color:"t.secondary"}},t)))),Z=(0,l.memo)((({formattedWalletBalance:e})=>k("div",null,e))),I=(0,l.memo)((({formattedUnpl:e})=>k("div",null,e))),S=(0,l.memo)((({formattedAvailableBalance:e})=>k("div",null,e))),V=(0,l.memo)((({formattedAssetContribution:e})=>k("div",null,`${e} USD`))),T=(0,l.memo)((({formattedMarginBalance:e})=>k("div",null,e))),L=(0,l.memo)((({assetCode:e})=>{const{getI18n:t}=(0,c.yk)(),a=(0,l.useCallback)((()=>{x.T.emit(x.F.OPEN_TRANSFER_MODAL,e)}),[e]);return k(C.Z,{variant:"quiet",sz:"s",pl:"0",onClick:a},t("transfer",{defaultValue:"Transfer"}))}));var P=s().createElement;var E=a("9h1+"),F=a("8Y2u"),O=a("cucV"),U=a("DCTW"),H=a("yxRq"),N=a("wdcV"),z=a("jgBC"),D=a("FOuV");const W=(0,y.nM)();var q=s().createElement;const J=(0,o.ck)("mobile",(()=>Promise.all([a.e(6374),a.e(3712),a.e(162)]).then(a.bind(a,"+tiw")))),R=(0,o.ck)("pc",(()=>Promise.all([a.e(6374),a.e(3712),a.e(5773)]).then(a.bind(a,"Uaot")))),G=()=>{const{getI18n:e}=(0,c.yk)(),{assetMode:t=!1}=(0,c.F7)(),a=!(0,c.G3)()&&t;let o=!1;try{o=JSON.parse(window.localStorage.getItem("futures-hideZeroAssets"))}catch(Y){}const{0:m,1:g}=(0,l.useState)(!!o),b=(0,l.useCallback)((()=>{const e=!m;g(e),window.localStorage.setItem("futures-hideZeroAssets",String(e))}),[m]),v=(0,n.useDispatch)(),p=(()=>{const e=(0,c.KQ)(),t=(0,c.zF)(),a=(0,c.Gf)(),[l]=(0,E.z4)(),{leverageList:s}=(0,c.rf)(),{contractVal:n}=(0,E.j2)(),r=(0,F.dM)(),i=(0,N.L6)(r),o=(0,c.G8)(),d=Object.values(e),{assetMode:m}=(0,c.F7)();return d.map((r=>{const d=r.asset,c=t[d],{askRate:f=1}=(null===o||void 0===o?void 0:o[d])||{},g=i[d]||[],b=W?(0,U.ot)(g):(0,O.ot)(g),v=(0,z.vY)({symbol:l,isDelivery:W,leverage:s[l]||20,marginAsset:d,contractVal:n,positions:g,balance:e,assetIndexes:o,assetMode:m,marginType:D.Yl.CROSSED,brackets:a}),p=r.walletBalance+b;let B=0;if(m){const{assetEquityMap:t}=(0,H.$g)({balance:e,positions:g,leverage:s[l]||20,symbol:l,isDelivery:W,contractVal:n,askRate:f,assetIndexes:o});B=t[d]}return(0,u.Z)((0,u.Z)({},r),{},{assetCode:(null===c||void 0===c?void 0:c.asset)||d,assetName:null===c||void 0===c?void 0:c.assetName,assetLogo:null===c||void 0===c?void 0:c.logoUrl,upnl:b,availableBalance:v,realMarginBalance:p,assetContribution:B})}))})(),h=(0,l.useMemo)((()=>p.filter((e=>!m||(0!==e.walletBalance||0!==e.upnl||(a?0!==e.assetContribution:0!==e.availableBalance))))),[m,p,a]),w=f(h),C=(()=>{const{getI18n:e}=(0,c.yk)(),{assetMode:t=!1}=(0,c.F7)(),a=!(0,c.G3)()&&t;return(0,l.useMemo)((()=>[{key:"assetCode",title:P(B,{title:e("assets",{defaultValue:"assets"})}),width:100,dataIndex:"assetCode",render:(e,t)=>P(M,{assetLogo:t.assetLogo,assetCode:t.assetCode})},{key:"walletBalance",title:P(A,{title:e("assetsList-walletBalance",{defaultValue:"Wallet Balance"}),tip:e("tradeHistory-marginBalance-walletBalanceTip")}),width:100,dataIndex:"formattedWalletBalance",render:e=>P(Z,{formattedWalletBalance:e})},{key:"unpl",title:P(A,{title:e("tradeHistory-marginBalance-unrealizedPNLTitle",{defaultValue:"Unrealized PNL"}),tip:e("tradeHistory-marginBalance-unrealizedPNLTip")}),width:100,dataIndex:"formattedUnpl",render:e=>P(I,{formattedUnpl:e})},{key:"Mb",title:P(B,{title:e("tradeHistory-marginBalanceLabel",{defaultValue:"Margin Balance"})}),width:100,dataIndex:"MbUSDEquity",render:(e,t)=>P(T,{formattedMarginBalance:t.formattedMarginBalance})},a?{key:"assetContribution",title:P(A,{title:e("AssetContribution",{defaultValue:"Asset Contribution"}),tip:e("AssetContributionTip")}),width:100,dataIndex:"formattedAssetContribution",render:e=>P(V,{formattedAssetContribution:e})}:{key:"availableBalance",title:P(A,{title:e("tradeHistory-marginBalance-availableForOrderTitle",{defaultValue:"Available for Order"}),tip:e("tradeHistory-marginBalance-availableForOrderTip")}),width:100,dataIndex:"formattedAvailableBalance",render:e=>P(S,{formattedAvailableBalance:e})},y.Jg?{key:"Action",title:"",width:10,dataIndex:"assetCode",render:()=>""}:{key:"Action",title:P(B,{title:e("assetsList-Action",{defaultValue:"Action"})}),width:60,dataIndex:"assetCode",render:e=>P(L,{assetCode:e})}]),[e,a])})(),x=q(d.p,{className:"empty"},e("noasset",{defaultValue:"You have no asset."})),{0:k,1:G}=(0,l.useState)(!1);return(0,l.useEffect)((()=>{G(!0),v.transferAssets.getUserAssets().finally((()=>G(!1)))}),[v.transferAssets]),q(r.Z,{height:"100%",px:"sm"},q(i.Z,null,(({isMobile:e,isIPad:t})=>q(s().Fragment,null,t?q(J,{isMobile:e,loading:k,emptyText:x,data:w,hideZeroAsset:m,toggleZeroAsset:b}):q(R,{loading:k,emptyText:x,columns:C,data:w,hideZeroAsset:m,toggleZeroAsset:b})))))},Y=s().memo(G)}}]);