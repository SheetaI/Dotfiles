(self["webpackJsonp_trade-spot"]=self["webpackJsonp_trade-spot"]||[]).push([[8673],{tQc6:(e,t,r)=>{"use strict";r.d(t,{hJ:()=>i,dj:()=>l,Vs:()=>s,WL:()=>c,be:()=>u,HF:()=>d,v0:()=>m});var n=r("D57K"),a=r("B2Fj"),o=r("YGOS"),i=function(e){return void 0===e&&(e={}),(0,n.__awaiter)(void 0,void 0,void 0,(function(){return(0,n.__generator)(this,(function(t){switch(t.label){case 0:return[4,(0,a.v_)("/bapi/asset/v3/private/asset-service/asset/get-user-asset",e)];case 1:return[2,t.sent().data]}}))}))},l=function(e){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,n.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,(0,a.v_)("/bapi/futures/v1/private/future/leverage/token/redeem",e)];case 1:return t=r.sent(),[3,3];case 2:return r.sent(),t={success:!1},[3,3];case 3:return[2,t]}}))}))},s=function(e){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,n.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,(0,a.v_)("/bapi/futures/v1/private/future/leverage/token/purchase",e)];case 1:return t=r.sent(),[3,3];case 2:return r.sent(),t={success:!1},[3,3];case 3:return[2,t]}}))}))},c=function(e){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){return(0,n.__generator)(this,(function(t){switch(t.label){case 0:return[4,(0,a.v_)("/bapi/asset/v1/private/asset-service/wallet/transfer",e,{enableErrorMsgIntercept:!1})];case 1:return[2,t.sent()]}}))}))},u=function(){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){return(0,n.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,a.U2)("/bapi/asset/v1/private/asset-service/wallet/get-all-config")];case 1:return[2,e.sent().data||[]]}}))}))},d=function(){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){return(0,n.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,a.U2)("/bapi/asset/v1/public/asset-service/wallet/get-support-asset")];case 1:return[2,e.sent().data||{}]}}))}))},m=function(e){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,n.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,(0,a.U2)("/bapi/asset/v2/private/asset-service/wallet/balance?"+(0,o.DT)(e))];case 1:return t=r.sent(),[3,3];case 2:return r.sent(),t={success:!1,data:[]},[3,3];case 3:return[2,t.data||[]]}}))}))}},zNLM:(e,t,r)=>{"use strict";r.d(t,{yd:()=>o,Wg:()=>i,SZ:()=>l,m_:()=>s});var n=r("D57K"),a=r("B2Fj"),o=function(e,t){return void 0===t&&(t=!1),(0,n.__awaiter)(void 0,void 0,void 0,(function(){var r;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(0,a.v_)(t?"/bapi/futures/v1/private/spot/user-data/getMaxWithdrawAmount":"/bapi/futures/v1/private/future/user-data/getMaxWithdrawAmount",e)];case 1:return r=n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return[2,(null===r||void 0===r?void 0:r.data)||0]}}))}))},i=function(e){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,n.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,(0,a.v_)("/bapi/futures/v4/private/future/user-data/get-max-coin-swap-amount",e)];case 1:return t=r.sent(),[3,3];case 2:return r.sent(),[3,3];case 3:return[2,(null===t||void 0===t?void 0:t.data)||0]}}))}))},l=function(e){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){var t,r,o;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(0,a.v_)("/bapi/futures/v1/private/future/user-data/get-asset-residual-deposit",e)];case 1:return t=n.sent(),[3,3];case 2:return n.sent(),[3,3];case 3:return[2,null!==(o=null===(r=null===t||void 0===t?void 0:t.data)||void 0===r?void 0:r.residualDeposit)&&void 0!==o?o:0]}}))}))},s=function(e){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,n.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,(0,a.v_)("/bapi/futures/v1/private/delivery/user-data/getMaxWithdrawAmount",e)];case 1:return t=r.sent(),[3,3];case 2:return r.sent(),[3,3];case 3:return[2,(null===t||void 0===t?void 0:t.data)||0]}}))}))}},b4j0:(e,t,r)=>{"use strict";r.d(t,{NP:()=>o,Hp:()=>i,vX:()=>l});var n=r("D57K"),a=r("B2Fj"),o=function(e){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){var t,r,o;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:t={allPass:!1,rows:[]},n.label=1;case 1:return n.trys.push([1,3,,4]),[4,(0,a.v_)("/bapi/margin/v1/private/margin/validate-before-adjust-margin-bar",e)];case 2:return r=n.sent(),o=r.data,r.success&&(t=o),[3,4];case 3:return n.sent(),[3,4];case 4:return[2,t]}}))}))},i=function(e){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){var t,r,o,i,l,s;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:t=!1,r="",n.label=1;case 1:return n.trys.push([1,3,,4]),[4,(0,a.v_)("/bapi/margin/v1/private/margin/adjust-margin-bar",e)];case 2:return o=n.sent(),i=o.success,l=o.code,t=i,r=l,[3,4];case 3:return s=n.sent(),r=s.message,[3,4];case 4:return"051042"!==r&&(r="051998"),[2,[t,r]]}}))}))},l=function(e){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){var t,r;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:if(t="0",!e)return[2,t];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,(0,a.U2)("/bapi/margin/v1/private/margin/max-borrowable?asset="+e)];case 2:return r=n.sent().data.value,t=r||"0",[3,4];case 3:return n.sent(),[3,4];case 4:return[2,t]}}))}))}},RsRh:(e,t,r)=>{"use strict";r.d(t,{Y5:()=>o,cN:()=>i,Rb:()=>l});var n=r("D57K"),a=r("B2Fj"),o=function(e){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){var t,r;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:t="0",n.label=1;case 1:return n.trys.push([1,3,,4]),[4,(0,a.v_)("/bapi/margin/v1/private/margin/margin-buy/borrowable",e)];case 2:return r=n.sent().data.requiredBorrowAmount,t=r||"0",[3,4];case 3:return n.sent(),[3,4];case 4:return[2,t]}}))}))},i=function(e){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,n.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,(0,a.v_)("/bapi/margin/v1/private/margin/borrow",e)];case 1:return[2,r.sent()];case 2:throw t=r.sent(),new Error(t.message);case 3:return[2]}}))}))},l=function(e){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){var t;return(0,n.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,(0,a.v_)("/bapi/margin/v1/private/margin/repay",e)];case 1:return[2,r.sent()];case 2:throw t=r.sent(),new Error(t.message);case 3:return[2]}}))}))}},OCXi:(e,t,r)=>{"use strict";r.d(t,{cX:()=>l,Zh:()=>i,z8:()=>s,on:()=>c});var n=r("D57K"),a=r("B2Fj"),o=function(e){return e.then((function(e){return e})).catch((function(e){var t;return{success:!1,message:(null===e||void 0===e?void 0:e.message)||(null===(t=null===e||void 0===e?void 0:e.errorMsg)||void 0===t?void 0:t.message)||"Network error!"}}))},i=function(e){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){return(0,n.__generator)(this,(function(t){return[2,o((0,a.v_)("/bapi/margin/v1/private/margin/place-order",e))]}))}))},l=function(e){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){return(0,n.__generator)(this,(function(t){return[2,o((0,a.v_)("/bapi/margin/v1/private/isolated-margin/order/place",e))]}))}))},s=function(e){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){return(0,n.__generator)(this,(function(t){return[2,o((0,a.v_)("/bapi/mbx/v1/private/mbxgateway/order/oco/place",e))]}))}))},c=function(e){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){return(0,n.__generator)(this,(function(t){return[2,o((0,a.v_)("/bapi/mbx/v1/private/mbxgateway/order/place",e))]}))}))}},nOJ5:(e,t,r)=>{"use strict";r.d(t,{Cr:()=>o});var n=r("D57K"),a=r("B2Fj"),o=function(e){var t=e.asset;return(0,n.__awaiter)(void 0,void 0,void 0,(function(){var e,r;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:if(e="0",!t)return[2,e];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,(0,a.U2)("/bapi/margin/v1/private/margin/max-transferable?asset="+t)];case 2:return r=n.sent().data.value,e=r||"0",[3,4];case 3:return n.sent(),[3,4];case 4:return[2,e]}}))}))}},AzRK:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n={0:"CONNECTING",1:"OPEN",2:"CLOSING",3:"CLOSED"};const a=function(e,t){var r,a,o,i,l;void 0===t&&(t=3e3);var s=!1,c=function(){s||(s=!0,(r=new WebSocket(e)).onerror=function(e){console.error("socket error",e)},r.onclose=function(e){s=!1,1e3!==e.code&&d()},r.onopen=o,r.onmessage=i)},u=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];clearTimeout(a),r&&r.close.apply(r,e)},d=function(){u(),a=setTimeout((function(){c()}),t)};return{open:c,close:u,send:function(e){r&&r.send(e)},onopen:function(e){o=e,r&&(r.onopen=o)},onmessage:function(e){i=e,r&&(r.onmessage=i)},onclose:function(e){l=e,r&&(r.onclose=l)},readyState:function(){return r?n[r.readyState]:"UNKNOWN"}}}},MmqA:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r("D57K"),a=r("/SIk"),o=r.n(a),i=r("2138");const l=(0,a.memo)((function(e){var t=e.label,r=e.labelStyle,n=e.price,a=e.priceStyle,i=e.className,l=e.id,s=e.gridAreaKey;return o().createElement("div",{className:i,id:l,style:{gridArea:s}},o().createElement("div",{style:r,className:"tickerItemLabel"},t),o().createElement("div",{style:a,className:"tickerPriceText"},n))}));var s=r("mE5C");const c=(0,a.memo)((function(e){var t,r,c,u,d,m,f,p=e.data,v=e.children,h=e.theme,g=void 0===h?"dark":h,b=(0,a.useRef)(null),x="light"===g,E=(0,n.__read)((0,a.useState)(0),2),y=E[0],w=E[1],_=(0,n.__read)((0,a.useState)(!1),2),C=_[0],S=_[1];b&&b.current&&(d=null===(t=b.current)||void 0===t?void 0:t.scrollWidth,m=null===(r=b.current)||void 0===r?void 0:r.clientWidth,f=null===(c=b.current)||void 0===c?void 0:c.scrollLeft),(0,a.useEffect)((function(){b&&b.current&&S(d>m+f)}),[d,m,f,y]);var Z=(0,a.useCallback)((function(){w(Date.now())}),[]),k=(0,a.useCallback)((function(){b&&b.current&&(b.current.scrollLeft-=100,Z())}),[Z]),M=(0,a.useCallback)((function(){b&&b.current&&(b.current.scrollLeft+=100,Z())}),[Z]),A=(0,a.useMemo)((function(){return(0,s.U5)({isLight:x})}),[x]),N=(0,a.useMemo)((function(){return(0,s.eE)({isLight:x})}),[x]);return o().createElement("div",{className:"tickerListContainer"},Boolean(null===(u=b.current)||void 0===u?void 0:u.scrollLeft)&&o().createElement(i.Z,{className:"leftArrow",onClick:k,sx:A}),o().createElement("div",{className:"tickerList",ref:b,onScroll:Z},p&&p.map((function(e){var t=e.label,r=e.labelStyle,n=e.price,a=e.priceStyle,i=e.key,s=e.renderItem;return s?s({label:t,labelStyle:r,price:n,priceStyle:a,key:i}):o().createElement(l,{label:t,labelStyle:r,price:n,priceStyle:a,gridAreaKey:i,key:i})})),v),Boolean(C)&&o().createElement(i.Z,{className:"rightArrow",onClick:M,sx:N}))}))},YIRr:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r("D57K"),a=r("/SIk"),o=r.n(a),i=r("2138");const l=(0,a.memo)((function(e){var t=e.priceColor,r=e.currentPrice,n=e.subPrice;return o().createElement("div",{className:"nowPrice"},r&&o().createElement("div",{style:{color:t},className:"showPrice"},r),n&&o().createElement("div",{className:"subPrice"},n))}));var s=r("MmqA"),c=r("mE5C");const u=(0,a.memo)((function(e){var t=e.sx,r=e.mode,u=e.currentPrice,d=e.priceColor,m=e.subPrice,f=e.list,p=e.children,v=e.theme,h=(0,a.useMemo)((function(){return o().createElement("div",{className:"left"},o().createElement("div",{className:"layout"},o().createElement("div",{className:"childrenContainer"},p),u||m?o().createElement(l,{currentPrice:u,priceColor:d,subPrice:m}):null))}),[p,u,r,d,m]),g=(0,a.useMemo)((function(){return o().createElement("div",{className:"right"},o().createElement(s.Z,{data:f,theme:v}))}),[f,v]);return o().createElement(i.Z,{sx:(0,n.__assign)((0,n.__assign)({},c.Ji),t)},h,g)}))},mE5C:(e,t,r)=>{"use strict";r.d(t,{Ji:()=>n,mY:()=>a,U5:()=>o,eE:()=>i});var n={display:"flex",boxSizing:"border-box",margin:"0",".left":{display:"flex",boxSizing:"border-box",".layout":{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginRight:"0px",flex:"none",".childrenContainer":{display:"flex",alignItems:"center",flex:1}},".layout-pro":{borderRight:"1px solid",borderColor:"rgba(255, 255, 255, 0.08)"},".nowPrice":{display:"flex",boxSizing:"border-box",flexDirection:"column",".showPrice":{fontSize:"16px",display:"flex",alignItems:"center"},".subPrice":{fontSize:"12px",color:"t.primary",lineHeight:"inherit"}}},".right":{flex:1,flexWrap:"nowrap",display:"flex",alignItems:"center",position:"relative",flexDirection:"row",justifyContent:"space-between",minWidth:"0px",overflow:"hidden",".tickerListContainer":{display:"flex",flexDirection:"row",boxSizing:"border-box",alignItems:"center",flexWrap:"nowrap",position:"relative",marginLeft:"32px",marginRight:"8px",overflow:"hidden",".tickerList":{whiteSpace:"nowrap",overflowX:"auto",overflowY:"hidden",".tickerItemLabel":{fontSize:"12px",marginRight:0,marginBottom:"2px",color:"t.third",lineHeight:"16px",fontWeight:"normal",textAlign:"left",borderBottom:"1px solid transparent",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},".tickerPriceText":{fontSize:"12px",color:"t.primary"},"& >div":{display:"inline-block",paddingRight:"32px"},"&::-webkit-scrollbar":{display:"none",width:"0",height:"0"}}}}},a={paddingX:"16px",paddingTop:"12px",paddingBottom:"12px",".layout":{display:"flex",boxSizing:"border-box",".left":{display:"flex",boxSizing:"border-box",marginRight:"8px",flex:1,borderRight:"none",paddingRight:"0",width:"50%",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",".flex-cloumn":{display:"flex",flexDirection:"row"},".childrenContainer":{display:"flex",alignItems:"center"},".nowPrice":{display:"flex",boxSizing:"border-box",flexDirection:"column",".showPrice":{fontSize:"24px",display:"flex",alignItems:"center"},".subPrice":{fontSize:"12px",color:"#707A8A",lineHeight:"16px"},".changePrice":{fontSize:"12px",lineHeight:"16px"},".differencePrice":{marginLeft:"16px",fontSize:"12px"}}},".right":{display:"flex",flex:1,boxSizing:"border-box",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",".tickerListContainer":{display:"flex",flexDirection:"row",boxSizing:"border-box",position:"relative",width:"100%",".tickerList":{display:"grid",width:"100%",height:"100%",gridGap:"16px 24px",gridTemplateColumns:"1fr 1fr",gridTemplateAreas:'"A B"\n                          "C D"',".tickerItemLabel":{fontSize:"10px",marginRight:"4px",marginBottom:"0px",color:"t.third",lineHeight:"16px",fontWeight:"normal",textAlign:"left",borderBottom:"1px solid transparent",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},".tickerPriceText":{fontSize:"12px",color:"t.primary"}}}}}},o=function(e){var t=e.isLight;return{position:"absolute",left:0,height:"100%",cursor:"pointer",width:"16px",background:"linear-gradient(to right,"+(t?"#FAFAFA":"#191B20")+" 50%, rgba(20, 21, 26, 0) 100%)","&::after":{content:"''",position:"absolute",top:"30%",left:"7px",width:"2px",height:"2px",border:t?"solid #929AA5":"solid #5E6673",borderWidth:" 0 1px 1px 0",padding:"2px",transform:"rotate(135deg) scale(1.2)"},"&:hover":{"&::after":{content:"''",position:"absolute",top:"30%",left:"7px",width:"2px",height:"2px",border:" solid #D0980B",borderWidth:" 0 1px 1px 0",padding:"2px",transform:"rotate(135deg) scale(1.2)"}}}},i=function(e){var t=e.isLight;return{position:"absolute",cursor:"pointer",width:"16px",right:0,height:"100%",background:"linear-gradient(to left, "+(t?"#FAFAFA":"#191B20")+" 50%, rgba(20, 21, 26, 0) 100%)","&::after":{content:"''",position:"absolute",top:"30%",right:"7px",width:"2px",height:"2px",border:t?"solid #929AA5":"solid #5E6673",borderWidth:" 0 1px 1px 0",padding:"2px",transform:"rotate(-45deg) scale(1.2)"},"&:hover":{"&::after":{content:"''",position:"absolute",top:"30%",right:"7px",width:"2px",height:"2px",border:" solid #D0980B",borderWidth:"0 1px 1px 0",padding:"2px",transform:"rotate(-45deg) scale(1.2)"}}}}},"3sCd":(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r("D57K"),a=r("/SIk"),o=r.n(a),i=r("2138"),l=r("pAi8"),s=(0,a.forwardRef)((function(e,t){var r=e.defaultChecked,a=void 0!==r&&r,s=e.checked,c=e.size,u=void 0===c?24:c,d=e.color,m=void 0===d?"primaryGradient":d,f=e.onClick,p=e.onChange,v=e.name,h=e.disabled,g=e.icon,b=void 0===g?null:g,x=e.reverseDirection,E=(0,n.__rest)(e,["defaultChecked","checked","size","color","onClick","onChange","name","disabled","icon","reverseDirection"]),y=o().useRef(null!=s).current,w=o().useState(a),_=w[0],C=w[1];y&&s!==_&&C(void 0!==s&&s);var S=Math.abs(u),Z=Math.round(5*S/3),k=18*S/24,M=S/24*3;return o().createElement(i.Z,(0,n.__assign)({ref:t,as:"button",type:"button",role:"switch",style:{direction:"ltr"},disabled:h,"aria-checked":_,onClick:function(e){if(!h){var t=!_;y||C(t),e.target.checked=t,f&&f(e),p&&p(e)}}},E,{sx:{cursor:"pointer",appearance:"none",m:0,p:0,width:Z,height:S,bg:function(e){return e.colors&&e.colors.line},backgroundImage:function(e){return e.colors&&e.colors.line},border:"none",borderRadius:9999,"&[aria-checked=true]":{bg:function(e){return e.colors&&e.colors[m]||m},backgroundImage:function(e){return e.colors&&e.colors[m]}},":focus":{outline:"none"},":disabled":{cursor:"not-allowed",opacity:.7}}}),o().createElement(l.Z,{style:{transform:_?"translateX("+(x?0:Z-2*M-k)+"px)":"translateX("+(x?Z-2*M-k:0)+"px)"},sx:{mx:M+"px",width:k,height:k,borderRadius:9999,boxShadow:"card",bg:"t.white",transitionProperty:"transform, border-color",transitionTimingFunction:"ease-in-out",transitionDuration:"0.2s",justifyContent:"center",alignItems:"center"}},b),o().createElement(i.Z,{as:"input",type:"checkbox","data-bn-type":"checkbox",onChange:function(){},name:v,checked:_,__css:{display:"none"}}))}));s.displayName="Switch";const c=s},dWMW:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r("D57K"),a=r("/SIk"),o=r.n(a),i=r("SvcO");const l=function(e){return o().createElement(i.Z,(0,n.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),o().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.035 16.812l-.001.002 2.121 2.121.002-.002 2.121-2.12 9.19-9.192-2.12-2.121-9.191 9.19-3.536-3.534-2.121 2.12 3.535 3.536z",fill:"currentColor"}))}},LbfM:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r("D57K"),a=r("/SIk"),o=r.n(a),i=r("SvcO");const l=function(e){return o().createElement(i.Z,(0,n.__assign)({width:"1em",height:"1em",viewBox:"0 0 96 96",fill:"none"},e),o().createElement("g",{clipPath:"url(#ac-block-b96_svg__clip0)"},o().createElement("path",{d:"M48 10.5c10 .02 18.09 8.15 18.07 18.15-.02 10-8.15 18.09-18.15 18.07-9.99-.02-18.07-8.12-18.07-18.11.01-10.01 8.12-18.12 18.13-18.11H48zM48 8c-11.38-.01-20.61 9.22-20.62 20.6-.01 11.38 9.22 20.61 20.6 20.62 11.38.01 20.61-9.22 20.62-20.6v-.01C68.6 17.23 59.38 8.01 48 8z",fill:"currentColor"}),o().createElement("path",{d:"M84.88 59.6c-6.27-6.27-16.43-6.27-22.7 0s-6.27 16.43 0 22.7 16.43 6.27 22.7 0c6.27-6.23 6.3-16.36.07-22.63l-.07-.07z",fill:"url(#ac-block-b96_svg__paint0_linear)"}),o().createElement("path",{d:"M55.21 78h-2.5v2.5h2.5V78zM49.71 78h-2.5v2.5h2.5V78zM44.21 78h-2.5v2.5h2.5V78zM38.71 78h-2.5v2.5h2.5V78z",fill:"currentColor"}),o().createElement("path",{d:"M59 55h4.11c-1.1.72-2.13 1.56-3.06 2.49L48 69.58l-.88-.88-.88-.89-10.37-10.32H25c-7.44-.01-13.49 6.02-13.5 13.46V78h21.71v2.5H9V71c0-8.84 7.16-16 16-16h11.9L48 66.05 59 55zM73.53 60.15c-5.96 0-10.8 4.84-10.8 10.8 0 5.96 4.84 10.8 10.8 10.8 5.95 0 10.77-4.8 10.8-10.75.02-5.97-4.8-10.83-10.77-10.85h-.03zm0 2.5c4.58 0 8.3 3.72 8.3 8.3 0 1.77-.57 3.49-1.62 4.92l-11.6-11.6a8.288 8.288 0 014.92-1.62zm0 16.6c-4.58.02-8.31-3.69-8.33-8.27-.01-1.79.57-3.54 1.64-4.98l11.6 11.6a8.156 8.156 0 01-4.91 1.65z",fill:"currentColor"})),o().createElement("defs",null,o().createElement("linearGradient",{id:"ac-block-b96_svg__paint0_linear",x1:62.183,y1:82.299,x2:84.881,y2:59.601,gradientUnits:"userSpaceOnUse"},o().createElement("stop",{stopColor:"#F0B90B"}),o().createElement("stop",{offset:.28,stopColor:"#F1BC0F"}),o().createElement("stop",{offset:.569,stopColor:"#F4C41C"}),o().createElement("stop",{offset:.862,stopColor:"#F8D230"}),o().createElement("stop",{offset:.993,stopColor:"#FBDA3C"})),o().createElement("clipPath",{id:"ac-block-b96_svg__clip0"},o().createElement("path",{fill:"#fff",d:"M0 0h96v96H0z"}))))}},bRV6:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r("D57K"),a=r("/SIk"),o=r.n(a),i=r("SvcO");const l=function(e){return o().createElement(i.Z,(0,n.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),o().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 12c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8 8-3.589 8-8zM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12zm3.764-.03l4.399 4.331 7.234-7.235-1.414-1.414-5.854 5.855-2.951-2.95-1.414 1.413z",fill:"currentColor"}))}},xc32:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r("D57K"),a=r("/SIk"),o=r.n(a),i=r("SvcO");const l=function(e){return o().createElement(i.Z,(0,n.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),o().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 6.48 6.48 2 12 2s10 4.48 10 10-4.48 10-10 10S2 17.52 2 12zm2 0c0 4.41 3.59 8 8 8s8-3.59 8-8-3.59-8-8-8-8 3.59-8 8zm12.59 3.18L13.41 12l3.18-3.18-1.41-1.41L12 10.59 8.82 7.41 7.41 8.82 10.59 12l-3.18 3.18 1.41 1.41L12 13.41l3.18 3.18 1.41-1.41z",fill:"currentColor"}))}},nbKr:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r("D57K"),a=r("/SIk"),o=r.n(a),i=r("SvcO");const l=function(e){return o().createElement(i.Z,(0,n.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),o().createElement("path",{d:"M3 10.982c0 3.845 3.137 6.982 6.982 6.982 1.518 0 3.036-.506 4.149-1.416L18.583 21 20 19.583l-4.452-4.452c.81-1.113 1.416-2.631 1.416-4.149 0-1.922-.81-3.643-2.023-4.958C13.726 4.81 11.905 4 9.982 4 6.137 4 3 7.137 3 10.982zM13.423 7.44a4.819 4.819 0 011.416 3.441c0 1.315-.506 2.53-1.416 3.44a4.819 4.819 0 01-3.44 1.417 4.819 4.819 0 01-3.441-1.417c-1.012-.81-1.518-2.023-1.518-3.339 0-1.315.506-2.53 1.416-3.44.911-1.012 2.227-1.518 3.542-1.518 1.316 0 2.53.506 3.44 1.416z",fill:"currentColor"}))}},RlD4:(e,t,r)=>{"use strict";r.d(t,{M:()=>a,i:()=>o});var n=r("/SIk"),a=(0,n.createContext)({}),o=function(){return(0,n.useContext)(a)}},AAfv:(e,t,r)=>{"use strict";r.d(t,{Z:()=>Ue});var n=r("D57K"),a=r("/SIk"),o=r.n(a),i=r("7LMP"),l=r("7nmT"),s=r("tQc6"),c=r("KabG"),u=r("XQSd"),d=r("YGOS"),m=r("B2Fj"),f=r("YcsI"),p=(0,r("pYJY").F)((function(){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){return(0,n.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,m.U2)("/bapi/asset/v1/public/asset/asset/get-asset-logo")];case 1:return[2,e.sent().data||[]]}}))}))})),v=(0,r("vpUY").L)().isHybrid,h={needMargin:!0},g=function(e){var t=e.supportAssets,r=e.assetBalances,n=new Set,a=r.map((function(e){return e.asset&&n.add(e.asset),{assetCode:e.asset,assetName:e.assetName,logoUrl:e.logoUrl}}));return t.forEach((function(e){n.has(e.assetCode)||(a.push(e),n.add(e.assetCode))})),a},b=function(e,t){var r=(void 0===t?h:t).needMargin,o=void 0===r||r,i=(0,a.useState)({}),b=i[0],x=i[1],E=(0,a.useState)([]),y=E[0],w=E[1],_=(0,a.useState)(!0),C=_[0],S=_[1],Z=(0,a.useState)({}),k=Z[0],M=Z[1],A=(0,a.useCallback)((function(e){return v?(0,s.v0)(e):(t=e,void 0===r&&(r=10),(0,n.__awaiter)(void 0,void 0,void 0,(function(){var e,a,o,i,l;return(0,n.__generator)(this,(function(s){switch(s.label){case 0:return e=function(e,t){return Math.min(Math.floor(e/1e3),t)},a=Date.now(),o=(0,c.OE)(),i=(0,c.MQ)(),l=function(n){var l=n?2*r:r;return(0,m.U2)("/bapi/asset/v2/private/asset-service/wallet/balance?"+(0,d.DT)(t)).then((function(t){var r=t.data,s=void 0===r?[]:r,c=e(Date.now()-a,l);return o({type:c===l?"SUCCESS_TIMEOUT":"SUCCESS",ws_sessionId:i,responseFrom:"http",fallback:n.toString(),request:"walletBalanceReq",duration:c}),s})).catch((function(t){throw o({type:"ERROR",ws_sessionId:i,request:"walletBalanceReq",fallback:n.toString(),responseFrom:"http",error:JSON.stringify(t.message),duration:e(Date.now()-a,l)}),t}))},[4,(0,c.GW)()("cr00")];case 1:return s.sent()?[2,(0,c.tv)()?l(!1):(0,u.c)({service:"binance-mgs-asset",argName:"walletBalanceReq",responseName:"walletBalanceResp"})(t,r).then((function(t){return"error"in t?(o((0,n.__assign)({responseFrom:"websocket",request:"walletBalanceReq",ws_sessionId:i,duration:e(Date.now()-a,r)},t.error)),l(!0)):(o({responseFrom:"websocket",request:"walletBalanceReq",type:"SUCCESS",duration:e(Date.now()-a,r),ws_sessionId:i}),t.data.walletBalance||[])})).catch((function(t){return o({responseFrom:"websocket",request:"balanceValuationReq",type:"ERROR",ws_sessionId:i,error:JSON.stringify(t.message),duration:e(Date.now()-a,r)}),l(!0)}))]:[2,[]]}}))})));var t,r}),[]);(0,a.useEffect)((function(){(0,n.__awaiter)(void 0,void 0,void 0,(function(){var t,r,a,i,c,u,d,m,v,h,b,E,y,_,C,Z;return(0,n.__generator)(this,(function(k){switch(k.label){case 0:return k.trys.push([0,2,,3]),[4,Promise.all([A(e),(0,s.HF)(),o?(0,f.S)():[],p()])];case 1:return t=k.sent(),r=t[0],a=t[1],i=t[2],c=t[3],u={},c.forEach((function(e){var t=null!==e&&void 0!==e?e:{},r=t.pic,n=void 0===r?"":r,a=t.asset;u[void 0===a?"":a]=n})),d=i.map((function(e){var t=e.assetName,r=e.assetFullName,n=e.delistedTime,a=e.status;return{assetCode:t,assetName:r,logoUrl:u[t]||"",delistedTime:n,status:a}})),m=new Set,v=((null===(_=null===r||void 0===r?void 0:r.find((function(e){return"FUTURE"===e.accountType})))||void 0===_?void 0:_.assetBalances)||[]).map((function(e){return e.asset&&m.add(e.asset),{assetCode:e.asset,assetName:e.assetName,logoUrl:e.logoUrl}})),a.future.forEach((function(e){m.has(e.assetCode)||(v.push(e),m.add(e.assetCode))})),h=g({assetBalances:(null===(C=null===r||void 0===r?void 0:r.find((function(e){return"FUTURE"===e.accountType})))||void 0===C?void 0:C.assetBalances)||[],supportAssets:a.future||[]}),b=g({assetBalances:(null===(Z=null===r||void 0===r?void 0:r.find((function(e){return"DELIVERY"===e.accountType})))||void 0===Z?void 0:Z.assetBalances)||[],supportAssets:a.delivery||[]}),E=(0,n.__assign)((0,n.__assign)({},a),{future:h,delivery:b,margin:d,mining:a.main||[]}),(0,l.unstable_batchedUpdates)((function(){S(!1),x(E),w(r),M(u)})),[3,3];case 2:return y=k.sent(),S(!1),console.log("useWalletBalance abnormal!",y),[3,3];case 3:return[2]}}))}))}),[]);var N=(0,a.useCallback)((function(){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){var t,r;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),S(!0),[4,A(e)];case 1:return t=n.sent(),(0,l.unstable_batchedUpdates)((function(){S(!1),w(t||[])})),[3,3];case 2:return r=n.sent(),S(!1),console.log("refresh walletBalance abnormal!",r),[3,3];case 3:return[2]}}))}))}),[]),T=(0,a.useMemo)((function(){return(y||[]).map((function(e){var t,r=e.accountType,a=e.activate,o=e.assetBalances;if(!a)return(0,n.__assign)((0,n.__assign)({},e),{assetBalances:[]});var i=b[null!==(t=null===r||void 0===r?void 0:r.toLowerCase())&&void 0!==t?t:0];if(!i)return(0,n.__assign)({},e);var l=i.map((function(e){var t=e.assetCode,r=e.assetName,a=e.logoUrl,i=e.status,l=e.delistedTime,s=(o||[]).filter((function(e){return e.asset===t}));if(s.length){var c=s[0],u=c.free,d=c.freeze,m=c.locked,f=c.withdrawing,p=c.transferBtc;return(0,n.__assign)((0,n.__assign)({},e),{asset:t,assetName:r,free:u,freeze:d,locked:m,withdrawing:f,transferBtc:p})}return{logoUrl:a,asset:t,assetName:r,free:"0",freeze:"0",locked:"0",withdrawing:"0",transferBtc:"0",status:i,delistedTime:l}}));return(0,n.__assign)((0,n.__assign)({},e),{assetBalances:(0,n.__spreadArray)([],l)})}))}),[y,b]);return{data:(0,a.useMemo)((function(){return T.reduce((function(e,t){return e[t.activate?"activate":"unActivate"].push(t),e}),{activate:[],unActivate:[],all:T})}),[T]),loading:C,onRefresh:N,logoMap:k}},x=r("86eL");const E=function(){function e(e,t,r){var n=this;this.nativeMediaQueryList=e.matchMedia(t),this.active=!0,this.cancellableListener=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n.matches=n.nativeMediaQueryList.matches,n.active&&r.apply(void 0,e)},this.nativeMediaQueryList.addListener(this.cancellableListener),this.matches=this.nativeMediaQueryList.matches}return e.prototype.cancel=function(){this.active=!1,this.nativeMediaQueryList.removeListener(this.cancellableListener)},e}();var y,w={mobile:"(max-width: 767px)",tablet:"(min-width: 768px) and (max-width: 1023px)",desktop:"(min-width: 1024px)"},_=o().createContext(((y={}).mobile=!1,y.tablet=!1,y.desktop=!0,y)),C=function(e){var t,r=e.children,i=(0,a.useState)(((t={}).mobile=!1,t.tablet=!1,t.desktop=!0,t)),l=i[0],s=i[1],c=(0,a.useRef)(),u=(0,a.useCallback)((function(){s(c.current.reduce((function(e,t){var r,a=t.name,o=t.mqListener;return(0,n.__assign)((0,n.__assign)({},e),((r={})[a]=o.matches,r))}),{}))}),[s]);return(0,a.useEffect)((function(){c.current=Object.keys(w).map((function(e){return{name:e,mqListener:new E(window,w[e],u)}})),u()}),[u]),o().createElement(_.Provider,{value:(0,n.__assign)((0,n.__assign)({},l),{updateMedia:u})},r)},S=function(){var e=(0,a.useContext)(_),t=e.mobile,r=e.tablet,n=e.desktop;return(0,a.useMemo)((function(){return{isTablet:r,isMobile:t,isDesktop:n}}),[t,r,n])},Z=r("EcrR"),k=r("sm1q"),M=r("2138"),A=r("pAi8"),N=r("Va8j"),T=r("KxSK"),z=r("Qlon"),R=r("nOJ5"),I=r("zNLM"),B=function(e){var t=e.asset,r=e.symbol;return(0,n.__awaiter)(void 0,void 0,void 0,(function(){var e,a;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:e="0",n.label=1;case 1:return n.trys.push([1,3,,4]),[4,(0,m.U2)("/bapi/margin/v1/private/isolated-margin/transferable-amount/"+r+"?asset="+t)];case 2:return a=n.sent().data,e=a||"0",[3,4];case 3:return n.sent(),[3,4];case 4:return[2,e]}}))}))},O=r("QUzY"),D=r("sPwQ"),L=r("Qwun"),P=r("NYKh"),F=r("7dkN"),q=r("RlD4"),H=r("4J4Z"),W=r("2/JV"),U=r("Tr4L"),V=function(e){var t=(0,U.$)("asset-transfer"),r=t.t;return{i18n:t.i18n,getI18n:(0,a.useCallback)((function(t,n){return void 0===n&&(n={}),r(e+"-"+t,n)}),[e,r])}},j=function(e,t,r){for(var n=[],a=e.length,o=t.length,i=0;i<a;i++)for(var l=r(e[i]),s=0;s<o;s++){if(l===r(t[s])){n.push(e[i]);break}}return n},G=function(e,t){for(var r=e.length,n=0;n<r;n++){var a=e[n];if(t.indexOf(a)>=0)return!0}return!1},Y=function(e,t,r){return void 0===r&&(r=10),e===t?0:e>t?-1*r:r};const K=function(){var e=(0,q.i)(),t=e.from,r=e.fromIsoSymbol,i=e.isolatedPairs,l=V("assetTransfer").getI18n,s=function(){var e=(0,x.N)((function(){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){return(0,n.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,H.ue)()];case 1:return[2,e.sent()]}}))}))}),[],{value:[]}),t=e.value,r=(0,n.__rest)(e,["value"]);return(0,n.__assign)((0,n.__assign)({},r),{marginAccountInfo:t})}().marginAccountInfo,c=(0,a.useMemo)((function(){var e;return null===(e=i.filter((function(e){return e.symbol===r})))||void 0===e?void 0:e[0]}),[i,r]),u=("MARGIN"===t?null===s||void 0===s?void 0:s.transferOutBar:null===c||void 0===c?void 0:c.transferOutBar)||"2";return"MARGIN"===t||"ISOLATED_MARGIN"===t?o().createElement(W.Z,{variant:"warning"},o().createElement(k.Z,{lineHeight:"20px"},l("margin-riskTip").replace("##",parseFloat(Number(u||"2.0").toFixed(2))))):null};var Q=r("wgY5"),J=r.n(Q);const X=o().memo((function(){var e=(0,q.i)(),t=e.from,r=e.to,n=e.isolatedPairs,i=e.toIsoSymbol,l=e.walletsBalance,s=e.coin,c=V("assetTransfer").getI18n,u="ISOLATED_MARGIN"===t||"ISOLATED_MARGIN"===r,d="MARGIN"===t||"MARGIN"===r,m=(0,a.useMemo)((function(){var e,t;return null===(t=null===(e=null===n||void 0===n?void 0:n.filter)||void 0===e?void 0:e.call(n,(function(e){return e.symbol===i})))||void 0===t?void 0:t[0]}),[n,i]),f=(0,a.useMemo)((function(){var e,t,r,n,a;return null===(a=null===(n=null===(r=null===(t=null===(e=null===l||void 0===l?void 0:l.activate)||void 0===e?void 0:e.filter((function(e){return"MARGIN"===e.accountType})))||void 0===t?void 0:t[0])||void 0===r?void 0:r.assetBalances)||void 0===n?void 0:n.filter((function(e){return e.asset===s})))||void 0===a?void 0:a[0]}),[l,s]);if(!d&&!u)return null;if(d&&!f)return null;if(u&&!m)return null;if("PREPARE_DELIST"===(d?f.status:m.status)){var p=d?f.asset:m.base+"/"+m.quote,v=d?f.delistedTime:m.delistTime,h=d?"cross-delist":"isolated-delist";return o().createElement(W.Z,{variant:"error"},o().createElement(k.Z,{lineHeight:"20px",fontSize:"14px"},c(h,{interpolation:{escapeValue:!1},pair:p,delistTime:J()(Number(v)).format("YYYY-MM-DD HH:mm (UTCZ)")})))}return null}));var $=r("zEYC"),ee=r("zD1r"),te=r("Gfh8"),re=r("hdQU"),ne=r("vGAE"),ae=r("VhSE"),oe=r("UyJJ"),ie=r("nbKr"),le=function(e){var t=e.value,r=e.renderValue,a=e.open,i=(0,n.__rest)(e,["value","renderValue","open"]);return o().createElement(A.Z,(0,n.__assign)({sx:{width:"100%",height:"48px",bg:"bg3",px:"ls",borderRadius:"4px",cursor:"pointer",justifyContent:"space-between",alignItems:"center"}},i),o().createElement(M.Z,{flex:"1"},r()||t),o().createElement(ae.Z,{sx:{transform:a?"rotate(180deg)":"rotate(0)",color:"t.third"},size:16}))};const se=function(e){var t=e.label,r=e.listTitle,n=e.value,i=e.renderValue,l=e.hideSearch,s=void 0!==l&&l,c=e.searchPlaceholder,u=e.listData,d=e.onChange,m=(0,a.useState)(!1),f=m[0],p=m[1],v=(0,a.useState)(""),h=v[0],g=v[1],b=(0,a.useCallback)((function(e){p(!1),d&&d(e)}),[]),x=(0,a.useCallback)((function(){p(!1),g("")}),[]),E=(0,a.useMemo)((function(){if(!h)return u;var e=new RegExp(h,"i");return u.filter((function(t){var r=t.name;return e.test(r)}))}),[h,u]);return o().createElement(o().Fragment,null,t&&o().createElement(k.Z,{sx:{fontSize:"14px",lineHeight:"20px",color:"t.secondary",mb:"minor"}},t),o().createElement(le,{value:n,renderValue:i,open:f,onClick:function(){return p(!0)}}),o().createElement(re.Z,{visible:f,onClick:x}),o().createElement(ne.Z,{visible:f,direction:"bottom",outerClick:x,bg:"popupBg",childProps:{sx:{borderRadius:"24px 24px 0 0"}}},o().createElement(M.Z,{sx:{maxHeight:"500px",height:"500px",overflow:"hidden"}},o().createElement(A.Z,{flexDirection:"column",p:"sm",height:"100%"},o().createElement(A.Z,{justifyContent:"space-between",alignItems:"center",mt:"4px",mb:"10px"},o().createElement(k.Z,{sx:{fontSize:"16px",lineHeight:"24px",color:"t.primary"}},r),o().createElement(oe.Z,{size:16,color:"t.third",onClick:function(){return p(!1)}})),!s&&o().createElement(M.Z,{mb:"xs",width:1},o().createElement(P.Z,{variant:"filled",boxProps:{width:"100%"},placeholder:c,value:h,defaultValue:h,onChange:function(e){return g((e.target.value||"").replace(/\W/g,""))},autoComplete:"off",prefix:o().createElement(ie.Z,{color:"t.placeholder",ml:"8px",mr:"-8px",sx:{verticalAlign:"middle"}}),suffix:!!h&&o().createElement(T.Z,{size:16,color:"t.placeholder",sx:{cursor:"pointer",verticalAlign:"middle",mr:"xs"},onClick:function(){return g("")}})})),o().createElement(M.Z,{flex:"1",sx:{overflow:"scroll",li:{listStyleType:"none","> div":{height:"100%",alignItems:"center"}}}},E.map((function(e){var t=e.value,r=e.name,a=e.desc,i=e.prefix,l=e.suffix,s=e.disabled;return o().createElement(te.W,{height:48,key:t,value:""+t,onClick:function(){s||b(t)},bg:"popupBg",prefix:i,suffix:l},o().createElement(k.Z,{sx:{opacity:s?.4:1,fontSize:"14px",color:t===n?"t.yellow":"t.primary"}},r),(null===a||void 0===a?void 0:a.length)?o().createElement(k.Z,{sx:{fontSize:"12px",lineHeight:"16px",color:"t.third"}},a):null)})))))))};const ce=function(e){var t=e.assetLogo,r=e.assetCode,a=e.assetName,i=e.children,l=e.logoSize,s=void 0===l?20:l,c=(0,n.__rest)(e,["assetLogo","assetCode","assetName","children","logoSize"]);return o().createElement(A.Z,(0,n.__assign)({},c,{__css:{lineHeight:1,alignItems:"flex-end",justifyContent:"space-between"}}),o().createElement(A.Z,{sx:{alignItems:"center",flex:"1"}},!!t&&o().createElement($.Z,{variant:"avatar",src:t,sx:{mr:"xs",flex:"none",width:s,height:s,border:"1px solid",borderColor:"lines.light"}}),o().createElement(k.Z,{sx:{color:"t.primary",flex:"none"},children:r}),a?o().createElement(k.Z,{as:"small",sx:{flex:1,ml:"xs",mr:"sm",mt:"2px",color:"t.third",display:"-webkit-box",wordBreak:"break-all",WebkitBoxOrient:"vertical",overflow:"hidden",WebkitLineClamp:1},children:""+a}):null),i)};var ue={fontSize:"12px",color:"t.third",lineHeight:"16px",ml:"minor",mb:"1px"},de={fontSize:"12px",color:"t.third",lineHeight:"12px"};const me=o().memo((function(e){var t=e.value,r=e.onChange,n=e.data,i=e.fiatSymbol,l=e.btcFiatPrice,s=S().isMobile,c=V("assetTransfer").getI18n,u=(0,a.useMemo)((function(){return n.filter((function(e){return e.coin===t}))[0]||{coin:"",logoUrl:"",name:""}}),[t,n]),d=(0,a.useMemo)((function(){return s?n.map((function(e){var t=e.coin,r=e.name,n=e.logoUrl;return{value:t,name:t,desc:r,prefix:o().createElement($.Z,{src:n,variant:"avatar",sx:{width:"20px",height:"20px",borderWidth:"1px",borderStyle:"solid",borderColor:"line"}})}})):n}),[s,n]);return s?o().createElement(se,{listTitle:c("select-selectCoin"),searchPlaceholder:c("input-placeholder-searchCoin"),value:t,renderValue:function(){return o().createElement(ce,{assetLogo:u.logoUrl,assetCode:u.coin,assetName:u.name})},listData:d,onChange:r}):o().createElement(ee.Z,{size:"lg",value:t,onChange:r,itemHeight:52,renderValue:function(){return o().createElement(ce,{assetLogo:u.logoUrl,assetCode:u.coin,assetName:u.name})},empty:null,disabled:!d.length,placeholder:c("select-placeholder"),limit:3},d.map((function(e){var r=e.coin,n=e.logoUrl,a=e.name,s=e.transferBtc,c=e.free;return o().createElement(te.W,{key:r,prefix:o().createElement($.Z,{src:n,variant:"avatar",sx:{width:"20px",height:"20px",borderWidth:"1px",borderStyle:"solid",borderColor:"line"}}),value:r},o().createElement(A.Z,{alignItems:"center",justifyContent:"space-between"},o().createElement("div",{style:{display:"flex",alignItems:"center"}},o().createElement(k.Z,{color:r===t?"t.yellow":"t.primary"},r)," ",o().createElement(k.Z,{sx:ue},a)),i&&o().createElement("div",{style:{textAlign:"right"}},o().createElement(k.Z,{color:"t.primary"},c||"0.00"),!!c&&o().createElement(k.Z,{sx:de},""+i+(0,z.Jp)(s,l).toFixed(2)))))})))}));var fe={width:"49%",padding:"12px 16px",border:"1px solid",borderRadius:"4px",borderColor:"bg3",bg:"bg3",cursor:"pointer","&.selected":{borderColor:"primary"}},pe={color:"t.third",fontSize:"12px",lineHeight:"12px"};const ve=o().memo((function(e){var t=e.value,r=e.onChange,n=e.data,a=e.fiatSymbol,i=e.btcFiatPrice;return o().createElement(A.Z,{justifyContent:"space-between"},n.map((function(e){var n=e.logoUrl,l=e.coin,s=e.name,c=e.props;return o().createElement(A.Z,{key:l,sx:fe,className:t===l?"selected":"",onClick:function(){return r&&r(l)}},o().createElement(M.Z,null,!!n&&o().createElement($.Z,{variant:"avatar",src:n,sx:{mr:"xs",flex:"none",width:"32px",height:"32px",border:"1px solid",borderColor:"lines.light"}})),o().createElement(M.Z,null,o().createElement(A.Z,{alignItems:"center"},o().createElement(M.Z,{mr:"2px"},l),o().createElement(M.Z,{sx:pe},s)),o().createElement(M.Z,{fontSize:"16px"},Number(c.free)?c.free:"0.00"),!!Number(c.free)&&o().createElement(M.Z,{sx:pe},""+a+(0,z.Jp)(c.netAssetOfBtc,i).toFixed(2))))})))}));function he(e,t){return(0,n.__awaiter)(this,void 0,void 0,(function(){var r,a,o;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:switch(r=[],e){case"MAIN":return[3,1];case"MARGIN":return[3,3];case"ISOLATED_MARGIN":return[3,5]}return[3,7];case 1:return[4,(0,s.hJ)()];case 2:return r=n.sent()||[],[3,8];case 3:return[4,(0,H.ue)()];case 4:return a=n.sent(),r=(null===a||void 0===a?void 0:a.userAssets)||[],[3,8];case 5:return t?[4,(0,i.Dr)({requireCoupon:!0,symbols:""+t})]:[2,r];case 6:return o=n.sent(),r=Array.isArray(o)?[o[0].base,o[0].quote]:[],[3,8];case 7:return[3,8];case 8:return[2,r]}}))}))}var ge=r("o+U4");const be=function(e){var t=e.label,r=e.children,n=e.mt;return o().createElement(M.Z,{sx:{mt:n||"md"}},t&&o().createElement(ge.Z,null,t),r)};var xe=r("Q9A/"),Ee=r("SvcO");const ye=function(e){return o().createElement(Ee.Z,(0,n.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),o().createElement("path",{d:"M7.5 3h3v18.5l-7-7h4V3zM16.5 21h-3V2.5l7 7h-4V21z",fill:"currentColor"}))};var we=function(e){var t=e.color,r=(0,n.__rest)(e,["color"]);return o().createElement(M.Z,(0,n.__assign)({sx:{width:"5px",height:"5px",borderRadius:"100%",borderWidth:"1px",borderStyle:"solid",borderColor:t}},r))};const _e=function(e){var t=e.onClick;return o().createElement(A.Z,{sx:{width:"32px",position:"relative",py:"md",flexDirection:"column",justifyContent:"space-between",alignItems:"center"}},o().createElement(we,{color:"buy"}),o().createElement(M.Z,{sx:{flex:1,width:0,borderWidth:"0 1px 0 0",borderStyle:"dashed",borderColor:"line"}}),o().createElement(we,{color:"sell"}),o().createElement(A.Z,{onClick:t,sx:{cursor:"pointer",justifyContent:"center",alignItems:"center",width:"32px",height:"32px",borderRadius:"32px",bg:"bg3",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)","&:hover":{"svg, svg > path":{color:"primary",fill:"primary"}}}},o().createElement(ye,{size:16,color:"t.third"})))};const Ce=function(){var e=V("assetTransfer").getI18n;return o().createElement(k.Z,{sx:{ml:"sm",fontSize:"12px",color:"t.secondary",":before":{content:"' '",display:"inline-block",width:"8px",height:"8px",borderRadius:"100%",bg:"sell",opacity:"0.4",mr:"minor"}}},e("tag-inactive"))};const Se=function(e){var t=e.value,r=e.onChange,i=e.data,l=e.activatdAccounts,s=e.sx,c=e.uni,u=void 0!==c&&c,d=S().isMobile,m=V("assetTransfer").getI18n,f=(0,a.useCallback)((function(e){if(!e)return null;var t=e.toLocaleLowerCase();return m("account-"+("isolated_margin"===t?"isolatedMargin":t)+(u&&"main"!==t?"-uni":""))}),[m]),p=(0,a.useMemo)((function(){return d?i.map((function(e){var t=-1===l.indexOf(e),r=t?o().createElement(Ce,null):null;return{value:e,name:f(e),suffix:r,disabled:t}})):i}),[d,i,l]);return(0,q.i)().fixWalletType?o().createElement(A.Z,{sx:{width:"100%",height:"48px",bg:"bg3",px:"ls",borderRadius:"4px",justifyContent:"space-between",alignItems:"center"}},o().createElement(M.Z,{flex:"1"},f(t))):d?o().createElement(se,{hideSearch:!0,listTitle:m("select-selectAccount"),value:t,renderValue:function(){return f(t)},listData:p,onChange:r}):o().createElement(ee.Z,{hideSearch:!0,size:"lg",placeholder:m("select-placeholder"),value:t,onChange:r,renderValue:function(e){return f(e)},limit:5,sx:(0,n.__assign)({li:{opacity:1}},s)},p.map((function(e){var r=-1===l.indexOf(e),n=e===t;return o().createElement(te.W,{key:e,value:e,disabled:r,suffix:r?o().createElement(Ce,null):null},o().createElement(k.Z,{sx:{opacity:r?.4:1,color:n?"t.yellow":"t.primary"}},f(e)))})))};const Ze=o().memo((function(e){var t=e.value,r=e.onChange,n=e.pairs,i=S().isMobile,l=V("assetTransfer").getI18n,s=(0,a.useMemo)((function(){return i?n.map((function(e){var t=e.symbol;return{value:t,name:t,desc:""}})):n}),[i,n]),c=(0,a.useCallback)((function(e){return r(e)}),[r]);return i?o().createElement(se,{listTitle:l("isolated-pair"),searchPlaceholder:l("select-placeholder"),value:t,listData:s,onChange:c,renderValue:function(e){return e}}):o().createElement(ee.Z,{size:"lg",value:t,onChange:c,empty:null,disabled:!s.length,placeholder:l("select-placeholder")},s.map((function(e){var r=e.symbol,n=e.baseProps,a=e.quoteProps,i=e.base,l=e.quote;return o().createElement(te.W,{key:r,value:r},o().createElement(M.Z,null,o().createElement(M.Z,{color:r===t?"primary":"t.primary"},i,"/",l),o().createElement(M.Z,{sx:{fontSize:"12px",color:"t.third",lineHeight:"12px"}},Number(null===n||void 0===n?void 0:n.free).toFixed(2)||"0.00","/",Number(null===a||void 0===a?void 0:a.free).toFixed(2)||"0.00")))})))}));var ke="ISOLATED_MARGIN";const Me=o().memo((function(e){var t=e.revertFromAndTo,r=e.from,n=e.to,a=e.allFrom,i=e.allTo,l=e.fromIsoSymbol,s=e.setFromIsoSymbol,c=e.toIsoSymbol,u=e.setToIsoSymbol,d=e.filterFromSymbols,m=e.filterToSymbols,f=e.handleFromChange,p=e.activatdAccounts,v=e.handleToChange,h=e.t,g=S().isMobile,b=(0,xe.D)((function(e){return"from"===e&&r===ke?o().createElement(M.Z,{width:["100%","156px"],flex:"none",ml:[0,"16px"]},o().createElement(be,{label:g?null:h("isolated-pair"),mt:g?"8px":"0"},o().createElement(Ze,{value:l,onChange:s,pairs:d}))):"to"===e&&n===ke?o().createElement(M.Z,{width:["100%","156px"],flex:"none",ml:[0,"16px"]},o().createElement(be,{label:g?null:h("isolated-pair"),mt:g?"8px":"24px"},o().createElement(Ze,{value:c,onChange:u,pairs:m}))):null}));return o().createElement(A.Z,{sx:{p:"md",borderStyle:"solid",borderWidth:"0 0 1px",borderColor:"line"}},o().createElement(A.Z,{mt:"20px",mr:"xs"},o().createElement(_e,{onClick:t})),o().createElement(M.Z,{flex:1},o().createElement(A.Z,{width:"100%",flexWrap:"wrap"},o().createElement(M.Z,{flex:["none","1"],width:["100%","auto"]},o().createElement(be,{label:h("select-from"),mt:"0"},o().createElement(Se,{value:r,data:Object.keys(a),onChange:f,activatdAccounts:p}))),b("from")),o().createElement(A.Z,{width:"100%",flexWrap:"wrap"},o().createElement(M.Z,{flex:["none","1"],width:["100%","auto"]},o().createElement(be,{label:h("select-to")},o().createElement(Se,{value:n,data:Object.keys(i),onChange:v,activatdAccounts:p}))),b("to"))))}));const Ae=function(e){return o().createElement(Ee.Z,(0,n.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),o().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 3.5a5.502 5.502 0 00-5.302 4.032 7.502 7.502 0 016.77 6.77A5.502 5.502 0 0015 3.5zM14.5 15a5.5 5.5 0 10-11 0 5.5 5.5 0 0011 0zm-8 0L9 17.5l2.5-2.5L9 12.5 6.5 15zM9 4H4v5l5-5zm11 16h-5l5-5v5z",fill:"currentColor"}))};const Ne=function(e){return o().createElement(Ee.Z,(0,n.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),o().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 20.999l7.071-7.071-1.768-1.768-4.054 4.055V2.998h-2.5v13.216L6.696 12.16l-1.768 1.768 7.07 7.071H12z",fill:"currentColor"}))};const Te=function(e){return o().createElement(Ee.Z,(0,n.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),o().createElement("path",{d:"M12.791 9.59c0-.498.28-.842.932-.97v1.889c-.651-.179-.932-.434-.932-.919zM15.739 13.342c0 .485-.28.88-.88 1.046v-2.016c.727.217.88.6.88.97z",fill:"currentColor"}),o().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5 3H20v13a4 4 0 01-4 4H7.5A3.5 3.5 0 014 16.5V9h4.5V3zm0 8.5h-2v5a1 1 0 102 0v-5zm6.512 5.517v-1.225c1.697-.28 2.488-1.34 2.488-2.59 0-1.302-.855-2.03-2.642-2.438V8.646c.613.14 1.021.421 1.328.766l1.16-1.047c-.56-.638-1.314-1.034-2.334-1.148v-1.2h-1.455v1.2C11.91 7.408 11.03 8.3 11.03 9.64c0 1.238.779 2.08 2.693 2.476v2.297c-.715-.102-1.315-.447-1.8-.957l-1.148 1.046c.638.702 1.493 1.225 2.782 1.34v1.174h1.455z",fill:"currentColor"}))};var ze={width:"100%",color:"t.third",padding:"0 11px",alignItems:"center"},Re={ml:"8px",minWidth:"40px"};const Ie=o().memo((function(e){var t=e.revertFromAndTo,r=e.from,n=e.to,a=e.allFrom,i=e.allTo,l=e.handleFromChange,s=e.activatdAccounts,c=e.handleToChange,u=e.t;return o().createElement(A.Z,{sx:{p:"md",borderStyle:"solid",borderWidth:"0 0 1px",borderColor:"line"}},o().createElement(M.Z,{sx:{flex:1,borderRadius:"4px",bg:"bg3"}},o().createElement(A.Z,{sx:ze},o().createElement(Ae,{size:24}),o().createElement(ge.Z,{sx:Re},u("select-from")),o().createElement(Se,{sx:{flex:1,border:"none"},value:r,data:Object.keys(a),onChange:l,activatdAccounts:s})),o().createElement(A.Z,{sx:{width:"100%",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",padding:"0 16px"}},o().createElement(Ne,{color:"t.disabled",size:16}),o().createElement(ye,{onClick:t,color:"primary",size:20,cursor:"pointer"})),o().createElement(A.Z,{sx:ze},o().createElement(Te,{size:24}),o().createElement(ge.Z,{sx:Re},u("select-to")),o().createElement(Se,{sx:{flex:1,border:"none"},value:n,data:Object.keys(i),onChange:c,activatdAccounts:s}))))}));var Be="ISOLATED_MARGIN",Oe=[Be,"MAIN","MARGIN"],De=["EUR","GBP"],Le=function(){return o().createElement(Z.Z,{sx:{height:18,width:20}})},Pe=function(){var e=(0,q.i)(),t=e.open,r=e.setOpen,i=e.from,l=e.setFrom,c=e.to,u=e.setTo,d=e.coin,m=e.setCoin,f=e.walletsBalance,p=e.freshBalance,v=e.walletConfig,h=e.onTransferSuccess,g=e.isolatedPairs,b=e.logoMap,x=e.fromIsoSymbol,E=e.setFromIsoSymbol,y=e.toIsoSymbol,w=e.setToIsoSymbol,_=e.afterTransfer,C=e.needMargin,S=e.needFuturesJointMargin,Z=e.delay,H=e.btcFiatPrice,W=e.fiatSymbol,U=e.closeDefaultToast,Q=void 0!==U&&U,J=(0,O.Z)(),$=(0,F.Z)().enqueueNotification,ee=V("assetTransfer").getI18n,te=(0,a.useState)(""),re=te[0],ne=te[1],ae=(0,a.useState)(!1),oe=ae[0],ie=ae[1],le=f.activate,se=(0,a.useMemo)((function(){return v.reduce((function(e,t){var r,a,o=e.allFrom,l=e.allTo,s=t.fromAccount,u=t.toAccount,d=[u].indexOf(c)>-1,m=[s].indexOf(i)>-1;return{allFrom:d?(0,n.__assign)((0,n.__assign)({},o),(r={},r[s]=!0,r)):o,allTo:m?(0,n.__assign)((0,n.__assign)({},l),(a={},a[u]=!0,a)):l}}),{allFrom:{},allTo:{}})}),[v,i,c]),ce=se.allFrom,ue=se.allTo,de=(0,a.useMemo)((function(){return i===Be&&c!==Be||i!==Be&&c===Be}),[i,c]),fe=(0,a.useMemo)((function(){return i===Be&&c===Be}),[i,c]),pe=(0,a.useMemo)((function(){var e;return null===(e=g.filter((function(e){return e.symbol===x})))||void 0===e?void 0:e[0]}),[g,x]),ge=(0,a.useMemo)((function(){var e;return null===(e=g.filter((function(e){return e.symbol===y})))||void 0===e?void 0:e[0]}),[g,y]),xe=(0,a.useMemo)((function(){return le.reduce((function(e,t){var r=t.accountType;return(t.assetBalances||[]).forEach((function(t){var n=t.asset;e[n]||(e[n]={}),e[n][r]=t})),e}),{})}),[le]),Ee=(0,a.useMemo)((function(){var e,t,r;if(de){var n=i===Be,a=n?pe:ge;if(!a)return[];var o=a.base,l=a.quote,s=a.baseProps,u=a.quoteProps,d=[o,l].map((function(e){var t;return{name:(null===(t=xe[e].MAIN)||void 0===t?void 0:t.assetName)||e,coin:e,logoUrl:b[e],props:n?o===e?s:u:void 0}})),m=n?c:i,f=(null!==(r=null===(t=null===(e=le.filter((function(e){return e.accountType===m})))||void 0===e?void 0:e[0])||void 0===t?void 0:t.assetBalances)&&void 0!==r?r:[]).map((function(e){return{coin:e.asset,name:e.assetName,logoUrl:e.logoUrl,props:n?void 0:{free:e.free,netAssetOfBtc:e.transferBtc,assetName:e.asset,locked:e.locked,transferInEnabled:!1}}}));return j(x=n?d:f,E=n?f:d,(function(e){return e.coin}))}if(fe){if(!pe||!ge)return[];var p=pe.base,v=pe.quote,h=ge.base,g=ge.quote,x=[p,v].map((function(e){var t;return{name:(null===(t=xe[e].MAIN)||void 0===t?void 0:t.assetName)||e,coin:e,logoUrl:b[e],props:p===e?pe.baseProps:pe.quoteProps}})),E=[h,g].map((function(e){var t;return{name:(null===(t=xe[e].MAIN)||void 0===t?void 0:t.assetName)||e,coin:e,logoUrl:b[e]}}));return j(x,E,(function(e){return e.coin}))}return Object.keys(xe).map((function(e){var t=xe[e];return c in t&&t[i]})).filter((function(e){return!!e})).map((function(e){var t=e.asset;return{name:e.assetName||t,coin:t,logoUrl:e.logoUrl,transferBtc:e.transferBtc,free:e.free}})).sort((function(e,t){return Y(Number(e.transferBtc),Number(t.transferBtc))+e.coin.localeCompare(t.coin)}))}),[xe,i,c,de,g,b,fe,x,y,pe,ge]),ye=(0,a.useCallback)((function(e){if(!fe){var t=Ee.some((function(t){return t.coin===e}));m(0===Ee.length||t?e:(Ee[0]||{}).coin||""),ne("")}}),[Ee,fe]);(0,a.useMemo)((function(){return ye(d)}),[ye,d]);var we=(0,a.useCallback)((function(){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){return(0,n.__generator)(this,(function(e){switch(e.label){case 0:return"MARGIN"!==i?[3,2]:[4,(0,R.Cr)({asset:d})];case 1:return[2,e.sent()];case 2:return"FUTURE"!==i?[3,4]:[4,(0,I.yd)({assetName:d})];case 3:return[2,e.sent()];case 4:return"DELIVERY"!==i?[3,6]:[4,(0,I.m_)({assetName:d})];case 5:return[2,e.sent()];case 6:return i===Be&&d.length&&x.length?[4,B({asset:d,symbol:x})]:[3,8];case 7:return[2,e.sent()];case 8:return[2,((xe[d]||{})[i]||{}).free||0]}}))}))}),[i,d,xe,x]),_e=(0,a.useCallback)((function(){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){var e,t,r;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:return e=null===(r=le.find((function(e){return"FUTURE"===e.accountType})))||void 0===r?void 0:r.assetBalances,t=null===e||void 0===e?void 0:e.find((function(e){return e.asset===d})),"FUTURE"===c&&S&&t?[4,(0,I.SZ)({asset:d})]:[3,2];case 1:return[2,n.sent()];case 2:return[2,Number.MAX_SAFE_INTEGER]}}))}))}),[c,S,d,le]),Ce=(0,a.useState)(0),Se=Ce[0],Ze=Ce[1],ke=(0,a.useState)(!1),Ae=ke[0],Ne=ke[1];(0,a.useEffect)((function(){return Ne(!1),(0,n.__awaiter)(void 0,void 0,void 0,(function(){var e,t,r,a,o,i;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:return o=(a=Promise).all,[4,_e()];case 1:return i=[n.sent()],[4,we()];case 2:return[4,o.apply(a,[i.concat([n.sent()])])];case 3:return e=n.sent(),t=e[0],r=e[1],S&&"FUTURE"===c?t<0?[2,r]:[2,Math.min(t,r)]:[2,r]}}))})).then((function(e){return Ze(e)})).catch((function(){Ze(0)})).finally((function(){Ne(!0)})),function(){Ze(0),Ne(!1)}}),[we,_e,S]);var Te=(0,a.useCallback)((function(e){l(e)}),[l]),ze=(0,a.useCallback)((function(e){u(e)}),[u]),Re=(0,a.useCallback)((function(e){m(e),De.includes(e)&&J({currency:[e],source:"transfer"})}),[m]),Pe=(0,a.useCallback)((function(e){var t,r=(null===(t=e.target.value.match(/[0]?(\d){1,12}(?:\.\d{0,8}){0,1}/))||void 0===t?void 0:t[0])||"";ne(!r||/\./.test(r)?r:+r)}),[ne]),Fe=(0,a.useCallback)((function(){r(!1)}),[r]),qe=(0,a.useCallback)((function(){l(c),u(i),c!==Be&&i!==Be||(w(x),E(y))}),[i,c,x,y]),He=(0,a.useCallback)((function(){ne((0,z.D$)(Se))}),[Se,ne]),We=(0,a.useMemo)((function(){return+re>+Se?ee("validate-amountError"):""}),[re,Se,ee]),Ue=(0,a.useMemo)((function(){return le.reduce((function(e,t){var r=t.accountType;return(0,n.__spreadArray)((0,n.__spreadArray)([],e),[r])}),[])}),[le]),Ve=(0,a.useCallback)((function(){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){var e,t,a,o;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:e={asset:d,kindType:[i,c].join("_"),amount:re},de&&(e.symbol=i===Be?x:y),fe&&(e.symbol=x,e.targetSymbol=y),n.label=1;case 1:return n.trys.push([1,3,,4]),ie(!0),[4,(0,s.WL)(e)];case 2:return t=n.sent(),a=t.success,o=t.message,_?(a?setTimeout((function(){_(null,e,t),ie(!1),r(!1),p(),!Q&&$(ee("notify-transferSuccessful"),{variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"}})}),Z):(_(new Error(o),e,t),!Q&&$(o,{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"}}),ie(!1)),[2]):a?(setTimeout((function(){$(ee("notify-transferSuccessful"),{variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"}}),p(),h&&h(e),r(!1),ie(!1)}),Z),[3,4]):(!Q&&$(o,{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"}}),ie(!1),[2]);case 3:return n.sent(),!Q&&$(ee("error-abnormal"),{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"}}),ie(!1),[3,4];case 4:return[2]}}))}))}),[d,i,c,re,x,y,de,fe]),je=(0,a.useMemo)((function(){if(!de||!fe)return!0;if(!ge)return!1;var e=ge.base,t=ge.baseProps,r=ge.quote,n=ge.quoteProps;return!!(d===e&&t.transferInEnabled||d===r&&n.transferInEnabled)||(d===e||d===r)}),[de,fe,d,ge]),Ge=!i||!c||!d||!+re||!!We||oe||!je,Ye=(0,a.useRef)([]),Ke=(0,a.useRef)([]),Qe=(0,a.useMemo)((function(){return g.map((function(e){return e.symbol}))}),[g]),Je=(0,a.useState)(0)[1],Xe=(0,a.useCallback)((function(){return Je((function(e){return e+1}))}),[]);(0,a.useEffect)((function(){if(de)i===Be&&(Ye.current=g,Ke.current=[],E((function(e){var t,r;return Qe.indexOf(e)>=0?e:null!==(r=null===(t=g[0])||void 0===t?void 0:t.symbol)&&void 0!==r?r:"BTCBUSD"})),w("")),c===Be&&(Ye.current=[],Ke.current=g,w((function(e){var t,r;return Qe.indexOf(e)>=0?e:null!==(r=null===(t=g[0])||void 0===t?void 0:t.symbol)&&void 0!==r?r:"BTCBUSD"})),E("")),Xe();else if(fe){if(ge&&!pe){var e=ge.base,t=ge.quote,r=ge.symbol,n=(b=g.filter((function(n){var a=n.base,o=n.quote,i=n.symbol;return G([a,o],[e,t])&&r!==i})))[0];if(!n)return;var a=n.base,o=n.quote,l=n.symbol,s=g.filter((function(e){var t=e.base,r=e.quote,n=e.symbol;return G([t,r],[a,o])&&l!==n}));Ye.current=b,Ke.current=s,E(n.symbol)}if(!ge&&pe){var u=pe.base,d=pe.quote,m=pe.symbol,f=(s=g.filter((function(e){var t=e.base,r=e.quote,n=e.symbol;return G([t,r],[u,d])&&m!==n})))[0];if(!f)return;var p=f.base,v=f.quote,h=f.symbol,b=g.filter((function(e){var t=e.base,r=e.quote,n=e.symbol;return G([t,r],[p,v])&&h!==n}));Ye.current=b,Ke.current=s,w(f.symbol)}if(ge&&pe){var x=ge.base,y=ge.quote,_=ge.symbol,C=pe.base,S=pe.quote,Z=pe.symbol;s=g.filter((function(e){var t=e.base,r=e.quote,n=e.symbol;return G([t,r],[C,S])&&n!==Z})),b=g.filter((function(e){var t=e.base,r=e.quote,n=e.symbol;return G([t,r],[x,y])&&n!==_}));Ye.current=b,Ke.current=s}Xe()}}),[de,fe,i,c,pe,ge,Xe,g,Qe]);var $e=(0,a.useCallback)((function(){return je?null:o().createElement(k.Z,{lineHeight:"14px",fontSize:"12px",mt:"4px",color:"sell"},ee("coin-not-transfer"))}),[je,ee]);(0,a.useEffect)((function(){var e,t;if(fe){var r=null!==(t=null===(e=Ee[0])||void 0===e?void 0:e.coin)&&void 0!==t?t:"";m(r)}else 0===Ee.length&&m("")}),[fe,Ee,m]);var et=function(e,t,r){var o=(0,a.useState)([]),i=o[0],l=o[1];return(0,a.useEffect)((function(){!function(){(0,n.__awaiter)(this,void 0,void 0,(function(){var t;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,he(e,r)];case 1:return t=n.sent(),l(t),[3,3];case 2:return n.sent(),[3,3];case 3:return[2]}}))}))}()}),[e,r]),(0,a.useMemo)((function(){var e="0";return Array.isArray(i)&&i.forEach((function(r){(null===r||void 0===r?void 0:r.asset)!==t&&(null===r||void 0===r?void 0:r.assetName)!==t||(e=r.locked)})),e}),[i,t])}(i,d,x),tt=(0,a.useMemo)((function(){if((i===Be||c===Be)&&(Array.isArray(Ee)&&Ee.every((function(e){var t;return 0===Number(null===(t=null===e||void 0===e?void 0:e.props)||void 0===t?void 0:t.free)}))))return"error\u2014available pair";return"error-available-coin"}),[Ee,i,c]);return o().createElement(L.Z,{open:t,title:o().createElement(k.Z,null,ee("dialog-title")),onCloseIconClick:Fe,showTitleBottomLine:!1,onMaskClick:Fe,sx:{width:["100%","484px","484px"],height:["100%","auto","auto"]},contentSx:{position:"relative",height:"100%",px:0,pt:0,scrollBehavior:"smooth",pb:["176px","md"],overflowY:["auto","visible","visible"]}},o().createElement(X,null),C&&o().createElement(K,null),o().createElement(M.Z,{pt:"md"}),o().createElement(k.Z,{sx:{px:"md"}},ee("dialog-tips")),i===Be||c===Be?o().createElement(Me,{t:ee,revertFromAndTo:qe,from:i,to:c,allFrom:ce,allTo:ue,handleFromChange:Te,activatdAccounts:Ue,handleToChange:ze,fromIsoSymbol:x,setFromIsoSymbol:E,toIsoSymbol:y,setToIsoSymbol:w,filterFromSymbols:Ye.current,filterToSymbols:Ke.current}):o().createElement(Ie,{t:ee,revertFromAndTo:qe,from:i,to:c,allFrom:ce,allTo:ue,handleFromChange:Te,activatdAccounts:Ue,handleToChange:ze}),o().createElement(M.Z,{px:"md"},o().createElement(be,{label:ee("select-coin")},de||fe?o().createElement(o().Fragment,null,o().createElement(ve,{value:d,data:Ee,onChange:Re,btcFiatPrice:H,fiatSymbol:W}),$e()):o().createElement(me,{value:d,data:Ee,onChange:Re,btcFiatPrice:H,fiatSymbol:W})),o().createElement(A.Z,{sx:{color:"t.sell"}},Ae&&!Number(Se)||0===Ee.length?ee(tt):" "),o().createElement(be,{label:o().createElement(A.Z,{justifyContent:"space-between",width:1},o().createElement(k.Z,null,ee("select-amount")),d&&o().createElement(M.Z,{sx:{fontSize:"14px",color:"t.third",lineHeight:"20px"}},o().createElement(k.Z,{as:"span",sx:{color:"t.primary"}},(0,z.uf)(Se,8)+" "),ee("label-available"),Oe.includes(i)&&o().createElement(o().Fragment,null," / ",o().createElement(k.Z,{as:"span",sx:{color:"t.primary"}},(0,z.uf)(et,8)+" "),ee("label-inorder",{defaultValue:"in order"}))))},o().createElement(P.Z,{variant:"filled",value:re,defaultValue:re,boxProps:{fontSize:1,width:"100%",height:"48px"},onChange:Pe,error:!!We,errorText:We,autoComplete:"off",suffix:o().createElement(A.Z,{mr:"xs",alignItems:"center"},!!re&&o().createElement(T.Z,{size:16,color:"t.placeholder",sx:{cursor:"pointer"},onClick:function(){return ne("")}}),o().createElement(k.Z,{onClick:He,sx:{fontSize:"16px",color:"t.yellow",lineHeight:"24px",cursor:"pointer",ml:"xs"}},ee("action-max")))})),o().createElement(D.y,null,o().createElement(be,{mt:"0"},o().createElement(A.Z,{justifyContent:"flex-end"},o().createElement(N.Z,{variant:"default",colorStyle:"flatprimary",sz:"l",onClick:Ve,disabled:Ge,height:40,sx:{width:"100%",maxWidth:["100%","180px;"]}},oe?o().createElement(Le,null):ee("action-confirm")))))))};Pe.displayName="TransferUI";const Fe=Pe;var qe=r("M3PQ"),He=function(e){var t=function(){var e=(0,qe.Nq)().userFiat,t=(0,qe.nX)()[(e||"USD_USD").split("_")[0]]||{rate:1,symbol:"$"};return[t.rate,t.symbol]}(),r=t[0],o=t[1],i=function(e){var t=(0,a.useState)("0"),r=t[0],o=t[1];return(0,a.useEffect)((function(){e&&function(){(0,n.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,n.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,(0,m.U2)("/bapi/margin/v2/public/asset-service/product/get-product-by-symbol?symbol=BTCUSDT")];case 1:return e=r.sent(),t=e.data.c,o(void 0===t?"0":t),[3,3];case 2:return r.sent(),[3,3];case 3:return[2]}}))}))}()}),[o,e]),r}(e);return[Number(r)*Number(i),o]},We=function(e){Promise.all([(0,i.Dr)()]).then((function(t){var r=t[0].map((function(e){var t=e.base.assetName+e.quote.assetName;return(0,n.__assign)((0,n.__assign)({},e),{symbol:t,transferOutBar:e.coeff.transferOutBar||"2",base:e.base.assetName,quote:e.quote.assetName,baseProps:e.base,quoteProps:e.quote})})).sort((function(e,t){return Y(Number(e.baseProps.free),Number(t.baseProps.free),100)+Y(Number(e.quoteProps.free),Number(t.quoteProps.free),10)+e.symbol.localeCompare(t.symbol)}));e(r)}))},Ue=function(e){var t=e.children,r=e.onTransferSuccess,i=void 0===r?function(){}:r,l=e.afterTransfer,c=e.needMargin,u=void 0===c||c,d=e.delay,m=void 0===d?1e3:d,f=e.needFuturesJointMargin,p=void 0!==f&&f,v=e.closeDefaultToast,h=void 0!==v&&v,g=(0,a.useState)(!1),E=g[0],y=g[1],w=(0,a.useState)(!1),_=w[0],S=w[1],Z=(0,a.useState)(""),k=Z[0],M=Z[1],A=(0,a.useState)(""),N=A[0],T=A[1],z=(0,a.useState)(""),R=z[0],I=z[1],B=(0,a.useState)([]),O=B[0],D=B[1],L=(0,a.useState)(""),P=L[0],F=L[1],H=(0,a.useState)(""),W=H[0],U=H[1],V=b({needBalanceDetail:!0},{needMargin:u}),j=V.data,G=V.loading,Y=V.onRefresh,K=V.logoMap,Q=function(){var e=(0,x.N)((function(){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){return(0,n.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,s.be)()];case 1:return[2,e.sent()]}}))}))}),[],{value:[]});return{value:e.value,loading:e.loading,error:e.error}}().value,J=(0,a.useCallback)((function(e){var t=e.from,r=e.to,n=e.defaultCoin,a=e.defaultIsoSymbol,o=e.fixWalletType,i=void 0!==o&&o;t&&M(t),r&&T(r),n&&I(n),a&&U(a),S(!0),y(i)}),[]);(0,a.useEffect)((function(){u&&We(D)}),[u]);var X=He(_),$=X[0],ee=X[1],te=(0,a.useCallback)((function(){Y(),u&&We(D)}),[u,Y,D]);return o().createElement(q.M.Provider,{value:{open:_,setOpen:S,from:k,setFrom:M,to:N,setTo:T,coin:R,setCoin:I,loadingWalletsBalance:G,walletsBalance:j,walletConfig:Q,launchTransfer:J,freshBalance:te,onTransferSuccess:i,afterTransfer:l,isolatedPairs:O,toIsoSymbol:W,setToIsoSymbol:U,fromIsoSymbol:P,setFromIsoSymbol:F,logoMap:K,fixWalletType:E,needMargin:u,needFuturesJointMargin:p,delay:m,btcFiatPrice:$,fiatSymbol:ee,closeDefaultToast:h}},o().createElement(C,null,o().createElement(Fe,null)),t)}},PYmv:(e,t,r)=>{"use strict";r.d(t,{Z:()=>w});var n=r("D57K"),a=r("/SIk"),o=r.n(a),i=r("b4j0"),l=r("2138"),s=r("pAi8"),c=r("EcrR"),u=r("Va8j"),d=r("bRV6"),m=r("xc32"),f=r("sPwQ"),p=r("wsId"),v=r("7dkN"),h=r("Qwun"),g={"3x":"5x","5x":"3x"},b={"3x":"1.1","5x":"1.05"},x={"3x":"1.25","5x":"1.5"},E=(0,a.forwardRef)((function(e,t){var r=(0,p.ZK)("trd-dialog").getI18n,d=(0,v.Z)().enqueueNotification,m=e.open,x=e.curBar,E=void 0===x?"3x":x,w=e.onCloseIconClick,_=e.onConfirm,C=e.triggerRepay,S=e.triggerTransfer,Z=(0,a.useState)([]),k=Z[0],M=Z[1],A=(0,a.useState)(!1),N=A[0],T=A[1],z=(0,a.useState)(!1),R=z[0],I=z[1],B=g[E],O=(0,a.useMemo)((function(){var e=k[0];return e&&"MarginAccountValidation"===e.item&&(k.shift(),k.push(e)),"5x"===E?k.filter((function(e){return"MaxBorrowValidation"!==e.item&&"MarginAccountValidation"!==e.item})):k}),[k,E]),D=(0,a.useCallback)((function(){return(0,n.__awaiter)(void 0,void 0,void 0,(function(){var e,t,a,o;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:return I(!0),e={bar:"3x"===E?1:0},[4,(0,i.Hp)(e)];case 1:return t=n.sent(),a=t[0],o=t[1],a?d(r("lendingSuccess"),{variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"}}):d(r("code-"+o),{variant:"error",anchorOrigin:{vertical:"top",horizontal:"right"}}),I(!1),_(a),[2]}}))}))}),[E,d,r,_]),L=(0,a.useCallback)((function(){_(),S()}),[_,S]),P=(0,a.useCallback)((function(){_(),C()}),[_,C]);return(0,a.useEffect)((function(){if(!1!==m){var e={bar:"3x"===E?1:0};(0,i.NP)(e).then((function(e){M(e.rows),T(e.allPass)}))}}),[E,m]),o().createElement(h.Z,{open:m,onCloseIconClick:w,title:r("bar-title",{targetBar:B}),ref:t,sx:{width:["100%","368px"]}},o().createElement(l.Z,{sx:{pb:"sm",borderBottom:"1px solid",borderBottomColor:"lines.light"}},o().createElement(l.Z,null,r("bar-errortitle",{curBar:E,targetBar:B})),o().createElement(l.Z,{sx:{mt:"sm",lineHeight:"30px"}},0===O.length&&o().createElement(s.Z,{justifyContent:"center",mt:"sm",mb:"xs"},o().createElement(c.Z,null)),O.map((function(e,t){return o().createElement(y,{getI18n:r,key:t,row:e,curBar:E,triggerRepay:P,triggerTransfer:L})})))),o().createElement(l.Z,{mt:"sm",mb:"xs",color:"t.third"},"5x"===B&&o().createElement(l.Z,null,r("bar-bt1")),o().createElement(l.Z,{sx:{mt:"xs",".primary":{color:"primary"}},dangerouslySetInnerHTML:{__html:r("bar-bt2",{level:b[B]})}})),o().createElement(f.y,null,o().createElement(u.Z,{disabled:!N||R,sz:"l",width:1,onClick:function(){D(),_()}},r("confirm"))))})),y=function(e){var t=e.getI18n,r=e.row,n=e.curBar,a=e.triggerRepay,i=e.triggerTransfer,c=r.item,f=r.pass,p=r.msg,v=c[0].toLowerCase().concat(c.slice(1)),h="bar-"+v;return o().createElement(l.Z,null,f?o().createElement(o().Fragment,null,o().createElement(d.Z,{color:"buy",size:20,mr:"xs",verticalAlign:"middle"}),t(h,{validateBar:x[n]})):o().createElement(o().Fragment,null,o().createElement(s.Z,{justifyContent:"space-between"},o().createElement(l.Z,{as:"span"},o().createElement(m.Z,{color:"error",size:20,mr:"xs",verticalAlign:"middle"}),t(h,{validateBar:x[n]})),"MarginAccountValidation"!==c&&o().createElement(l.Z,{as:"span"},o().createElement(u.Z,{variant:"quiet",sz:"m",onClick:function(){return a()}},t("repay")),"MaxMarginLevelValidation"===c&&o().createElement(u.Z,{variant:"quiet",sz:"m",onClick:function(){return i()}},t("transfer")))),o().createElement(l.Z,{color:"t.third"},t("bar-"+v+"tip",{msg:p}))))};E.displayName="AdjustLevelDialog";const w=E},"iA+k":(e,t,r)=>{"use strict";r.d(t,{B:()=>a});var n=r("/SIk"),a=(0,n.createContext)({})},"4Q2D":(e,t,r)=>{"use strict";r.d(t,{ZP:()=>De});var n=r("D57K"),a=r("/SIk"),o=r.n(a),i=r("2138"),l=r("pAi8"),s=r("EcrR"),c=r("YcsI"),u=r("cOkb"),d=r("4J4Z"),m=r("r1qq"),f=r("7LMP"),p=r("tQc6"),v=r("Qwun"),h=r("XO3d"),g=r("UTqV"),b=r("AAfv"),x=r("RX+5"),E=r.n(x),y=r("sm1q"),w=r("Va8j"),_=r("oXkQ"),C=r.n(_),S=r("a9bO");const Z=function(e){var t=o().forwardRef((function(t,r){return o().createElement(S.Z.Consumer,null,(function(a){return o().createElement(e,(0,n.__assign)({},t,{ref:r,enqueueNotification:a.enqueueNotification,closeNotification:a.closeNotification}))}))}));return C()(t,e),t};var k=r("RlD4"),M=r("NYKh"),A=r("zD1r"),N=r("Gfh8"),T=r("sPwQ"),z=r("zEYC");const R=o().memo((function(e){var t=e.value,r=e.onChange,n=e.assets,a=e.label,s=e.extra,c=void 0===s?null:s;return o().createElement(i.Z,null,o().createElement(l.Z,{justifyContent:"space-between",mb:"4px"},o().createElement(y.Z,{lineHeight:"20px",fontSize:"14px",color:"t.third"},a),o().createElement(i.Z,null,c)),o().createElement(A.Z,{size:"lg",renderValue:function(e){var t=n.filter((function(t){return t.assetCode===e}))[0];return t?o().createElement(l.Z,null,o().createElement(z.Z,{height:"24px",width:"24px",mr:"8px",src:t.assetLogo}),o().createElement(l.Z,{lineHeight:"24px",fontSize:"14px"},o().createElement(y.Z,{color:"t.primary",fontSize:"16px",fontWeight:"500",mr:"4px"},e),o().createElement(y.Z,{color:"t.third"},t.assetName))):e},value:t,onChange:function(e){return r("string"===typeof e?e:e[0])},empty:null},n.map((function(e){return o().createElement(N.W,{value:e.assetCode,key:e.assetCode},o().createElement(l.Z,null,o().createElement(z.Z,{height:"24px",width:"24px",mr:"8px",src:e.assetLogo}),o().createElement(l.Z,{lineHeight:"24px",fontSize:"14px"},o().createElement(y.Z,{color:"t.primary",fontSize:"16px",fontWeight:"500",mr:"4px"},e.assetCode),o().createElement(y.Z,{color:"t.third"},e.assetName))))}))))}));var I=(0,a.createContext)({}),B=function(){return(0,a.useContext)(I)},O=r("aeVk"),D=r("b4j0"),L=r("RsRh"),P=r("rTYa"),F={CROSS:{maxBorrow:D.vX,borrow:L.cN,repay:L.Rb},ISOLATED:{maxBorrow:P.T$,borrow:P.bs,repay:P.J2}},q=r("Gdvl"),H=function(e){var t=e.msg,r=e.asset;return o().createElement(l.Z,{sx:{color:"t.sell",lineHeight:"20px",fontSize:"14px",fontWeight:"500"}},o().createElement(q.Z,{size:20,mr:"xs"}),t.replace("%asset%",r))},W=function(e){var t=e.text,r=e.maxAmountAsset,n=e.onClick;return o().createElement(i.Z,{__css:{position:["absolute","static"],left:"0px",top:"xl",cursor:"pointer",color:"t.third",":hover":{"> div":{color:"t.yellow"}}},onClick:n},t,o().createElement(i.Z,{__css:{display:"inline",color:"primary"}},r))},U=function(e){var t=e.onClick,r=e.on,n=e.value;return o().createElement(i.Z,{flex:1,sx:{cursor:"pointer",mr:"8px",":last-of-type":{mr:0}},onClick:t},o().createElement(i.Z,{sx:{height:"10px",bg:r?"t.third":"slider.line"}}),o().createElement(y.Z,{color:"t.third",fontSize:"12px",lineHeight:"20px",mt:"2px",textAlign:"center"},(100*n).toFixed(0),"%"))},V=function(e){var t=e.value,r=e.onChange;return o().createElement(l.Z,{justifyContent:"space-between"},o().createElement(U,{on:t>=.25,value:.25,onClick:function(){return r("0.25")}}),o().createElement(U,{on:t>=.5,value:.5,onClick:function(){return r("0.5")}}),o().createElement(U,{on:t>=.75,value:.75,onClick:function(){return r("0.75")}}),o().createElement(U,{on:t>=1,value:1,onClick:function(){return r("1")}}))},j=/^0\d+/,G=[{validate:function(e){return e},errorKey:"required"},{validate:function(e){return!j.test(e)&&E()(e).gt(0)},errorKey:"invalid"},{validate:function(e,t,r){return"borrow"===t||E()(e).lte(r)},errorKey:"ltbalance"},{validate:function(e,t,r){return"borrow"!==t||E()(e).lte(r)},errorKey:"ltBorrowLimit"},{validate:function(e){var t=!0,r=e.split(".");return r.length>1&&r[1].length>8&&(t=!1),t},errorKey:"lt8Decimal"},{validate:function(e,t,r,n){return"borrow"!==t||E()(e).gte(n)},errorKey:"stDebit",formatter:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return e.replace(/\$minDebit/,t[2])}},{validate:function(e,t,r,n){return"repay"!==t||E()(e).lte(n)},errorKey:"ltTotalDebit"},{validate:function(e,t,r,n,a){return"repay"!==t||E()(e).eq(n)||E()(e).lte(a)},errorKey:"stMaxRepay",formatter:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return e.replace(/\$maxRepay/,t[3])}},{validate:function(e,t,r,n,a,o){return"repay"!==t||E()(e).gte(o)},errorKey:"stMinRepay",formatter:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return e.replace(/\$minRepay/,t[4])}}],Y=function(e,t){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];for(var o=0;o<G.length;o++){var i=G[o],l=i.validate,s=i.errorKey,c=i.formatter;if(!l.apply(void 0,(0,n.__spreadArray)([e],r))){var u=t(""+s);return c&&(u=c.apply(void 0,(0,n.__spreadArray)([u],r))),{validate:!1,errorMsg:u}}}return{validate:!0,errorMsg:""}},K=function(e,t){if(e)return[e.base,e.quote].filter((function(e){return e.asset===t}))[0]},Q=r("whOi"),J=r("Tr4L"),X=r("xc32"),$=r("SvcO");const ee=function(e){return o().createElement($.Z,(0,n.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),o().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 20c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8zm0 2c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10zm1.012-16h-2.009v8h2.009V6zm-2.009 9.991h2.009V18h-2.009v-2.009z",fill:"currentColor"}))};var te=r("bRV6"),re=r("cM7I");const ne=function(e){return o().createElement($.Z,(0,n.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:e.color},e),o().createElement("path",{d:"M13.4 12l6.6 6.6-1.4 1.4-6.6-6.6L5.4 20 4 18.6l6.6-6.6L4 5.4 5.4 4l6.6 6.6L18.6 4 20 5.4 13.4 12z",fill:"currentColor"}))};var ae={info:q.Z,error:X.Z,warning:ee,success:te.Z,tips:re.Z},oe=(0,a.forwardRef)((function(e,t){var r=e.children,s=e.icon,c=e.variant,u=void 0===c?"tips":c,d=e.closable,m=void 0!==d&&d,f=e.showIcon,p=void 0===f||f,v=e.onClose,h=(0,n.__rest)(e,["children","icon","variant","closable","showIcon","onClose"]),g=ae[u],b=(0,a.isValidElement)(s)?o().cloneElement(s,(0,n.__assign)({size:20},s.props),[]):o().createElement(g,{size:20});return o().createElement(l.Z,(0,n.__assign)({tx:"alert",variant:u,alignItems:"flex-start",justifyContent:"space-between",ref:t,width:"100%",py:"xs",px:"sm"},h),o().createElement(l.Z,{alignItems:"flex-start"},p?o().createElement(i.Z,{sx:{py:"xs",pr:"sm",flexShrink:0}},b):null,o().createElement(i.Z,{sx:{py:"xs",wordBreak:"break-word"}},r)),m?o().createElement(i.Z,{py:"xs",pl:"xs",__css:{flexShrink:0}},o().createElement(ne,{size:12,onClick:v,cursor:"pointer"})):null)}));oe.displayName="Alert";const ie=oe;const le=o().memo((function(e){var t=e.voucherParams,r=t.product,n=t.coinPair,i=t.coin,l=(0,a.useState)(!1),s=l[0],c=l[1],u=(0,J.$)("trade-ui").i18n.language,d=(0,O.a)().t,m="/"+u+"/my/coupon";return(0,a.useEffect)((function(){(0,f.L2)({product:r,coinPair:n,coin:i}).then((function(e){var t=e.total;c(0!==(void 0===t?0:t))}))}),[r,n,i]),s?o().createElement(Q.Z,{href:m,sx:{mx:"-24px",display:"flex",textDecoration:"none"}},o().createElement(ie,{showIcon:!1},d("BorrowAndReceiveTip"))):null}));var se=r("wgY5"),ce=r.n(se),ue=r("V1YT");const de=o().memo((function(){var e=B().account,t=(0,O.a)(),r=t.isolatedAccount,n=t.type,i=t.t;return(0,a.useMemo)((function(){var t,a="ISOLATED"===n,s=e.delistTime,c=e.status,u=e.asset,d=a?null!==(t=null===r||void 0===r?void 0:r.displaySymbol)&&void 0!==t?t:"":u,m=a?"delist-isolated-pair":"delist-cross-asset";return"PREPARE_DELIST"===c?o().createElement(l.Z,{bg:"depthSellBg",sx:{transform:["translate(0,-24px)"],mx:["-24px"],mt:"md"},px:[4],py:[2]},o().createElement(ue.Z,{mr:[2],size:16,color:"errors",flex:"none"}),o().createElement(y.Z,{color:"errors",lineHeight:"16px",fontSize:"12px"},i(m,{interpolation:{escapeValue:!1},pair:d,delistTime:ce()(Number(s)).format("YYYY-MM-DD HH:mm (UTCZ)")}))):null}),[n,e,r,i])}));const me=function(e){return o().createElement($.Z,(0,n.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),o().createElement("path",{d:"M21 3h-8v2h4.586L3 19.586 4.414 21 19 6.414V11h2V3z",fill:"currentColor"}),o().createElement("path",{d:"M4.414 3l6.168 6.168-1.414 1.414L3 4.414 4.414 3zM14.833 13.418L21 19.584v.002L19.586 21l-6.167-6.168 1.414-1.415z",fill:"currentColor"}))};const fe=function(e){return o().createElement($.Z,(0,n.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),o().createElement("path",{d:"M7.5 6.5a1 1 0 11-2 0 1 1 0 012 0z",fill:"currentColor"}),o().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.5 11a4.5 4.5 0 100-9 4.5 4.5 0 000 9zm0-2a2.5 2.5 0 100-5 2.5 2.5 0 000 5z",fill:"currentColor"}),o().createElement("path",{d:"M13 3h8v8h-2V6.414L4.414 21 3 19.586 17.586 5H13V3z",fill:"currentColor"}),o().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22 17.5a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zm-2 0a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z",fill:"currentColor"}))};var pe={lineHeight:"20px",color:"t.third",fontSize:"14px",mt:"24px",".btn":{fontWeight:"500",mr:"24px",py:"8px",flex:1,justifyContent:"center",alignItems:"center",borderRadius:"6px",color:"t.third",cursor:"pointer","&.on":{color:"t.primary",bg:"#2B3139"},"&:last-of-type":{mr:0}},"&.light":{".btn":{"&.on":{bg:"#F5F5F5"}}}};const ve=o().memo((function(){var e=(0,O.a)(),t=e.t,r=e.type,n=e.setType,a=e.light;return o().createElement(l.Z,{sx:pe,className:a?"light":""},o().createElement(l.Z,{onClick:function(){return n("CROSS")},className:"btn "+("CROSS"===r?"on":"")},o().createElement(me,{size:14,mr:"6px"}),o().createElement(y.Z,null,t("cross-acc"))),o().createElement(l.Z,{onClick:function(){return n("ISOLATED")},className:"btn "+("ISOLATED"===r?"on":"")},o().createElement(fe,{size:14,mr:"6px"}),o().createElement(y.Z,null,t("iso-acc"))))}));var he=r("d2hO");const ge=o().memo((function(e){var t=e.tip,r=e.text;return o().createElement(l.Z,{color:"t.third",alignItems:"center",flex:"none",sx:{"> div":{display:"flex"}}},o().createElement(y.Z,{mr:"3px"},r),o().createElement(he.Z,{tip:t,placement:"top",arrow:!0},o().createElement(q.Z,{size:14})))}));var be={startTime:"",on:!1,endTime:""},xe={borderRadius:"4px",bg:"alertV2.warningBg",color:"t.primary",fontSize:["12px","14px"],lineHeight:["16px","20px"],p:["10px","14px"],my:"24px",".text":{ml:"10px"}};const Ee=o().memo((function(){var e=(0,O.a)(),t=e.type,r=e.crossAccount,n=e.t,i=(0,a.useState)(be),s=i[0],c=i[1];return(0,a.useEffect)((function(){var e;"CROSS"===t?c(null!==(e=null===r||void 0===r?void 0:r.coolingOff)&&void 0!==e?e:be):(0,d.ue)().then((function(e){var t;c(null!==(t=null===e||void 0===e?void 0:e.coolingOff)&&void 0!==t?t:be)}))}),[t,r]),s.on?o().createElement(l.Z,{className:"CoolOffTip",sx:xe},o().createElement(ue.Z,{flex:"none",size:20,color:"primary"}),o().createElement(y.Z,{className:"text"},n("mcl-info",{date:ce()(+s.endTime).format("YYYY-MM-DD HH:mm:ss")}))):null})),ye=o().memo(Z((function(e){var t,r=this,s=e.enqueueNotification,c=(0,O.a)(),u=c.t,d=c.type,m=c.coin,f=c.setCoin,p=c.symbol,v=c.addPending,h=c.removePending,g=c.pending,b=c.light,x=c.onOperateSuccess,_=c.closeModal,C=c.isolatedAccount,S=c.isolatedAccounts,Z=c.setSymbol,z=c.formatAssets,I=c.crossAccount,D=c.showTransfer,L=B().account,P=(0,a.useState)("0"),q=P[0],U=P[1],j=(0,a.useState)("0"),G=j[0],K=j[1],Q=(0,a.useState)(""),J=Q[0],X=Q[1],$=(0,a.useState)(0),ee=$[0],te=$[1],re=(0,k.i)().launchTransfer;(0,a.useEffect)((function(){L.isBorrowable?(v(),F[d].maxBorrow(m,p).then((function(e){h(),U(e)})).catch((function(){h()}))):U("0")}),[null===L||void 0===L?void 0:L.isBorrowable,v,h,d,m,p]);var ne=(0,a.useCallback)((function(){"function"===typeof _&&_(),re("CROSS"===d?{from:"MAIN",to:"MARGIN",defaultCoin:m}:{from:"MAIN",to:"ISOLATED_MARGIN",defaultIsoSymbol:p})}),[d,re,m,p,_]),ae=(0,a.useCallback)((function(){var e,t="ISOLATED"===d&&null!==(e=null===C||void 0===C?void 0:C.ladder)&&void 0!==e?e:"1",r=L.borrowed,n=L.asset,a=L.couponAmount,s=L.interestRate,c=E()(null!==s&&void 0!==s?s:"0").div(24).mul(100).toFixed(8);return o().createElement(i.Z,{sx:{my:"34px",lineHeight:"20px",fontSize:"14px","> div":{mt:"12px",justifyContent:"space-between"}}},o().createElement(l.Z,null,o().createElement(ge,{tip:u("ratedesc-2"),text:u("interestrate")}),o().createElement(i.Z,{sx:{float:"right"}},c,"%")),o().createElement(l.Z,null,o().createElement(i.Z,{color:"t.third",as:"span"},u("borrowed")),o().createElement(i.Z,{sx:{float:"right"}},r,"\xa0",n)),o().createElement(l.Z,null,o().createElement(i.Z,{color:"t.third",as:"span"},u("maximumBorrowAmount")),o().createElement(i.Z,{sx:{float:"right"}},q,"\xa0",n)),a&&E()(a).gt(0)&&o().createElement(l.Z,null,o().createElement(ge,{tip:u("TotalMarginTrailFundTip"),text:u("TotalMarginTrailFund")}),o().createElement(i.Z,{sx:{float:"right"}},E()(a).toFixed(4),"\xa0",n)),o().createElement(i.Z,{color:"t.third",sx:{" .primary":{color:"primary"}," .heavy":{color:"t.primary"}},dangerouslySetInnerHTML:{__html:u(d+"-addon",{ladder:t,interpolation:{escapeValue:!1}})}}))}),[u,d,q,L,C]),oe=(0,a.useCallback)((function(e){var t=E()(q).mul(e).toFixed(8);K(t),te(+e)}),[q]),ie=(0,a.useCallback)((function(){var e=L.isBorrowable,t=(L.borrowed,L.interest,L.asset),r=L.interestRate;if(!e){var n=u("uspensionOfLoan",{asset:t});return o().createElement(H,{asset:t,msg:n})}var a=!!(J&&J.length>0),i=Number(G)?E()(null!==r&&void 0!==r?r:"0").div(24).mul(Number(G)).toFixed(8):"",s=i?u("hourrate-tip")+" "+i+" "+t:"";return o().createElement(o().Fragment,null,o().createElement(M.Z,{variant:"filled",type:"number",value:G,onChange:function(e){te(0),K(e.currentTarget.value),X("")},label:u("amount"),labelFixed:!0,suffix:o().createElement(W,{onClick:function(){return oe("1")},text:"",maxAmountAsset:u("max")}),boxProps:{width:"100%",mb:["xl","plus"]},error:a,errorText:J,infoText:s,extraInfo:o().createElement(l.Z,{lineHeight:"32px",fontSize:"14px"},o().createElement(y.Z,{mr:"4px",color:"t.primary",fontWeight:"500"},q),o().createElement(y.Z,{color:"t.third"},t," ",u("available")),D?o().createElement(y.Z,{sx:{color:"primary",ml:"8px",cursor:"pointer"},onClick:ne},u("transfer")):null)}),o().createElement(V,{value:ee,onChange:oe}))}),[L,G,u,q,J,oe,ee]),se=(0,a.useMemo)((function(){var e=L.isBorrowable,t=I.coolingOff;return!e||g>0||(null===t||void 0===t?void 0:t.on)}),[L,g,I]),ce=(0,a.useCallback)((function(){var e=L.userMinBorrow,t=Y(G,u,"borrow",q,e),r=t.validate,n=t.errorMsg;return X(n),r}),[L,G,u,q]),ue=(0,a.useCallback)((function(){return(0,n.__awaiter)(r,void 0,void 0,(function(){var e,t,r;return(0,n.__generator)(this,(function(a){switch(a.label){case 0:if(!ce())return[2];e=L.asset,v(),t=(0,n.__assign)({asset:e,amount:G},"ISOLATED"===d?{symbol:p}:null),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,F[d].borrow(t)];case 2:return r=a.sent(),h(),r.success&&(x("BORROW"),_(),s(u("requestApproved"),{variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"}})),[3,4];case 3:return a.sent(),h(),[3,4];case 4:return[2]}}))}))}),[ce,L,v,G,p,d,h,x,_,s,u,b]),me=(0,a.useCallback)((function(){var e;return"ISOLATED"!==d?null:o().createElement(i.Z,{sx:{my:"24px",fontSize:"14px",lineHeight:"20px"}},o().createElement(y.Z,{mb:"4px",color:"t.third"},u("pair")),o().createElement(A.Z,{size:"lg",value:null!==(e=null===C||void 0===C?void 0:C.symbol)&&void 0!==e?e:"",limit:7,onChange:function(e){return Z("string"===typeof e?e:e[0])}},S.map((function(e){var t=e.symbol;return o().createElement(N.W,{key:t,value:t},t)}))))}),[d,u,C,Z,S]);return o().createElement(i.Z,{className:"BorrowPanel"},o().createElement(le,{voucherParams:{product:"CROSS"===d?"MARGIN_CROSS":"MARGIN_ISOLATED",coinPair:"CROSS"===d?void 0:null!==(t=null===C||void 0===C?void 0:C.displaySymbol)&&void 0!==t?t:"",coin:m}}),o().createElement(de,null),o().createElement(Ee,null),o().createElement(ve,null),me(),o().createElement(i.Z,{mt:"md"},o().createElement(R,{value:m,label:u("coin"),onChange:f,assets:z})),ae(),ie(),o().createElement(T.y,null,o().createElement(l.Z,{justifyContent:"flex-end"},o().createElement(w.Z,{mr:"8px",variant:"default",colorStyle:"secondary",sz:"l",onClick:_},u("cancel")),o().createElement(w.Z,{className:"confirm-borrow",disabled:se,sz:"l",onClick:ue},u("confirmBorrow")))))})));var we=r("o+U4"),_e=r("3CnW"),Ce=r("u3Zn"),Se=function(e){var t=e.children;return o().createElement(i.Z,{maxWidth:"350px",lineHeight:"16px",fontSize:"sm"},t)};const Ze=o().memo((function(e){var t=e.discount,r=e.asset,n=(0,O.a)().t;return o().createElement(he.Z,{tip:o().createElement(Se,null,n("ratedescTip",{XXX:t,YYY:r})),placement:"top",arrow:!0,sx:{display:"inline-flex"}},o().createElement(Ce.Z,{size:16,flex:"none",sx:{color:"primary",mr:"0"}}))})),ke=o().memo(Z((function(e){var t=this,r=e.enqueueNotification,s=(0,O.a)(),c=s.t,u=s.type,d=s.coin,m=s.setCoin,f=s.isolatedAccount,p=s.isolatedAccounts,v=s.setSymbol,h=s.formatAssets,g=s.pending,b=s.addPending,x=s.removePending,_=s.symbol,C=s.onOperateSuccess,S=s.closeModal,Z=s.light,k=s.crossAssets,z=B().account,I=(0,a.useState)("0"),D=I[0],L=I[1],P=(0,a.useState)("0"),q=P[0],U=P[1],j=(0,a.useState)(""),G=j[0],K=j[1],Q=(0,a.useState)(0),J=Q[0],X=Q[1],$=(0,a.useState)(!1),ee=$[0],te=$[1];(0,a.useEffect)((function(){te(!1)}),[u]),(0,a.useEffect)((function(){var e=z.free,t=z.borrowed,r=z.interest,n=E()(r).plus(E()(t)).toFixed(8);L(E()(n).gt(E()(e))?e:n)}),[z]);var re=(0,a.useCallback)((function(){var e=z.asset,t=z.free,r=z.interest,n=z.borrowed,a=z.couponAmount,s=E()(r).plus(E()(n)).toFixed(8),u=+n>+a?a:n;return o().createElement(i.Z,{sx:{my:"34px",lineHeight:"20px",fontSize:"14px","> div":{mt:"12px",justifyContent:"space-between"}}},o().createElement(i.Z,null,o().createElement(i.Z,{color:"t.third",as:"span"},c("availableBalance"),":"),o().createElement(i.Z,{sx:{float:"right"}},t,"\xa0",e)),o().createElement(i.Z,null,o().createElement(l.Z,{sx:{alignItems:"center",display:"inline-flex"}},o().createElement(ge,{tip:c("ratedesc"),text:o().createElement(o().Fragment,null,c("interest"),"\xa0(A)")}),a&&E()(a).gt(0)&&n&&E()(n).gt(0)&&o().createElement(Ze,{discount:u,asset:e})),o().createElement(i.Z,{sx:{float:"right"}},r,"\xa0",e)),o().createElement(i.Z,null,o().createElement(i.Z,{color:"t.third",as:"span"},c("borrowed"),"\xa0(B)"),o().createElement(i.Z,{sx:{float:"right"}},n,"\xa0",e)),o().createElement(i.Z,null,o().createElement(i.Z,{color:"t.third",as:"span"},c("totalDebt"),"\xa0(A + B)"),o().createElement(i.Z,{sx:{float:"right"}},s,"\xa0",e)))}),[z,c]),ne=(0,a.useCallback)((function(e){var t=E()(D).mul(e).toFixed(8);U(t),X(+e)}),[D]),ae=(0,a.useCallback)((function(){var e=z.borrowed,t=z.interest,r=z.asset;if(+e+ +t<=0){var n=c("uspensionOfLoan",{asset:r});return+e<=0&&(n=c("haventBorrowed",{asset:r})),o().createElement(H,{asset:r,msg:n})}return o().createElement(o().Fragment,null,o().createElement(M.Z,{variant:"filled",type:"number",value:q,onChange:function(e){X(0),U(e.currentTarget.value)},label:c("amount"),labelFixed:!0,suffix:o().createElement(W,{onClick:function(){return ne("1")},text:"",maxAmountAsset:c("max")}),boxProps:{width:"100%",mb:["xl","plus"]},error:!!(G&&G.length>0),errorText:G,extraInfo:o().createElement(l.Z,{lineHeight:"32px",fontSize:"14px"},o().createElement(y.Z,{mr:"4px",color:"t.primary",fontWeight:"500"},D),o().createElement(y.Z,{color:"t.third"},r," ",c("available")))}),o().createElement(V,{value:J,onChange:ne}))}),[z,q,c,D,G,ne,J]),oe=(0,a.useMemo)((function(){return+z.borrowed+ +z.interest<=0||g>0}),[z,g]),ie=(0,a.useCallback)((function(){var e=z.free,t=z.userMinRepay,r=z.userMinBorrow,n=Y(q,c,"repay",e,D,E()(D).minus(r).toString(),t),a=n.validate,o=n.errorMsg;return K(o),a}),[z,q,D,c]),le=(0,a.useCallback)((function(){return(0,n.__awaiter)(t,void 0,void 0,(function(){var e,t,a;return(0,n.__generator)(this,(function(o){switch(o.label){case 0:if(!ie())return[2];e=z.asset,b(),t=(0,n.__assign)({asset:e,amount:q},"ISOLATED"===u?{symbol:_}:null),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,F[u].repay(t)];case 2:return a=o.sent(),x(),a.success&&(C("REPAY"),S(),r(c("requestApproved"),{variant:"success",anchorOrigin:{vertical:"top",horizontal:"right"}})),[3,4];case 3:return o.sent(),x(),[3,4];case 4:return[2]}}))}))}),[ie,z,b,q,_,u,x,C,S,r,c,Z]),se=(0,a.useMemo)((function(){return"CROSS"===u?k.filter((function(e){return+e.borrowed+ +e.interest>0})).map((function(e){return e.asset})):"ISOLATED"===u?p.filter((function(e){var t=e.base,r=e.quote;return+t.interest+ +t.borrowed+ +r.interest+ +r.borrowed>0})):[]}),[u,k,p]),ce=(0,a.useMemo)((function(){if(ee){var e=p.filter((function(e){var t=e.base,r=e.quote;return+t.interest+ +t.borrowed+ +r.interest+ +r.borrowed>0}));return e.length>0&&v((function(t){return e.map((function(e){return e.symbol})).indexOf(t)>=0?t:e[0].symbol})),e}return p}),[ee,p]),ue=(0,a.useMemo)((function(){if(ee){var e=k.filter((function(e){return+e.borrowed+ +e.interest>0})).map((function(e){return e.asset})).reduce((function(e,t){return e[t]=!0,e}),{}),t=h.filter((function(t){return e[t.assetCode]})),r="CROSS"===u?t:h;return r.length>0&&m((function(e){return r.map((function(e){return e.assetCode})).indexOf(e)>=0?e:r[0].assetCode})),r}return h}),[ee,k,h,m]),me=(0,a.useMemo)((function(){return se.length>0}),[se]),fe=(0,a.useCallback)((function(){var e;return"ISOLATED"!==u?null:o().createElement(i.Z,{sx:{my:"24px",fontSize:"14px",lineHeight:"20px",mb:"4px"}},o().createElement(l.Z,{mb:"4px",color:"t.third",justifyContent:"space-between",sx:{label:{width:"auto"}}},o().createElement(y.Z,null,c("pair")),o().createElement(we.Z,null,o().createElement(_e.Z,{disabled:!me,checked:ee,onChange:function(e){return te(e.currentTarget.checked)}}),o().createElement(y.Z,{color:me?"t.primary":"t.disable"},c("only-debt")))),o().createElement(A.Z,{size:"lg",value:null!==(e=null===f||void 0===f?void 0:f.symbol)&&void 0!==e?e:"",limit:7,onChange:function(e){return v("string"===typeof e?e:e[0])}},ce.map((function(e){var t=e.symbol;return o().createElement(N.W,{key:t,value:t},t)}))))}),[u,c,f,v,ce,me,ee]);return o().createElement(i.Z,null,o().createElement(de,null),o().createElement(ve,null),fe(),o().createElement(i.Z,{mt:"md"},o().createElement(R,{extra:"CROSS"===u?o().createElement(we.Z,null,o().createElement(_e.Z,{disabled:!me,checked:ee,onChange:function(e){return te(e.currentTarget.checked)}}),o().createElement(y.Z,{color:me?"t.primary":"t.disable"},c("only-debt"))):null,value:d,label:c("coin"),onChange:m,assets:ue})),re(),ae(),o().createElement(T.y,null,o().createElement(l.Z,{justifyContent:"flex-end"},o().createElement(w.Z,{mr:"8px",variant:"default",colorStyle:"secondary",sz:"l",onClick:S},c("cancel")),o().createElement(w.Z,{className:"confirm-repay",disabled:oe,sz:"l",onClick:le},c("confirmRepay")))))})));var Me=r("wsId"),Ae=r("iA+k").B.Provider,Ne=I.Provider,Te={assetFullName:"",assetName:"",delistedTime:null,isAllowOpenLong:!1,isAllowOpenShort:!1,isBorrowable:!1,isMortgageable:!1,status:"NORMAL",userMaxBorrow:"",userMinBorrow:"",userMinRepay:""},ze={coolingOff:null,userAssets:[]},Re={left:0,top:0,width:"100%",height:"100%",position:"absolute",justifyContent:"center",alignItems:"center"},Ie=function(e){var t=e.active,r=e.title,n=o().createElement(i.Z,{sx:{width:"100%",height:"2px",bg:"primary",position:"absolute",bottom:"-1px"}});return o().createElement(i.Z,{sx:{position:"relative",mr:"plus",px:"0px",pt:"xs",pb:"md",fontSize:"18px",fontWeight:"medium",":hover":{color:"t.primary"}},color:t?"t.primary":"t.placeholder"},r," ",t?n:null)},Be=function(e){var t=e.children,r=(0,O.a)().account;return r?o().createElement(Ne,{value:{account:r}},t):o().createElement(i.Z,{sx:{height:"48px"}})},Oe=o().memo((function(){var e=(0,O.a)(),t=e.closeModal,r=e.open,n=e.method,a=e.setMethod,i=e.pending,c=e.t;return o().createElement(v.Z,{open:r,onCloseIconClick:t,sx:{position:"relative",width:["100%","464px"],py:"0"},contentSx:{pt:"0",maxHeight:"100vh",overflowY:"auto"},closeSx:{zIndex:1}},o().createElement(h.Z,{mt:0,lazy:!0,defaultActiveKey:n,onChange:function(e){return a(e)},tabsSx:{overflow:"visible"},tabSx:{"> div":{lineHeight:"24px",fontSize:"16px",py:"20px"}}},o().createElement(g.Z,{tab:function(e){return o().createElement(Ie,{active:e,title:c("borrow")})},tabKey:"BORROW"},o().createElement(Be,null,o().createElement(ye,null))),o().createElement(g.Z,{tab:function(e){return o().createElement(Ie,{active:e,title:c("repay")})},tabKey:"REPAY"},o().createElement(Be,null,o().createElement(ke,null)))),i>0&&o().createElement(l.Z,{sx:Re},o().createElement(s.Z,null)))}));const De=o().memo((0,Me.SZ)((function(e){var t=e.children,r=e.onOperateSuccess,i=e.isLight,l=void 0===i||i,s=e.getI18n,v=e.showTransfer,h=(0,a.useState)(!1),g=h[0],x=h[1],E=(0,a.useState)("BTC"),y=E[0],w=E[1],_=(0,a.useState)("BTCBUSD"),C=_[0],S=_[1],Z=(0,a.useState)("CROSS"),k=Z[0],M=Z[1],A=(0,a.useState)("BORROW"),N=A[0],T=A[1],z=(0,a.useState)([]),R=z[0],I=z[1],B=(0,a.useState)([]),O=B[0],D=B[1],L=(0,a.useState)({}),P=L[0],F=L[1],q=(0,a.useState)(0),H=q[0],W=q[1],U=(0,a.useState)(ze),V=U[0],j=U[1],G=(0,a.useCallback)((function(){W((function(e){return e+1}))}),[]),Y=(0,a.useCallback)((function(){W((function(e){return e-1}))}),[]),Q=(0,a.useCallback)((function(){G(),Promise.all([(0,c.S)(),(0,u.x)(),(0,d.ue)({requireCoupon:!0})]).then((function(e){var t=e[0],r=e[1],a=e[2];Y();var o=a.userAssets;if(j(a),Array.isArray(t)&&Array.isArray(r)&&Array.isArray(o)){var i={},l={};r.forEach((function(e){i[e.asset]=e.interestRate})),t.forEach((function(e){l[e.assetName]=e})),I(o.map((function(e){var t,r;return(0,n.__assign)((0,n.__assign)((0,n.__assign)({},e),null!==(t=l[e.asset])&&void 0!==t?t:Te),{interestRate:null!==(r=i[e.asset])&&void 0!==r?r:"0"})})))}})).catch((function(){Y()}))}),[G,Y]),J=(0,a.useCallback)((function(){G(),Promise.all([(0,m.NV)(),(0,f.Dr)({requireCoupon:!0})]).then((function(e){var t=e[0],r=e[1];if(Y(),Array.isArray(t)&&Array.isArray(r)){var a={};t.forEach((function(e){a[e.asset]=e})),D(r.map((function(e){var t,r,o,i;return(0,n.__assign)((0,n.__assign)({},e),{base:(0,n.__assign)((0,n.__assign)({},e.base),{interestRate:null!==(r=null===(t=a[e.base.assetName])||void 0===t?void 0:t.interestRate)&&void 0!==r?r:"0",asset:e.base.assetName,isBorrowable:e.base.borrowEnabled,displaySymbol:e.base.assetName+"/"+e.quote.assetName,status:e.status,delistTime:e.delistTime}),quote:(0,n.__assign)((0,n.__assign)({},e.quote),{interestRate:null!==(i=null===(o=a[e.quote.assetName])||void 0===o?void 0:o.interestRate)&&void 0!==i?i:"0",asset:e.quote.assetName,isBorrowable:e.quote.borrowEnabled,displaySymbol:e.base.assetName+"/"+e.quote.assetName,status:e.status,delistTime:e.delistTime}),symbol:""+e.base.assetName+e.quote.assetName,displaySymbol:e.base.assetName+"/"+e.quote.assetName})})))}})).catch((function(){Y()}))}),[G,Y]),X=(0,a.useCallback)((function(e){var t=e.defaultAsset,r=e.defaultSymbol,n=e.type,a=e.method;x(!0),M(n),T(a),t&&w(t),r&&S(r),"CROSS"===n&&Q(),"ISOLATED"===n&&J()}),[Q,J]);(0,a.useEffect)((function(){"CROSS"===k&&Q(),"ISOLATED"===k&&J()}),[k,Q,J]),(0,a.useEffect)((function(){G(),(0,p.HF)().then((function(e){Y();var t=null===e||void 0===e?void 0:e.main;if(Array.isArray(t)){var r={};t.forEach((function(e){r[e.assetCode]=e})),F(r)}})).catch((function(){Y()}))}),[G,Y]);var $=(0,a.useCallback)((function(){W(0),x(!1)}),[]),ee=(0,a.useMemo)((function(){var e={};return R.forEach((function(t){e[t.asset]=t})),e}),[R]),te=(0,a.useMemo)((function(){var e={};return O.forEach((function(t){e[t.symbol]=t})),e}),[O]),re=(0,a.useMemo)((function(){if("CROSS"===k)return ee[y]}),[k,ee,y]),ne=(0,a.useMemo)((function(){if("ISOLATED"===k)return te[C]}),[k,te,C]),ae=(0,a.useMemo)((function(){if("ISOLATED"===k)return K(ne,y)}),[k,ne,y]),oe=(0,a.useMemo)((function(){return"CROSS"===k?re:ae}),[k,re,ae]),ie=(0,a.useMemo)((function(){var e=[];if("CROSS"===k&&(e=R),"ISOLATED"===k){if(!ne)return[];e=[ne.base,ne.quote]}return e.map((function(e){var t,r=e.asset,n=null!==(t=P[e.asset])&&void 0!==t?t:{logoUrl:"",assetCode:r,assetName:r},a=n.logoUrl;return{assetCode:n.assetCode,assetName:n.assetName,assetLogo:a}})).sort((function(e,t){return e.assetCode>t.assetCode?1:-1}))}),[R,k,P,ne]);return(0,a.useEffect)((function(){ie.length&&ie.map((function(e){return e.assetCode})).indexOf(y)<0&&"ISOLATED"===k&&w(ie[0].assetCode)}),[y,ie,w,k]),o().createElement(Ae,{value:{coin:y,setCoin:w,open:g,openModal:X,closeModal:$,method:N,setMethod:T,type:k,setType:M,symbol:C,setSymbol:S,pending:H,addPending:G,removePending:Y,light:l,onOperateSuccess:r,isolatedAccounts:O,isolatedAccount:ne,account:oe,formatAssets:ie,t:s,crossAssets:R,crossAccount:V,showTransfer:v}},t,v?o().createElement(b.Z,null," ",g&&o().createElement(Oe,null)):g&&o().createElement(Oe,null))}),"trd-dialog"))},aeVk:(e,t,r)=>{"use strict";r.d(t,{a:()=>o});var n=r("/SIk"),a=r("iA+k"),o=function(){return(0,n.useContext)(a.B)}},"5v8H":(e,t,r)=>{"use strict";r.d(t,{Z:()=>I});var n=r("/SIk"),a=r.n(n),o=r("7nmT"),i=r("2138"),l=r("pAi8"),s=r("sm1q"),c=r("Va8j"),u=r("EcrR"),d=r("o+U4"),m=r("3sCd"),f=r("/PzX"),p=r("4J4Z"),v=r("wgY5"),h=r.n(v),g=r("Tr4L"),b=r("7dkN"),x=r("+zBP"),E=r("Qwun"),y=r("zD1r"),w=r("Gfh8"),_=r("sPwQ"),C={position:"relative",width:["100%","640px"]},S={pt:"20px",".loading":{top:0,left:0,width:"100%",height:"100%",justifyContent:"center",alignItems:"center",position:"absolute",zIndex:2},".desc":{color:"t.secondary",fontSize:"14px",lineHeight:["22px","20px"],pb:["16px","20px"],borderBottom:"1px solid",borderBottomColor:"line"},".label":{mt:["16px","28px"],jutifyContent:["space-between","flex-start"],".text":{mr:["10px"],lineHeight:"24px",fontSize:"16px",color:"t.primary",fontWeight:"500"}},".select":{mt:["16px","20px"]},".dates":{mt:"16px",mb:"24px",border:"1px solid",borderColor:"line",borderRadius:"4px",py:"24px",flexDirection:["column","row"],".wrap":{flex:1,textAlign:"center",mb:["24px",0],"&:last-of-type":{mb:0},".name":{color:"t.secondary",mb:"8px",fontSize:"14px",lineHeight:"20px"},".date":{color:"t.primary",fontSize:"16px",lineHeight:"24px",fontWeight:"500"}},".sep":{lineHeight:"24px",fontSize:"16px",fontWeight:"500",alignSelf:"flex-end",display:["none","block"]}},".btn":{justifyContent:["center","flex-end"],"> button":{width:["100%","auto"]}}},Z={width:["250px","312px"],".icon":{justifyContent:"center"},".info":{mt:"16px",lineHeight:"24px",fontSize:"16px",color:"t.primary",fontWeight:"500"},".btns":{mt:"24px","> button":{flex:1}}},k="YYYY-MM-DD",M="YYYY-MM-DD HH:mm:ss",A={variant:"error",autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"}},N=function(e,t){return{today:t("mcl-today"),"3days":t("mcl-day-2"),"1week":t("mcl-week-2")}[e]},T=function(e,t){if(e)return[h()(+t).format(k),t];var r=+h().now();return[h()(r).format(k),r]},z=function(e,t,r){var n;if(t)return[h()(+r).format(M),r];var a=null!==(n={today:+h()().endOf("day"),"1week":+h()().add(7,"days").endOf("day"),"3days":+h()().add(3,"days").endOf("day")}[e])&&void 0!==n?n:0;return[a>0?h()(a).format(M):"--",a]},R=a().forwardRef((function(e,t){var r=function(){var e=(0,g.$)("widget-common"),t=e.t;return{i18n:e.i18n,t:t}}().t,v=e.onSuccess,h=(0,n.useState)(!1),k=h[0],M=h[1],R=(0,n.useState)(!1),I=R[0],B=R[1],O=(0,n.useState)(!1),D=O[0],L=O[1],P=(0,n.useState)(""),F=P[0],q=P[1],H=(0,n.useState)(0),W=H[0],U=H[1],V=(0,n.useState)(0),j=V[0],G=V[1],Y=(0,n.useState)(!0),K=Y[0],Q=Y[1],J=(0,b.Z)().enqueueNotification,X=(0,n.useCallback)((function(){return B(!0)}),[]),$=(0,n.useCallback)((function(){return B(!1)}),[]),ee=(0,n.useMemo)((function(){if(k){var e=Math.ceil((j-W)/864e5);return e<=2?"today":e<=4?"3days":"1week"}return F}),[k,j,W,F]);(0,n.useEffect)((function(){I?(Q(!0),(0,p.ue)().then((function(e){Q(!1);var t=e.coolingOff;if(t){var r=t.on,n=t.startTime,a=t.endTime;(0,o.unstable_batchedUpdates)((function(){M(r),L(r),U(+n),G(+a)}))}})).catch((function(){return Q(!1)}))):(M(!1),L(!1),q(""))}),[I]),(0,n.useImperativeHandle)(t,(function(){return{openModal:X,closeModal:$}}),[]);var te=(0,n.useCallback)((function(e){L(e.target.checked)}),[]),re=(0,n.useMemo)((function(){return k||F.length?r("mcl-after-enable",{date:T(k,W)[0]}):"--"}),[F,r,k,W]),ne=(0,n.useMemo)((function(){return z(F,k,j)[0]}),[F,k,j]),ae=(0,n.useCallback)((function(){var e=(0,x.u_)({content:a().createElement(i.Z,{sx:Z},a().createElement(l.Z,{className:"icon"},a().createElement(f.Z,{size:[50,80]})),a().createElement(s.Z,{className:"info"},r("mcl-confirm",{period:N(F,r)})),a().createElement(l.Z,{className:"btns"},a().createElement(c.Z,{onClick:function(){return e()},sz:"l",variant:"default",colorStyle:"secondary",mr:"8px"},r("widget-common-cancel")),a().createElement(c.Z,{onClick:function(){return new Promise((function(e){(0,p.Q_)({endTime:z(F,!1,0)[1]}).then((function(t){(null===t||void 0===t?void 0:t.success)?(e(null),setTimeout((function(){("function"===typeof v?v:function(){})()}),200),$()):J(null===t||void 0===t?void 0:t.message,A)}))})).then((function(){return e()}))},sz:"l",variant:"default"},r("widget-common-confirm")))),fullScreen:!1,needCloseIcon:!1}).close}),[F,v,r]);return(0,n.useEffect)((function(){D&&!k&&q((function(e){return e.length?e:"today"}))}),[D,k]),a().createElement(E.Z,{title:a().createElement(s.Z,{fontSize:["20px"]},r("mcl-period-1")),sx:C,contentSx:S,open:I,onCloseIconClick:$},K&&a().createElement(l.Z,{className:"loading"},a().createElement(u.Z,null)),a().createElement(s.Z,{className:"desc"},r("mcl-desc")),a().createElement(d.Z,{className:"label"},a().createElement(s.Z,{className:"text",mr:"10px"},r("mcl-disable")),a().createElement(m.Z,{disabled:k,size:16,checked:D,name:"disable",onChange:te})),a().createElement(i.Z,{className:"select"},a().createElement(y.Z,{renderValue:function(e){var t;return N("string"===typeof e?e:null!==(t=null===e||void 0===e?void 0:e[0])&&void 0!==t?t:"",r)},disabled:!D||k,size:"lg",hideSearch:!0,placeholder:r("mcl-choose"),value:ee,onChange:function(e){var t;return q("string"===typeof e?e:null!==(t=null===e||void 0===e?void 0:e[0])&&void 0!==t?t:"")}},a().createElement(w.W,{value:"today"},r("mcl-today")),a().createElement(w.W,{value:"3days"},r("mcl-day-2")),a().createElement(w.W,{value:"1week"},r("mcl-week-2")))),a().createElement(l.Z,{className:"dates"},a().createElement(i.Z,{className:"wrap"},a().createElement(s.Z,{className:"name"},r("mcl-start")),a().createElement(s.Z,{className:"date"},re)),a().createElement(s.Z,{className:"sep"},"-"),a().createElement(i.Z,{className:"wrap"},a().createElement(s.Z,{className:"name"},r("mcl-end")),a().createElement(s.Z,{className:"date"},ne))),a().createElement(_.y,null,a().createElement(l.Z,{className:"btn"},a().createElement(c.Z,{onClick:ae,disabled:!D||!F.length||k,sz:"l",px:"16px",minWidth:"152px"},r("widget-common-confirm")))))}));const I=a().memo(R)},Gfh8:(e,t,r)=>{"use strict";r.d(t,{W:()=>d});var n=r("D57K"),a=r("/SIk"),o=r.n(a),i=r("2138"),l=r("pAi8"),s=r("3CnW"),c=r("sm1q"),u=r("dWMW"),d=o().forwardRef((function(e,t){var r=e.multiple,a=void 0!==r&&r,d=e.isActive,m=void 0!==d&&d,f=e.isChecked,p=void 0!==f&&f,v=e.value,h=e.disabled,g=e.showChecked,b=void 0!==g&&g,x=e.children,E=e.prefix,y=e.suffix,w=e.combo,_=(0,n.__rest)(e,["multiple","isActive","isChecked","value","disabled","showChecked","children","prefix","suffix","combo"]);return o().createElement(i.Z,(0,n.__assign)({as:"li",role:"option",id:v,key:v,title:v,ref:t,className:p?"bnb-active-option bn-sdd-option-item":"bn-sdd-option-item",__css:{color:!h&&m?"t.yellow":"t.primary",opacity:h?.4:1,cursor:h?"default":"pointer",bg:"popupBg",":hover":{bg:h?"":"bg3"},py:w?12:10,lineHeight:1}},_),o().createElement(l.Z,{className:"bn-sdd-option"},a&&o().createElement(s.Z,{checked:p,disabled:h}),E&&o().createElement(l.Z,{mr:2,alignItems:"center"},E),o().createElement(i.Z,{flex:1},x),b&&o().createElement(o().Fragment,null,o().createElement(l.Z,{flex:1,minWidth:"8px"}),o().createElement(u.Z,{color:p?"primary":"transparent"})),y&&o().createElement(i.Z,{color:"t.third",ml:"xs"},y)),w&&o().createElement(i.Z,{__css:{px:"sm"}},o().createElement(c.Z,{color:"t.third",variant:"caption",style:{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:2,WebkitBoxOrient:"vertical",lineHeight:"16px"}},w)))}));d.displayName="SearchDropdownOption"},zD1r:(e,t,r)=>{"use strict";r.d(t,{Z:()=>z});var n=r("D57K"),a=r("/SIk"),o=r.n(a),i=r("pAi8"),l=r("2138"),s=r("o+kJ"),c=r("SvcO");const u=function(e){return o().createElement(c.Z,(0,n.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),o().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 6a5 5 0 110 10 5 5 0 010-10zm0-3a8 8 0 017.021 11.838l3.07 3.07-1.59 1.591-1.591 1.591-3.07-3.07A8 8 0 1111 3z",fill:"currentColor"}))};var d=r("xl2C"),m=r("X/rk"),f=r("P/al"),p=r.n(f),v=r("eN33"),h=r.n(v),g=r("sGJY"),b=r.n(g),x=r("LF7v"),E=r.n(x),y=r("sm1q"),w=r("O94r"),_=r.n(w),C=a.forwardRef((function(e,t){var r=e.label,n=e.children,o=e.groupNameClickable,i=e.handleGroupNameClick,s=e.isActive,c=void 0!==s&&s;return a.createElement(l.Z,{as:"li",ref:t},a.createElement(l.Z,{__css:{cursor:o?"pointer":"default"},className:_()("bn-sdd-optionGroupLabel",{"is-active":c}),onClick:function(e){o&&i&&i(e)}},a.createElement(y.Z,{className:"bn-sdd-optionGroupText"},r)),a.createElement(l.Z,{as:"ul",padding:0},n))}));C.displayName="SearchDropdownOptGroup";var S=r("Gfh8"),Z=r("NYKh"),k="undefined"!==typeof window?a.useLayoutEffect:a.useEffect,M={sm:32,md:40,lg:48},A=function(e,t){return e+"-"+t},N=function(e,t,r){void 0===t&&(t=""),void 0===r&&(r={});var a=o().Children.toArray(e);return e?a.reduce((function(e,a){var o;if((null===(o=null===a||void 0===a?void 0:a.type)||void 0===o?void 0:o.displayName)===C.displayName){var i=a.props,l=i.label,s=i.children,c=(0,n.__rest)(i,["label","children"]);return e.concat(N(s,l,c))}return e.concat((0,n.__assign)((0,n.__assign)({group:t},a.props),{optGroupProps:r}))}),[]):[]},T=function(e){var t=e.disabled,r=e.label,c=e.onValueChange,f=e.limit,v=void 0===f?5:f,g=e.children,x=e.value,y=e.placeholder,w=e.defaultValue,_=e.renderValue,T=e.filterFunction,z=void 0===T?function(e,t){return t.toLowerCase().startsWith(e.toLowerCase())}:T,R=e.onChange,I=e.onBlur,B=e.multiple,O=void 0!==B&&B,D=e.showChecked,L=void 0!==D&&D,P=e.searchPlaceholder,F=e.empty,q=void 0===F?"No results found.":F,H=e.dropdownFullWidth,W=e.variant,U=void 0===W?"filled":W,V=e.hideSearch,j=void 0!==V&&V,G=e.lazy,Y=void 0!==G&&G,K=e.error,Q=void 0!==K&&K,J=e.infoText,X=e.errorText,$=e.footer,ee=e.size,te=void 0===ee?"md":ee,re=e.searchError,ne=void 0!==re&&re,ae=e.searchErrorText,oe=e.needSeo,ie=void 0===oe||oe,le=e.textFieldProps,se=void 0===le?{}:le,ce=e.groupNameClickable,ue=void 0!==ce&&ce,de=e.emphasizedGrouping,me=void 0!==de&&de,fe=e.activeGroup,pe=e.onOpenChange,ve=e.defaultOpen,he=void 0!==ve&&ve,ge=e.itemHeight,be=(0,n.__rest)(e,["disabled","label","onValueChange","limit","children","value","placeholder","defaultValue","renderValue","filterFunction","onChange","onBlur","multiple","showChecked","searchPlaceholder","empty","dropdownFullWidth","variant","hideSearch","lazy","error","infoText","errorText","footer","size","searchError","searchErrorText","needSeo","textFieldProps","groupNameClickable","emphasizedGrouping","activeGroup","onOpenChange","defaultOpen","itemHeight"]),xe=(0,a.useState)(""),Ee=xe[0],ye=xe[1],we=(0,a.useState)(w),_e=we[0],Ce=we[1],Se=(0,a.useState)(fe),Ze=Se[0],ke=Se[1],Me=(0,a.useState)(0),Ae=Me[0],Ne=Me[1],Te=(0,a.useState)(""),ze=Te[0],Re=Te[1],Ie=(0,a.useState)(0),Be=Ie[0],Oe=Ie[1],De=(0,a.useState)(he),Le=De[0],Pe=De[1],Fe=(0,a.useState)(ie),qe=Fe[0],He=Fe[1],We=(0,a.useState)({}),Ue=We[0],Ve=We[1],je=(0,a.useRef)(null),Ge=(0,a.useRef)(null),Ye=(0,a.useRef)({}),Ke=(0,a.useRef)({}),Qe=(0,a.useRef)(null),Je=(0,a.useRef)(null),Xe=o().useCallback((function(){return p()([[b()("outline"),h()("filled")],[E(),h()(U)]])(U)}),[U]),$e=o().useCallback((function(){return p()([[function(e){return!!e},h()("emphasizedGrouping")],[E(),h()("normal")]])(me)}),[me]);void 0!==x&&x!==_e&&Ce(x),void 0!==fe&&fe!==Ze&&ke(x);var et=(0,a.useMemo)((function(){return Ee?N(g).filter((function(e){return z(Ee,e.value)})):N(g)}),[g,Ee]),tt=(0,a.useMemo)((function(){return Array.isArray(et)?Math.min(et.length,v):0}),[et]),rt=(0,a.useMemo)((function(){return et.reduce((function(e,t,r){var n=t.group,a=t.optGroupProps;return e.length>0&&e[e.length-1].group===n?e[e.length-1].options.push(t):e.push({key:r,index:r,group:n,groupSeq:A(n,r),optGroupProps:a,options:[t]}),e}),[])}),[et]),nt=(0,a.useCallback)((function(){ye(""),Pe(!1),pe&&pe(!1)}),[]);(0,a.useEffect)((function(){je.current&&Oe(je.current.offsetLeft)}),[]),(0,a.useEffect)((function(){var e=Math.max(et.findIndex((function(e){return e.value===_e})),0),t=rt.findIndex((function(e){return e.group===Ze}));me&&-1!==t&&rt[t]?Re(rt[t].groupSeq):Ne(e)}),[Ee,_e,Ze]),(0,a.useEffect)((function(){if(et.length>0){var e=Ye.current[Ae],t=Ye.current[Ae+1],r=Qe.current;if(e&&r){var n=r.scrollTop,a=r.clientHeight,o=e.offsetTop;if(o-68<n)return void(r.scrollTop=o-68);o>=n+a&&t&&(r.scrollTop+=t.offsetTop-o)}}}),[Ae]),(0,a.useEffect)((function(){if(Le){window.addEventListener("click",nt),Ge.current&&Ge.current.focus();var e=ze?Ke.current[ze]:Ye.current[Ae],t=Qe.current;e&&t&&(rt.length>1?t.scrollTop=e.offsetTop:t.scrollTop=Ae*(ge||40))}else window.removeEventListener("click",nt);return function(){window.removeEventListener("click",nt)}}),[Le,ze]);var at=(0,a.useRef)(null),ot=(0,a.useState)(1),it=ot[0],lt=ot[1];k((function(){at.current&&je.current&&(at.current.clientHeight>=je.current.clientHeight?lt((function(e){return e+1})):je.current.clientHeight-at.current.clientHeight>20&&lt((function(e){return e-1})))}),[_e]);var st=function(e){c&&c(e),ye(e)},ct=function(){if(null!==Je.current){var e=Je.current.getBoundingClientRect(),t="function"===typeof getComputedStyle?getComputedStyle(Je.current):{marginLeft:"0",marginRight:"0",margin:"0"},r=t.marginLeft,a=t.marginRight,o=t.margin,i=function(e){return Number(e.split("px")[0])},l=Je.current.parentElement.getBoundingClientRect().width-i(r)-i(a)-i(o)/2;if(e.bottom+40*tt>window.innerHeight)Ve((0,n.__assign)({bottom:e.height+"px"},H&&{width:l}));else{var s=Q?X:J,c=s&&s.length>0;Ve((0,n.__assign)({mt:c?"-16px":"0px"},H&&{width:l}))}!qe&&He(!0),Pe(!0),pe&&pe(!0)}};k((function(){var e=Q?X:J,t=e&&e.length>0;Ve((function(e){return(0,n.__assign)((0,n.__assign)({},e),{mt:t?"-16px":"0px"})}))}),[X,J]);var ut=function(e){if(38===e.keyCode){e.preventDefault();var t=Math.max(Ae-1,0);Ne(t)}else if(40===e.keyCode){e.preventDefault();t=Math.min(Ae+1,et.length-1);Ne(t)}else if(13===e.keyCode)if(Le&&!O){if(et[Ae]){var r=et[Ae],n=r.label||r.value;if(r.disabled)return;st(n),R&&R(n),Ce(n),je.current&&je.current.blur()}nt()}else ct();else 27===e.keyCode&&nt()},dt=_?_(_e):Array.isArray(_e)?o().createElement(i.Z,{flexWrap:"wrap",ref:at},_e.map((function(e){return o().createElement(l.Z,{key:e,flexShrink:0,__css:{bg:"line",borderRadius:"small",my:"2px",mr:"minor",px:"xs",height:"24px",lineHeight:"24px"}},e)}))):"",mt=o().createElement(Z.Z,(0,n.__assign)({ref:je,className:"bn-sdd-input",variant:Xe(),disabled:t,error:Q,size:te,infoText:J,errorText:X,sx:{visibility:_||Array.isArray(_e)?"hidden":"visible",cursor:t?"default":"pointer"},bg:"transparent",boxProps:{sx:{height:O&&it>1?M[te]+28*(it-1)+"px":M[te],width:"100%",".bn-input-suffix":{height:"100%",mr:"xs"},cursor:t?"default":"pointer"},onClick:function(e){(e.preventDefault(),t)||(!1===Le?(document.querySelector(".bn-sdd-dropdown.showing")||e.stopPropagation(),ct()):nt())},onMouseDown:function(e){e.stopPropagation(),e.preventDefault()}},suffix:o().createElement(i.Z,{height:"100%",alignItems:"center"},o().createElement(d.Z,{sx:{transform:Le?"rotate(180deg)":"rotate(0)",color:"t.third"},size:16})),onFocus:function(e){e.stopPropagation(),e.preventDefault(),je.current&&je.current.blur(),!1===Le&&ct()},label:r,value:_e||"",onKeyDown:function(e){return ut(e)}},!x&&!_e&&{placeholder:y,sx:{visibility:"visible",cursor:t?"default":"pointer"}},se)),ft=o().createElement(l.Z,{className:"bn-sdd-innerInputContainer",width:"100%"},o().createElement(Z.Z,{ref:Ge,boxProps:{width:"100%",sx:{".bn-input-prefix":{display:"flex"},".bn-input-suffix":{display:"flex"}}},variant:Xe(),size:"md",onClick:function(e){e.stopPropagation(),e.preventDefault()},error:ne,errorText:ae,value:Ee,bg:"transparent",onChange:function(e){st(e.target.value),!1===Le&&ct()},onKeyDown:function(e){return ut(e)},onBlur:function(e){I&&I(e)},prefix:o().createElement(u,{color:"t.placeholder",ml:"8px",mr:"-8px",className:"bn-sdd-icon"}),suffix:o().createElement(m.Z,{className:"bn-sdd-icon",sx:{color:"t.placeholder",mr:"xs"},size:20,onClick:function(e){e.preventDefault(),e.stopPropagation(),ye(""),Ge.current&&Ge.current.focus()}}),placeholder:P})),pt=(0,a.useMemo)((function(){return o().createElement(l.Z,{ref:Qe,as:"ul",role:"listbox",className:"bn-sdd-list",sx:{maxHeight:40*(.7+v)+"px"}},(!Y||Le)&&rt.map((function(e){return function(e){var t=e.key,r=e.group,n=e.children,a=e.groupNameClickable,i=e.handleGroupNameClick,l=e.isActive;return r?o().createElement(C,{groupNameClickable:a,handleGroupNameClick:i,label:r,key:t,isActive:l,ref:function(e){Ke.current[A(r,t)]=e}},n):o().createElement(o().Fragment,{key:t},n)}({key:e.key,group:e.group,groupNameClickable:ue,isActive:ze===e.groupSeq,handleGroupNameClick:function(t){var r,n,a=e.group;c&&c(a),R&&R(a),Ce(a),ke(a),(null===(r=e.optGroupProps)||void 0===r?void 0:r.handleGroupNameClick)&&(null===(n=e.optGroupProps)||void 0===n||n.handleGroupNameClick(t))},children:e.options.map((function(t,r){t.group;var a=(0,n.__rest)(t,["group"]),i=e.index+r;return o().createElement(S.W,(0,n.__assign)((0,n.__assign)({},a),{key:i,multiple:O,isActive:ze?ze===e.groupSeq&&!O:Ae===i&&!O,isChecked:Array.isArray(_e)?-1!==_e.indexOf(a.value):a.value===_e,showChecked:L,ref:function(e){return Ye.current[i]=e},onClick:function(e){if(e.stopPropagation(),!a.disabled){var t;if(O||Ne(i),O){var r=Array.isArray(_e)?new(Array.bind.apply(Array,(0,n.__spreadArray)([void 0],_e))):[],o=r.indexOf(a.value);-1===o?r.push(a.value):r.splice(o,1),t=r}else t=a.value;c&&c(t),R&&R(t),Ce(t),ke(""),O||nt()}}}))}))})})))}),[Qe,v,Y,Le,rt,Ae,_e]);return o().createElement(l.Z,(0,n.__assign)({tx:"searchDropdown",variant:$e(),ref:Je},be),mt,dt&&o().createElement(l.Z,{className:"bn-sdd-value",sx:{height:O&&it>1?M[te]+28*(it-1)+"px":M[te],position:"absolute",display:"flex",alignItems:"center",left:Be||0,bottom:0,right:0,pointerEvents:"none",wordBreak:"keep-all",fontSize:"sm",lineHeight:1,color:t?"t.disabled":"t.primary"}},dt),qe&&o().createElement(s.ZP,{container:Je.current},o().createElement(l.Z,{className:"bn-sdd-dropdown "+(Le?"showing":"closing"),__css:(0,n.__assign)({outline:"none",height:"auto",display:Le?"block":"none",width:"auto!important",minWidth:"100%!important"},Ue)},!j&&ft,0===rt.length&&o().createElement(l.Z,{className:"bn-sdd-noResults"},q),pt,$)))};T.displayName="SearchDropdown";const z=o().memo(T)},M2Tf:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r("D57K"),a=r("/SIk"),o=r.n(a),i=r("uH8x"),l=r("o+kJ"),s=r("uw7B"),c=r("nxFc"),u=r("l29r"),d=r("7lBF"),m=r("NauM"),f=function(){return"undefined"!==typeof window?document.body.offsetHeight:0};const p=o().forwardRef((function(e,t){var r=this,p=e.arrow,v=void 0!==p&&p,h=e.boundary,g=e.delay,b=void 0===g?0:g,x=e.container,E=e.tip,y=e.placement,w=e.pos,_=e.children,C=e.open,S=e.trigger,Z=void 0===S?"hover":S,k=e.scroll,M=void 0===k||k,A=e.resize,N=void 0===A||A,T=e.enablePortal,z=void 0!==T&&T,R=e.leaveDelay,I=void 0===R?0:R,B=e.boxOffset,O=void 0===B?0:B,D=e.arrowPadding,L=void 0===D?0:D,P=e.onlyShowOnHover,F=void 0!==P&&P,q=e.bg;y=y||w||"top",y="rtl"===(0,s.Z)()?m.O9[y]:y;var H=o().useRef(null!=C).current,W=(0,a.useState)(null),U=W[0],V=W[1],j=(0,a.useState)(null),G=j[0],Y=j[1],K=(0,a.useState)(null),Q=K[0],J=K[1],X=o().useRef(0),$=o().useRef(0),ee=(0,c.D)(U,G,{placement:y,modifiers:[{name:"eventListeners",options:{scroll:M,resize:N}},{name:"arrow",options:{element:Q,padding:L}},{name:"offset",options:{offset:[O||0,m.SG]}},{name:"computeStyles",options:{adaptive:!1,gpuAcceleration:!1}},{name:"flip",options:{boundary:h}}]}),te=ee.styles,re=ee.attributes,ne=ee.update,ae=ee.state,oe=o().useMemo((function(){return(0,m.BP)(null===ae||void 0===ae?void 0:ae.placement)}),[null===ae||void 0===ae?void 0:ae.placement]),ie=(0,a.useState)(C),le=ie[0],se=ie[1];o().useEffect((function(){return function(){$.current&&window.clearTimeout($.current),$.current=0}}),[le]),H&&(Z=void 0,C!==le&&se(C));var ce=(0,i.Z)(V,t),ue="click"===Z?function(e){$.current&&window.clearTimeout($.current),X.current=0,$.current=0,se(!le),ne&&ne(),_.props.onClick&&_.props.onClick(e)}:_.props.onClick,de="hover"===Z?function(e){!le&&window.performance.now()-X.current>500&&($.current=b?$.current||window.setTimeout((function(){return se(!0)}),b):(se(!0),0),ne&&ne(),X.current=window.performance.now()),_.props.onMouseMove&&_.props.onMouseMove(e)}:_.props.onMouseMove,me="hover"===Z?function(e){return(0,n.__awaiter)(r,void 0,void 0,(function(){return(0,n.__generator)(this,(function(t){return I?setTimeout((function(){$.current&&window.clearTimeout($.current),X.current=0,$.current=0,se(!1),ne&&ne(),_.props.onMouseLeave&&_.props.onMouseLeave(e)}),I):($.current&&window.clearTimeout($.current),X.current=0,$.current=0,se(!1),ne&&ne(),_.props.onMouseLeave&&_.props.onMouseLeave(e)),[2]}))}))}:_.props.onMouseLeave,fe=(0,n.__assign)((0,n.__assign)({},_.props),{onClick:ue,onMouseMove:de,onMouseLeave:me,ref:ce}),pe=F?{appear:!0,mountOnEnter:!0,unmountOnExit:!0,onEnter:f}:{};return o().createElement(o().Fragment,null,o().cloneElement(_,fe),o().createElement(u.ZP,(0,n.__assign)({in:le,timeout:m.x9},pe),(function(e){return x||z?o().createElement(l.ZP,{container:x},o().createElement(d.Z,(0,n.__assign)({open:!0,arrow:v,arrowStyle:te.arrow,style:(0,n.__assign)((0,n.__assign)((0,n.__assign)({},te.popper),m.hy),oe[e]),bg:q,arrowRef:J,ref:Y},re.popper),E)):o().createElement(d.Z,(0,n.__assign)({open:!0,arrow:v,arrowStyle:te.arrow,style:(0,n.__assign)((0,n.__assign)((0,n.__assign)({},te.popper),m.hy),oe[e]),bg:q,arrowRef:J,ref:Y},re.popper),E)})))}))},"sFG+":(e,t,r)=>{"use strict";r.d(t,{Wg:()=>o});var n=r("bZjk"),a="lang";function o(e,t){void 0===e&&(e="en"),void 0===t&&(t=365),n.Q.erase(a),n.Q.write(a,e.toLowerCase(),t)}},hfkW:(e,t,r)=>{"use strict";r.d(t,{P:()=>a});var n=r("D57K"),a=function(e,t){var r;return function(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var i=+new Date;(!r||i-r>t)&&(e.call.apply(e,(0,n.__spreadArray)([null],a)),r=i)}}}}]);