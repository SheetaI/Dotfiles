(self["webpackJsonp_trade-spot"]=self["webpackJsonp_trade-spot"]||[]).push([[9376],{"91N5":(e,t,r)=>{"use strict";r.d(t,{I:()=>l});var o=r("D57K"),a=r("Uqe+"),i=r("frZ3"),s=r("/SIk"),n={hasCountDown:!1,deadLine:void 0,countDownType:void 0,cacheTime:0,hasFetch:!1},l=function(e){var t=e.delay,r=void 0===t?30:t,l=e.isLogin,c=e.handleInterface,u=(0,a.Z)("POAStorage",n),d=u[0],p=u[1],h=null===d||void 0===d?void 0:d.cacheTime,m=function(){return(0,o.__awaiter)(void 0,void 0,void 0,(function(){var e,t;return(0,o.__generator)(this,(function(r){switch(r.label){case 0:return l?[4,c()]:[3,2];case 1:return e=r.sent(),t=(0,o.__assign)((0,o.__assign)((0,o.__assign)({},d),e),{cacheTime:(new Date).getTime(),hasFetch:!0}),p(t),[3,3];case 2:p(n),r.label=3;case 3:return[2]}}))}))};return(0,s.useEffect)((function(){(null===d||void 0===d?void 0:d.hasFetch)||m()}),[null===d||void 0===d?void 0:d.hasFetch,l]),(0,i.Z)((function(){var e=(new Date).getTime();l&&(null===d||void 0===d?void 0:d.hasFetch)&&h&&((e-h)/1e3/60>=r&&m());l||p(n)}),1e4),l?d:n}},"/7vA":(e,t,r)=>{"use strict";r.d(t,{$M:()=>s,Gi:()=>n});var o=r("D57K"),a=r("Qlon");function i(e,t,r){var o="/";return Number(t)/10>Number(e)?(t=r,o=">1000%"):+t>0?(o=(0,a.Bq)(+(0,a.QZ)((0,a.h9)(t,e),e).toFixed(20),1,{allowNegative:!0}),t=(+t).toFixed(Number(t)<1?8:2)):t="/",[t,o]}var s=function(e){var t=e.mode,r=e.bigLiquidationText,s=e.userAssets,n=e.priceIndexMap,l=e.forceLiquidationBar,c=s.reduce((function(e,r){return(0,a.PD)(e,(0,a.Jp)(r.totalDebt,n[r.asset+t]).toString())}),(0,a.PD)(0)),u=s.reduce((function(e,r){return(0,a.PD)(e,(0,a.Jp)(r.totalAmount,n[r.asset+t]).toString())}),0);return s.map((function(e){var s,d,p="/",h="/",m="/",g=n[e.asset+t]||0,f=(0,a.Jp)(e.netAsset,g).toFixed(4);if(0===+f&&(f="0.0000"),e.asset!==t){if(p=g,0!==+e.netAsset){var x=(0,a.h9)(c,(0,a.Jp)(e.totalDebt,p)).toFixed(20),y=(0,a.h9)(u,(0,a.Jp)(e.totalAmount,p)).toFixed(20);h=(s=i(p,h=(0,a.QZ)((0,a.h9)((0,a.Jp)(l,x),y),(0,a.h9)(e.totalAmount,(0,a.Jp)(l,e.totalDebt))).toFixed(20),r))[0],m=s[1]}p=(+p).toFixed(Number(p)<1?8:2)}return(0,o.__assign)((0,o.__assign)({},e),((d={mode:t})["priceIndex"+t]=p,d["_netAssetOf"+t]=f,d["liquidationPrice"+t]=h,d["liquidationPercent"+t]=m,d))}))},n=function(e){var t,r=e.bigLiquidationText,o=e.baseAsset,s=e.quoteAsset,n=e.priceIndexMap,l=e.forceLiquidationBar,c="/",u=o.total,d=o.asset,p=o.totalDebt,h=o.netAssetOfBtc,m=s.total,g=s.asset,f=s.totalDebt,x=s.netAssetOfBtc,y=d+g;c=n[y]?n[y]:(0,a.QZ)(n[d+"USDT"],n[g+"USDT"]).toFixed(8);var b="/",v="/";return 0!==+h&&0!==+x&&(b=(t=i(c,b=(0,a.QZ)((0,a.h9)((0,a.Jp)(f,l),m),(0,a.h9)(u,(0,a.Jp)(p,l))).toFixed(20),r))[0],v=t[1]),[{mode:"BTC",isCross:!1,priceIndexBTC:c=(+c).toFixed(Number(c)<1?8:2),asset:{base:d,quote:g},_netAsset:{base:o._netAsset,baseName:d,quoteName:g,quote:s._netAsset},_netAssetOfBTC:{base:h,quote:x},liquidationPriceBTC:b,liquidationPercentBTC:v}]}},MwrP:(e,t,r)=>{var o=r("4uJK"),a=r("kkM+"),i=r("bvyN"),s=r("wxYD"),n=r("9y2L"),l=r("3ajY"),c=r("CbIe"),u=r("Qd2C"),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(n(e)&&(s(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||u(e)||i(e)))return!e.length;var t=a(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!o(e).length;for(var r in e)if(d.call(e,r))return!1;return!0}},FG74:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Ne});var o=r("/SIk"),a=r.n(o),i=r("szIg"),s=r("6ppZ"),n=r("WV5D"),l=r("fmvO");r("i0RN"),r("l4n0");var c=r("sZZk");var u=r("/MJE");const{onUserSettingsChange:d,getUserSettings:p}=u.Z;var h=r("WEa+"),m=r("o5U9"),g=r("IINT"),f=r("MwrP"),x=r.n(f),y=r("1uFz"),b=r("lFOu");const v=new Map([[b.ChartType.two,2],[b.ChartType.three,3],[b.ChartType.four,4],[b.ChartType.six,6]]),S=new Set([b.ChartType.two,b.ChartType.three,b.ChartType.four,b.ChartType.six]);class w{static getNumber(e){return v.get(e)||2}static getChartTypeFromQs(e){return"string"===typeof e&&S.has(e)?e:b.ChartType.two}static isSix(e){return e===b.ChartType.six}}var Z=r("goYI"),T=r("Uqe+"),C=r("bZjk"),P=r("J3yZ"),A=r("dHYI");const k=()=>{const e=(0,l._n)(),t=(0,l.Q4)(),r=(0,g.useDispatch)();(0,h.M)(),(0,o.useEffect)((()=>{e&&r.market.queryFavorites()}),[e,r.market,r.exchangeInfo,r.products]),(0,o.useEffect)((()=>{e&&r.userCenter.queryUserConfig(t)}),[e,t,r.userCenter])},F=()=>{const{type:e}=(0,l.lr)(),t=(0,l.AM)(),r=(0,g.useDispatch)(),a=(0,l.c0)(),i=w.getChartTypeFromQs(e);(0,o.useEffect)((()=>{"string"!==typeof i||x()(t)||r.chartType.initSpot({chartType:i,symbolList:y.Z.getSpotChartSymbol(a),products:t,isSpot:a})}),[i,r.chartType,t])},D=e=>{const t=(0,i.useSelector)(Z.makeSpotType);(0,o.useEffect)((()=>{const r=w.getNumber(t);document.title=[r,"Charts",s.jX?`${e} ${s.jX}`:e].join(" | ")}),[t,e])},_=()=>{k(),(0,m.y$)(),(()=>{const e=(0,i.useDispatch)(),t=C.Q.read(s.yJ)||(0,T.Z)(s.EK)[0],[r]=(0,T.Z)(s.Eb);let{layout:a}=(0,P.l)();a=(0,A.XY)([s.UW,s.$f,s.rh],a,"");const n=a||r||s.rh;(0,o.useEffect)((()=>{s.sk||e.setting.updateState({color:t||s.Pe,layout:n})}),[s.sk])})(),F(),D("Binance Spot")};var E=r("5vwO"),M=(r("dM5B"),r("2138")),L=r("yjzf"),I=r("JwA9"),q=r("cEEj"),B=r("IXfK"),N=(r("t9vY"),r("pAi8")),R=a().createElement;const J=(0,o.memo)((function(e){return R(N.Z,Object.assign({__css:{flexDirection:["column","row"],justifyContent:"space-between",alignItems:["flex-start","center"]}},e))}));var j=r("sm1q"),O=a().createElement;const W=({priceColor:e,currentPrice:t,subPrice:r,sx:o,subPriceSx:a})=>O(N.Z,{sx:(0,E.Z)({flexDirection:"column",width:"75px"},o)},t&&O(j.Z,{sx:{color:e,fontSize:["32px",2],display:"flex",alignItems:"center"},className:"showPrice"},t),r&&O(j.Z,{className:"subPrice",sx:(0,E.Z)({fontSize:[1,0],color:"t.third",lineHeight:["22px","inherit"]},a)},r)),z=(0,o.memo)(W);var Q=a().createElement;const $={fontSize:"10px",mr:["minor",0],mb:[0,"2px"],color:"t.third",lineHeight:"16px",fontWeight:"normal",textAlign:"left",borderBottom:"1px solid transparent"},G=(0,o.memo)((({priceStyle:e,children:t})=>Q(j.Z,{__css:(0,E.Z)({fontSize:"12px",color:"t.primary"},e)},t))),U=(0,o.memo)((({labelStyle:e,children:t})=>Q(j.Z,{__css:(0,E.Z)((0,E.Z)({},$),e),variant:"layouts.ellipsis"},t))),X=(0,o.memo)((function({label:e,labelStyle:t,price:r,priceStyle:o,className:a,id:i}){return Q(M.Z,{className:a,id:i},Q(U,{labelStyle:t},e),Q(G,{priceStyle:o}," ",r," "))}));var Y=r("ZHrj"),H=a().createElement;const K=({layout:e,data:t,isFullScreen:r,children:a})=>{var i,s;const n=(0,o.useRef)(),{isLight:c}=(0,l.Fg)(),{1:u}=(0,o.useState)(0),{0:d,1:p}=(0,o.useState)(!1),h=null===(i=n.current)||void 0===i?void 0:i.clientWidth;(0,o.useEffect)((()=>{var e,t,r;const o=(null===(e=n.current)||void 0===e?void 0:e.scrollWidth)>(null===(t=n.current)||void 0===t?void 0:t.clientWidth)+(null===(r=n.current)||void 0===r?void 0:r.scrollLeft);p(o)}),[h]);const m=(0,o.useCallback)((()=>{u(Date.now())}),[]),g=(0,o.useCallback)((e=>{n.current.scrollLeft-=100,m()}),[m]),f=(0,o.useCallback)((e=>{n.current.scrollLeft+=100,m()}),[m]),x=(0,o.useMemo)((()=>(0,Y.U5)({isLight:c,isFullScreen:r})),[c,r]),y=(0,o.useMemo)((()=>(0,Y.eE)({isLight:c,isFullScreen:r})),[c,r]);return H(N.Z,{sx:{position:"relative"}},Boolean(null===(s=n.current)||void 0===s?void 0:s.scrollLeft)&&H(M.Z,{onClick:g,sx:x}),H(M.Z,{sx:e,ref:n,onScroll:m},t&&t.map((({label:e,labelStyle:t,price:r,priceStyle:o,key:a,sx:i})=>H(X,{label:e,labelStyle:t,price:r,priceStyle:o,key:a,sx:i}))),a),Boolean(d)&&H(M.Z,{onClick:f,sx:y}))},V=(0,o.memo)(K);var ee=r("utsm");function te({multipleSymbol:e}){const{shouldChangeLayout:t}=function({multipleSymbol:e}){const t=(0,c.useMediaQuery)({maxWidth:1219}),r=(0,i.useSelector)(Z.makeSpotType);return{shouldChangeLayout:(0,o.useMemo)((()=>!!(e&&w.isSix(r)&&t)),[r,e,t])}}({multipleSymbol:e}),r=function({shouldChangeLayout:e}){const{isLight:t}=(0,l.Fg)();return{layoutSx:(0,o.useMemo)((()=>{const t={flex:[1],flexWrap:"nowrap",display:"flex",alignItems:"center",pl:"24px",ml:"16px",mr:"8px",position:"relative",borderLeft:"1px solid rgba(255, 255, 255, 0.08)"};return e?(0,E.Z)((0,E.Z)({},t),{},{flexDirection:"column !important",alignItems:"flex-start !important"}):t}),[e]),nowPriceSx:(0,o.useMemo)((()=>{const t={};return e?(0,E.Z)((0,E.Z)({},t),{},{mb:"4px"}):(0,E.Z)((0,E.Z)({},t),{},{mr:"24px"})}),[e]),subPriceSx:(0,o.useMemo)((()=>({color:t?"t.primary":"#E6E8EA"})),[t])}}({shouldChangeLayout:t});return(0,E.Z)((0,E.Z)({},r),{},{shouldChangeLayout:t})}var re=a().createElement;const oe=({sx:e,mode:t,isFullScreen:r,multipleSymbol:o,multipleSymbols:a,multipleCurrentProduct:i,children:n})=>{const{currentPrice:l,priceColor:c,subPrice:u,list:d}=(0,ee.L8)({multipleSymbol:o,multipleSymbols:a,multipleCurrentProduct:i,useMiniTicker:!0}),{layoutSx:p,nowPriceSx:h,subPriceSx:m}=te({multipleSymbol:o});return re(M.Z,{sx:(0,E.Z)({px:["sm","sm",0],pt:["12px",0],display:"flex"},e)},re(N.Z,null,re(M.Z,{sx:{display:"flex"},className:"left"},re(J,{sx:{mr:["xs","0"],flex:"none",borderRight:t===s.$f?"1px solid":"",borderColor:t===s.$f?"rgba(255, 255, 255, 0.08)":""}},re(M.Z,{sx:{display:"flex",alignItems:"center",flex:1}},n))),re(J,{sx:p},re(z,{sx:h,currentPrice:l,priceColor:c,subPrice:u,subPriceSx:m}),re(V,{layout:Y.bK,data:d,isFullScreen:r}))))},ae=a().memo(oe),ie=(0,E.Z)((0,E.Z)({},{display:"grid",width:"100vw",height:"100vh",minHeight:"680px"}),{},{height:"calc(100vh - 25px)"}),se={display:"grid",overflowY:"hidden",overflowX:"hidden",width:"100%",height:"100%",gridTemplateColumns:"100%",gridTemplateRows:"auto 1fr",gridTemplateAreas:'\n    "subheader subheader"\n    "chart chart"'},ne={display:"grid",overflowY:"hidden",overflowX:"hidden",width:"100%",height:"100%",minHeight:"100vh",gridGap:"4px",gridTemplateColumns:"50% 50%",gridTemplateRows:"minmax(56px,auto) 1fr",gridTemplateAreas:'"header header"\n    "chart0 chart1"'},le=(0,E.Z)((0,E.Z)({},ie),{},{overflow:"hidden",display:"grid",width:"100vw",gridGap:"4px",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"minmax(56px,auto) 1fr 1fr",gridTemplateAreas:'"header header"\n    "chart0 chart0"\n    "chart1 chart2"'}),ce=(0,E.Z)((0,E.Z)({},ie),{},{overflow:"hidden",display:"grid",width:"100vw",gridGap:"4px",gridTemplateColumns:"50% 50%",gridTemplateRows:"minmax(56px,auto) 0.5fr 0.5fr",gridTemplateAreas:'"header header"\n    "chart0 chart1"\n    "chart2 chart3"'}),ue=(0,E.Z)((0,E.Z)({},ie),{},{overflow:"hidden",display:"grid",width:"100vw",gridGap:"4px",gridTemplateColumns:"33% 33% 33%",gridTemplateRows:"minmax(56px,auto) 0.5fr 0.5fr",gridTemplateAreas:'"header header header"\n    "chart0 chart1 chart2"\n    "chart3 chart4 chart5"'}),de={display:"grid",overflowY:"hidden",overflowX:"hidden",width:"100%",height:"100%",minHeight:"100vh",gridGap:"4px",gridTemplateColumns:"50% 50%",gridTemplateRows:"1fr",gridTemplateAreas:'"chart0 chart1"'},pe=(0,E.Z)((0,E.Z)({},ie),{},{overflow:"hidden",display:"grid",width:"100vw",gridGap:"4px",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"1fr 1fr",gridTemplateAreas:'\n    "chart0 chart0"\n    "chart1 chart2"'}),he=(0,E.Z)((0,E.Z)({},ie),{},{overflow:"hidden",display:"grid",width:"100vw",gridGap:"4px",gridTemplateColumns:"50% 50%",gridTemplateRows:"0.5fr 0.5fr",gridTemplateAreas:'\n    "chart0 chart1"\n    "chart2 chart3"'}),me=(0,E.Z)((0,E.Z)({},ie),{},{overflow:"hidden",display:"grid",width:"100vw",gridGap:"4px",gridTemplateColumns:"33% 33% 33%",gridTemplateRows:"0.5fr 0.5fr",gridTemplateAreas:'\n    "chart0 chart1 chart2"\n    "chart3 chart4 chart5"'});var ge=r("+M9D"),fe=r("5VFz"),xe=r("DDay"),ye=r("6Afj"),be=r("yxts"),ve=r("qUSG"),Se=r("DLSV"),we=a().createElement;const Ze=(0,ye.SA)((()=>Promise.all([r.e(2567),r.e(8016),r.e(2639),r.e(5232),r.e(8601),r.e(5635),r.e(8673),r.e(5789)]).then(r.bind(r,"vwrl"))),"csr"),Te=({hasCare:e=!0,symbol:t,symbols:r})=>{const i=(0,o.useRef)(),{symbolsMap:s}=(0,m.KW)(),{marginRatio:n}=s[t]||{},{isMobile:c}=(0,l.Fs)(),u=(0,l.rX)(),d=(0,l.c0)();return we(a().Fragment,null,we(N.Z,{sx:{alignItems:"center",height:["auto","30px"],flexWrap:"wrap"}},we(j.Z,{ref:i,sx:{color:"t.primary",fontWeight:"medium",mr:"8px"}},we("h1",{style:{fontSize:"16px"}}," ",r.join("/"))),u&&we(fe.Z,null),!d&&n&&we(ge.Z,{size:"l"},n),we(xe.RiskyTag,null),e&&we(Se.Z,{size:18,color:"t.grey300"}),u&&c&&we(fe.Z,null)))},Ce=({contentSx:e,children:t})=>we(N.Z,{sx:(0,E.Z)({flexDirection:"column",mr:[0,"20px"],ml:[0,1]},e)},t),Pe=({symbol:e,symbols:t,onChangeProduct:r})=>we(a().Fragment,null,we(be.ZP,{trigger:"click",sx:{"&:hover":{cursor:"pointer"}},enablePortal:!0,overlay:we(ve.Z,{id:"marketSymbol",sx:{bg:"popupBg",left:[0],pl:0,pt:"xs",pr:0,pb:"xs",width:420,maxWidth:"calc(100vw - 32px)",height:[450,320],maxHeight:"100vh",borderRadius:"4px"}},we(Ze,{showCoinInfo:!1,noFiat:!0,changeSymbolCb:r,bgColor:"popupBg"}))},we(Ce,null,we(Te,{symbol:e,symbols:t}))));var Ae=a().createElement;const ke=(0,A.SA)((()=>Promise.all([r.e(2567),r.e(8016),r.e(2639),r.e(5232),r.e(8601),r.e(5635),r.e(8673),r.e(5789)]).then(r.bind(r,"tiit"))),"csr"),Fe=[0,1,2,3,4,5],De=({symbol:e="",onChangeProduct:t,currentProduct:r={}})=>{const o=[r.baseAsset,r.quoteAsset];return Ae(I.Z,{sx:{width:"100%",height:"100%",bg:"orderformBg",gridArea:"subheader",pt:"8px",pb:"8px",pl:"12px"},name:"subheader"},Ae(ae,{sx:void 0,isFullScreen:!1,mode:"",multipleSymbols:o,multipleSymbol:e.replace("_",""),multipleCurrentProduct:r},Ae(Pe,{onChangeProduct:t,symbol:e.replace("_",""),symbols:o})))},_e=({name:e,symbol:t=""})=>Ae(I.Z,{sx:{width:"100%",height:"100%",bg:"moduleBg",gridArea:"chart"},name:"chart"},Ae(B.default,{symbol:t.replace("_",""),useMiniTicker:!0,namespace:e,generateToolbar:(0,B.createMainToobar)({headerSlot:null,closeButton:null,isPro:!1,showFullscreenIcon:!1,showChartModeDropdown:!1,tabKeys:[L.k.Store.Tabs.Origin,L.k.Store.Tabs.Depth]})})),Ee=()=>{const e=(0,i.useSelector)(Z.makeSpotType),t=(0,i.useSelector)(Z.makeSpotSymbol),r=(0,g.useDispatch)(),o=(0,l.AM)(),s=w.getNumber(e),n=(0,l.c0)();return Ae(a().Fragment,null,Ae(q.Z,{type:"desktop"},Ae(M.Z,{sx:(c=e,"two"===c?de:"three"===c?pe:"four"===c?he:"six"===c?me:"two"===c?ne:"three"===c?le:"four"===c?ce:"six"===c?ue:void 0)},!1,(()=>{var a;const i=Fe.slice(0,s);return!x()(o)&&e&&(null===(a=t[e])||void 0===a?void 0:a.length)>0?i.map((a=>{const i=t[e][a]||"",l=o[i];return Ae("div",{key:a,style:(0,E.Z)((0,E.Z)({},se),{},{gridArea:`chart${a}`})},Ae(De,{name:`${e}-${a}`,symbol:i,onChangeProduct:e=>((e,t)=>{r.chartType.changeSpotSymbol({symbol:e,position:t,isSpot:n})})(e.resPathList[0],a),currentProduct:l}),Ae(_e,{currentProduct:l,name:`${s}-${a}`,symbol:i}))})):null})()),Ae(ke,null)));var c};var Me=r("eq6d"),Le=r("wbLk"),Ie=r("Qkkg"),qe=a().createElement;function Be(){(()=>{const e=(0,i.useDispatch)();(0,o.useEffect)((()=>{{const t=t=>{e.setting.updateState({color:t.colorScheme,theme:t.theme})};(async()=>{const e=await p();t(e)})(),d(t)}}),[])})(),_(),(0,m.Me)();const{i18nLoaded:e}=(0,o.useContext)(n.I),t=(0,i.useSelector)((e=>e.products.loading)),r=(0,i.useDispatch)();return(0,o.useEffect)((()=>{r.userCenter.checkLogin()}),[]),qe(Ie.Z,null,qe(a().Fragment,null,s.sk||!e||t&&qe(Le.Z,{fixed:!0}),!s.sk&&qe(Ee,null)))}Be.getInitialProps=async e=>{const{params:{lng:t},appContext:{store:{dispatch:r},req:o}}=e,[a,i]=await Promise.all([(0,Me.yE)(),(0,Me.vF)(t)]);return r.pageStore.updateState({currency:a,tradeType:s.xy.SPOT,page:s.qX.TRADE,marketTags:i||{list:[],riskys:[],listMap:{}}}),{lang:t}};const Ne=Be}}]);